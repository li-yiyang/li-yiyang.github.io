<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>理论力学 (期末) | My Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="理论力学 (期末)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="理论力学的期末复习 下半个学期应该是从谐振子开始的. 但是还是先从不是很熟练的哈密顿部分开始. 哈密顿力学 哈密顿量并没有减少求解力学问题的困难, 实际上和拉格朗日方法是等价的. 哈密顿力学的好处不仅是其将 $s$ 个二阶微分方程降阶为 $2s$ 个一阶微分方程, 更是能够将坐标和动量降到相同的地位. (在之后的正则变换里面, 可以看到更加有趣的部分, 比如将动量看作新的正则坐标之类的. ) 在构筑更为近代的物质理论方面有不可缺少的作用. 勒让德变换 从拉格朗日力学到哈密顿力学的变换. $$L(q_&alpha;, \dot{q}_&alpha;, t) &rArr; H(q_k, p_k, t)$$ 想法是让一个二阶的方程: $\frac{\mathrm{d}}{\mathrm{d}t}(\frac{&part; L}{&part; \dot{q}})-\frac{&part; L}{&part; q}$ 能够变成低阶微分方程. 或者是不想关心计算的时候的 $t$, 就像是将 $\ddot{q} = \dot{q}\frac{\mathrm{d}\dot{q}}{\mathrm{d}q}$ 一样. 定义变换为: $$H(q, p, t) = H(q, \dot{q}, t) = \dot{q}\frac{&part; L}{&part; \dot{q}} - L(q, \dot{q}, t)$$ 于是得到 $H$ 的表达式. 类似的还有 Routhian 方程, 通过对可遗坐标 ($\frac{&part; L}{&part; q} = 0$) 进行勒让德变换, 来减少上面的变换的麻烦的地方: $$R(q_l, \dot{q}_&alpha;, p_k, t) = \dot{q}_k p_k - L(q_l, \dot{q}_l, t) = H - \dot{q}_&alpha; p_&alpha;$$ 正则方程 从哈密顿方程和拉格朗日方程显然可以得到正则方程: $$\left\{\begin{array}{lll}\ \dot{p} &amp; = &amp; -\frac{&part; H}{&part; q}&#92;&#92; \ \dot{q} &amp; = &amp; \frac{&part; H}{&part; p}\ \end{array}\right.$$ 其实很好理解. 因为有 $p = \frac{&part; L}{&part; \dot{q}}$, 以及 $\frac{&part; H}{&part; q} = - \frac{&part; L}{&part; q}$, 还有 $\frac{&part; H}{&part; t} = - \frac{&part; L}{&part; t}$, 于是对时间求导即可. 正则变换 将相空间 $(q, p) \mapsto (q^*, p^*)$, 变换得到新的相空间. (有点像是线性代数里面的基底变换&#8230; ), 如果变换后的哈密顿量仍然满足正则方程, 那么就称为正则变换. 并且通过正则变换, 还能够得到更多的循环积分 (可遗坐标). (也就是为什么要进行正则变换的原因). 对于作用量在变换的过程中: $$S = &int; L \mathrm{d}t \mapsto S^* = &int; L^* \mathrm{d}t$$ 因为变换是对同一运动的不同表述, 仍应该有: $$&delta; S = &delta; S^* = 0$$ 于是有: $$&delta; &int; (p\mathrm{d}q - H\mathrm{d}t) = &delta;\int(p^*\mathrm{d}q^* - H^*\mathrm{d}t) = 0$$ 即: $$&lambda; (p\dot{q} - H) = (p^* \dot{q}^* - H^*) + \frac{\mathrm{d}F}{\mathrm{d}t}$$ 其中的 $F$ 来自于这样的一个结论: 对拉氏量加上或者减去一个对时间的全导数, 仍描述原来的运动. 可以看作是拉氏量不确定性的推广. 称这样的函数为正则变换的母函数 $F$ 其中的 $&lambda;$ 为标度变换因子 ($&lambda; = 1$) Pfaff 方程 对于上面的方程, 变换得到 Pfaff 方程: $$p\mathrm{d}q - p^*\mathrm{d}q^* - (H - H^*)\mathrm{d}t = \mathrm{d}F$$ 其中, 根据 $F$ 是什么的函数, 以及作用量的类型: $S_A = &int;(p\mathrm{d}q - H\mathrm{d}t)$ $S_B = -&int;(q\mathrm{d}p + H\mathrm{d}t)$ 将 $F$ 分为四类: $F_1(q, p^*, t), S_A = S_A^*$ 于是有 $$\mathrm{d}F = \frac{&part; F_1}{&part; q}\mathrm{d}q + \frac{&part; F_1}{&part; p^*}\mathrm{d}p^* + \frac{&part; F_1}{&part; t}\mathrm{d}t$$ 进而带入 Pfaff 方程, 有: $$p = \frac{&part; F_1}{&part; q}$$ $$p^* = -\frac{&part; F_1}{&part; q^*}$$ $$H^* = H + \frac{&part; F_1}{&part; t}$$ $F_2(q, p^*, t), S_A = S_B^*$ $F_3(p, p^*, t), S_B = S_B^*$ $F_4(p, q^*, t), S_B = S_A^*$ 通过这样一系列的变换的方式, 可以将 $H$ 中的 $p, q$ 都一个个换成 $p^*, q^*$, 有点像是热力学里面的 $F = U - TS$ 这样的变换. 验证正则变换 对变换 $(q, p, t) \mapsto (Q, P, t)$, 为了验证是否为正则变换, 一个简单的方法就是通过验证其 Jacobbi 矩阵 (的绝对值) 是否为 $1$. $$J = \frac{&part; (P, Q)}{&part; (p, q)} ?= 1$$ 或者可以通过构造母函数 $F$ 的方式来验证 无穷小正则变换 $$F(q^*, p^*, t) = \cdots + &epsilon; G(q^*, p^*, t)$$ 其中, $G$ 为无穷小正则变换的生成函数. 泊松括号 定义泊松括号为: $$[f, g] = \frac{&part; f}{&part; p_k}\frac{&part; g}{&part; q_k} - \frac{&part; f}{&part; q_k}\frac{&part; g}{&part; p_k}$$ (注: 不同的书里面的正负号定义不一定一样, 这里定义是 $p, q$ 这样的顺序. ) 于是可以用力学量和力学系统之间的关系来表示力学量对时间的全微分: $$\frac{\mathrm{d}f}{\mathrm{d}t} = \frac{&part; f}{&part; t} + [H, f]$$ 于是可以用泊松括号来表示正则方程: $$\dot{q}_k = [H, q_k], \dot{p}_k = [H, p]$$ 嗯, 简洁又好看. 然后再利用计算的一些便捷小技巧: 基本元素: $[q_k, q_l] = 0, [p_k, p_l] = 0$ $[p_k, q_l] = &delta;_{kl}$, $[q_k, p_l] = -&delta;_{kl}$ $\dot{q} = [H, q], \dot{p} = [H, p] &rArr; \dot{f} = [H, f]$ $[f, q] = \frac{&part; f}{&part; p}, [f, p] = -\frac{&part; f}{&part; q}$ $[c, f] = 0$ 常数的泊松括号 双线性 $[&sum;_i &alpha;_i f_i, &sum;_j &beta;_j g_j] = &sum;_i&sum;_j &alpha;_i&beta;_j [f_i, g_j]$ 反对称 $[f, g] = - [g, f]$ 算符 $[f_1 f_2, g] = f_1[f_2, g] + f_2[f_1, g]$ 对偏导 $\frac{&part;}{&part; t}[f, g] = [\frac{&part; f}{&part; t}, g] + [f, \frac{&part; g}{&part; t}]$ Jacobbi 恒等式 $[f, [g, h]] + [g, [h, f]] + [h, [f, g]] = 0$ 正则不变性: 对正则变换 $(q, p) \mapsto (q^*, p^*)$, 有 $[f, g]_{p, q} = [f, g]_{p^*, q^*}$ 一些例子: $[p_{k}, J_{l} = &epsilon;_{lij} q_{i} p_{j}] = &epsilon;_{lij} ([p_{k}, q_{i}] p_{j} + [p_{k}, p_{j}] q_{i}) = &epsilon;_{lij} &delta;_{ik} p_{j}$ $&epsilon;_{ijk}$ 只是一个数 思路应该就是化简到基本元素去计算 泊松定理 若 $f$ 和 $g$ 都是循环变量, 那么 $[f, g]$ 也是循环变量. 证明非常平凡, 就是求导: $$\frac{\mathrm{d}}{\mathrm{d}t}[f, g] =\ \frac{&part;}{&part; t}[f, g] + [H, [f, g]] =\ [\frac{&part; f}{&part; t} + [H, f], g] +\ [f, \frac{&part; g}{&part; t} + [H, g]]$$ $$&rArr; = [\frac{\mathrm{d} f}{\mathrm{d} t}, g] +\ [f, \frac{\mathrm{d} g}{\mathrm{d} t}] = 0$$ 通过这样的方式, 就能够得到新的循环变量. (Note: 不过因为循环变量的数量肯定是有限的, 所以有这样一个无聊的想法, 如果用 $f$, $g$ 来计算, $[f, [f, g]]$, $[f, [f, [f, g]]]$ 这样一直下去, 肯定会有重复. 诶, 那么是否就会得到一个循环的群呢? 好吧, 最后发现课件里面写了: 正则变换构成一个群. 是我上课没仔细听了) 判断运动积分是否独立: 看他们是否能够被其他线性表示: $$\frac{&part; (F_1, F_2, \cdots)}{&part; (q_1, q_2, \cdots, p_1, p_2, \cdots)} &ne; 0$$ 能否有新的运动积分 哈密顿 - 雅克比理论 有 Pfaff 方程: $$p_k \mathrm{d}q_k + q_k^* \mathrm{d}p_k^* - (H - H^*)\mathrm{d}t = \mathrm{d}F_2(q, p^*, t)$$ 于是可以变换成: (假设有 $H^* = 0$, 且有目标 $\dot{p}^* = 0, \dot{q}^* = 0$) $$\frac{&part; S}{&part; t} + H(q, \frac{&part; S}{&part; q}, t) = 0$$ Eg. 对于单个质点的一维运动: $H = \frac{1}{2m} p^2 + V(q)$, 其雅克比方程为: $\frac{&part; S}{&part; t} + \frac{1}{2m} (\frac{&part; S}{&part; q})^2 + V(q) = 0$. 其对应的物理意义: $S = &int; L \mathrm{d}t &rArr; L = \frac{\mathrm{d}S}{\mathrm{d}t}, H = - \frac{&part; S}{&part; t}$ 对于 $H = const = E$ 的特殊情况, 可以令 $S = - E t + W(q, &alpha;, E)$, 其中 $W$ 为哈密顿特征函数. 然后就可以用来求解: (利用 $p = \frac{&part; W}{&part; q}$) $$H(q, \frac{&part; W}{&part; q}) = E$$ 如果还不显含 $X$, 那么就还能继续化简 $W = W&#39;(\hat{X}) + &alpha; X$. Eg. $H = \frac{1}{2m}p_1^2 + \frac{1}{2m}(p_2 - k q_1)^2$, 令 $W = W_1(q_1) + &alpha; q_2$, 对应的雅克比方程: $$\frac{1}{2m} (\frac{&part; W_1}{&part; q_1})^2 + \frac{1}{2m}(&alpha; - k q_1) = E$$ 然后求解方程即可 (虽然并不好求). 微振动 这部分就比较简单了 (并不是), 考虑下列的一个振动方程: $$m \ddot{x} + &gamma; \dot{x} + m &omega;^2 x = f$$ 这个方程的一般的解的形式如下: $$x = \frac{f}{m &omega; ^2}+\ c_1 e^{\frac{1}{2} t \left(-\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}\ +c_2 e^{\frac{1}{2} t \left(\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}$$ 当然, 也能够通过分类的方式来解决问题. 不过还是来看看如何通过简单的操作来得到这个方程吧. 临界条件: $&gamma; = 2m &omega;$, 这个时候, 对应的通解是 $x = (c_1 + c_2 t)e^{-&lambda; t}$. 过阻尼: $&gamma; &gt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t}$ 欠阻尼: $&gamma; &lt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t} e^{i &omega; t}$ 习题 哈密顿力学 写出哈密顿函数 方法比较简单, 就是在拉氏量的基础上: $$H = q p - L = q \frac{&part; L}{&part; \dot{q}} - L$$ 然后做 $p = \frac{&part; L}{&part; \dot{q}}$ 的换元, 即可得到 $H(q, p, t)$ 的方程了. 使用哈密顿函数来求解的方法: 写出 $L = T - V$ 得到 $H = q p - L, p = \frac{&part; L}{&part; \dot{q}}$ 利用正则方程: $\dot{q} = \frac{&part; H}{&part; p}, \dot{p} = - \frac{&part; H}{&part; q}$ 然后计算 $2s$ 个微分方程. 然后计算轨道 (如果有必要的话) 找出循环积分和能量积分, 以及判断守恒量 所谓的循环积分 (比如用 $X$ 来表示), 也就是 $\frac{\mathrm{d} X}{\mathrm{d} t} = 0$. 判断方式就是通过: 直接看可遗坐标是否存在: 比如 $\frac{&part; H}{&part; q}$ 直接就 $=0$, 那么显然 $q$ 就是可遗坐标. ($H$ / $L$ 不显含) 计算 $\dot{p} = \frac{&part; H}{&part; t} + [H, p]$. 或者利用泊松定理来构造新的 $\dot{f} = \dot{g} = 0 &rArr; [f, g]$, 只要注意到实际上是有上限的就可以构造完了. 计算泊松括号 通过上面的基本公式来化简成基本的泊松括号: $[p_i, q_j] = &delta;_{ij}$ $[p_i, p_j] = [q_i, q_j] = 0$ 基本的思路是这样的: 利用双线性性, 将 $[F, G] &rArr; &sum; &alpha;_i [f, g]$. 其中系数 $&alpha;_i$ 可以是 $&epsilon;_{ijk}$ 等与 $p, q$ 无关的 &#8220;常数&#8221;. (看来还要记忆一下 $&epsilon;$ 的一些计算法则. ) 对于单个 $[f, g]$, 如果不麻烦的话, 可以直接用 $\frac{&part; f}{&part; p}\frac{&part; g}{&part; q} -\ \frac{&part; f}{&part; q}\frac{&part; g}{&part; p}$ 然后来计算. 如果可以化简的话, 比如 $f$ 中不显含 $p$ 或者 $q$ 之类的. 就可以快速简化计算. 求解母函数的哈密顿雅克比方程 是否显含时间 $\frac{&part; H}{&part; t} = 0$, 若有, 则 $S = -E t + W$ 是否有可遗坐标 $\frac{&part; H}{&part; q} = 0$ 若有, 则 $W = W&#39; + &alpha; q$ 带入雅克比方程: $\frac{&part; S}{&part; t} + H = 0$, 并求解方程. 判断是否是正则变换 对 $(p, q) \mapsto (P, Q)$, 判断雅克比行列式: $\frac{&part; (P, Q)}{&part; (p, q)}$ 是否为 $1$, 若是, 则为正则变换, 反之否. 判断是否满足正则方程 其他 (目前就了解那么多大概就够了) 简谐振动 写出振动方程 小量近似 (流氓化简) 或者在上面的近似中保留线性的阻尼项 一个比较技巧的就是比内方程: 通过变换 $\dot{r} = \frac{\mathrm{d}r}{\mathrm{d} &theta;} \dot{&theta;}$, 以及 $u = \frac{1}{r}$ 然后将中心力场的运动方程化为: $$mh^2u^2(\frac{\mathrm{d}^2 u}{\mathrm{d}&theta;^2} + u) = -F(r)$$ 计算临界阻尼的运动方程, 以及过临界等. 写出运动方程 判断是否有临界阻尼的情况, 如果有, 则带入 $x = (c_1 + c_2 t) e^{-&omega; t}$ 直接带入 $x = x_0 + c_1 e^{&lambda;_1 t} + c_2 e^{&lambda;_2 t}$, 其中, 可以直接带入试探解 $x = e^{&lambda; t}$, 然后通过特征方程来计算出 $&lambda;$ 的值. 计算简振频率和简振模式 将振动方程 (组) 写成矩阵的形式: $$\boldsymbol{M} \ddot{q} + \boldsymbol{K} \boldsymbol{q} = 0$$ 然后对其进行求特征值: (久期方程) $$\mathrm{det}(\boldsymbol{K} - &omega;^2 \boldsymbol{M}) = 0$$ 用特征值 $&omega;$ 对坐标进行正交化, 即可得到线性化的微分方程. Emacs Calc: 一些奇怪的东西 类似一种带货了属于是&#8230; 在 Emacs 里面有一个叫做 calc-mode 的东西. 好不好用目前还难以判断, 但是非常有意思: 比如执行命令: fsolve([x + y = a, x - y = b], [x, y]) 然后就会得到结果: [x = a + (b - a) / 2, y = (a - b) / 2] 单看演示, 功能还是很强的. 一个稍微别扭一点的地方就是文档感觉有点少, (官方的文档) 并且输入用的是类似栈的方式输入的. 但是这并不影响, 毕竟啥好玩就玩啥. (那么为什么是在复习理论力学的时候? 因为黄老师在上课的时候并没有排斥我们使用计算机来进行计算, 虽然也没有让我们用计算机来考试就是了, 并且非常鼓励我们使用计算机来辅助计算. 虽然我上课时候用的都是 Mathematica, 但是这并不妨碍我玩玩 calc) 参考资料: 官方的文档, 目前看来非常好用. 在稍微了解个把例子之后就可以上手了. Emacs-Calc: The Poor Man&#39;s Mathematica, 不太推荐, 口音严重, 并且录制的时候好像忘了录制输入了. emacs-calculator使用说明 calc の使用例 认清地位 嗯, 在大致了解了 calc 之后, 发现实际上它能干的事情应该并没有很多. (没法成为一个 Mathematica), 但是可以作为一个干翻 CASIO 的存在了. 并且在了解了其主要的操作逻辑之后, 发现它真的很适合作为计算器来存在. 嗯, 一个有趣的计算器&#8230; 想到之前 难产的 计算机代数系统, 不禁想起了我高中时的一个梦想, 如果有一台计算器, 能够像 Mathematica 一样进行符号处理的话就好了. (当时我只知道 Mathematica 可以进行符号处理, 也不是很会用) 现在看来, 将 Emacs 移植到单片机上, 然后做一个类似于 CASIO Z-1GR 16-Bit Pocket Computer 这样的外形, 搞不好这能吃律师函 应该会很有意思. 作为未来的一个 flag 来努力吧. 搞不好这事能发 paper 认清 calc 最适合做一个快速好用的计算器之后, 接下来就比较好使用了. 简单操作 在 Emacs 中, 使用 M-x calc 即可进入 calc-mode. (或者使用系列快捷键 C-x * c 进入) RPN 默认使用的输入方式叫做 RPN (Reverse Polish Notation 逆波兰表达式), 即 $a+b$ 这样的表达式, 就会通过 a RET b RET + RET 的方式输入. Note: 如果你做错了什么的话, 使用 U 来 Undo, D 来 reDo. (或者使用退格键来删掉重来也不是不行&#8230; ) Algebraic-Style Calculations 当然, 正经人肯定想要用简单的方式来输入了: 通过前置一个引号 ~&#39;~, 来输入自然的表达式: ~&#39;a + b RET~. (注: 这仍然是输入, 终极的操作逻辑仍然是 RPN 的逻辑. ) 需要注意的是, 其中的运算顺序是 ^ * / +-, 所以在乘除的时候需要小心. 通过输入 m a 来进入 Algebraic Mode (在 minibuffer 上面会显示 Alg), 然后就可以输入公式了. 得到的结果会立刻写入栈上. (退出同理) 不同数值的输入方式: 如果想要输入复数的话, 比如 $a + b i$, 那么就可以输入 (a, b) 来输入. 类似 Ruby 的 Array 和 Range, 可以输入一个集合 (数组/向量/&#8230; 名字还挺多): [&lt;a_1&gt;, &lt;a_2&gt;, ] 或者 [&lt;inf&gt;, &lt;sup&gt;]. 并且输入的时候可以一行一行地输入. 然后是 Matrix: [[&lt;a_ij&gt;, ...], ...] 的类型 函数 在 Algebraic Mode 下, 输入 f(x) 的形式就可以进行函数的调用计算了. 比如: &#39;sqrt(1 + 2) 当然, 也有一些 RPN 输入下的快捷按键: (可以通过 m ? 来查看, 类似的还有 a ?) 简单的操作 Q sqrt P pi F flor (floor), R round 三角函数 S sin, C cos, T tan, E exp, L ln IS arcsin, IC arccos, IT arctan 双曲函数 HS sinh, HC cosh, HT tanh 复数 J conj 取对偶 G arg 取幅角 向量 +, -, * dot, C vC, cross. A abs 符号计算 a d calc-derivative 微分, 可以描述对什么微分 a i calc-integral 积分, 可以描述对什么积分 a a calc-apart 有理式函数展开 a c calc-collect a s calc-simplify a x calc-expand a n calc-normalize-rat (注: 在 minibuffer 上会有角度单位 Deg 和 Rad 标记. 使用 m d 和 m r 来分别切换. 还有 m h 切换到 HMS 模式) 赋值 这个更像是 Mathematica 里面的 Replace, 通过替换出现的符号来得到最终的结果. 通过 s s &lt;var-name&gt; RET, 来将栈中的结果放到 &lt;var-name&gt; 中, 然后在计算过程中, 比如最终的栈上的结果是 &lt;exp-of-var-name&gt;, 通过按 = 来将 &lt;var-name&gt; 的结果代入. 并且 calc 计算的结果会在 Trail 中记录, 可以通过 t y 来将 Trail 中指向的值放到栈中. (可以通过 t n 和 t p 来移动指向的位置) 其他的一些操作 h 可以进入帮助输入的模式, 基本上 calc Document 也就是官方的文档都在里面了. C-x * 系列按键映射 在 Emacs 中的其他部分, 可以通过 C-x * y 的方式来将 calc 中剩下的最后一个结果粘贴到光标处: 画图 (可以参考 calc is fun) 一个马后炮 在考试的时候, 遇到了一个很奇怪的微分方程: (我不会积啊&#8230; 妈蛋) 总之就是现在特别后悔, 早知道我 tmd 猜的是对的&#8230; (但是还是不会积分), 如果当时能够让我用计算机代数系统, 就算是 calc 也可以解出那个问题了: integ(sqrt(E * q1^2 - 1), q1) 结果就是这样: (q1 sqrt(E) sqrt(E q1^2 - 1) - arccosh(q1 sqrt(E))) / (2 sqrt(E)) emmm&#8230; 或者可以转换成 LaTeX 模式 d T $${\left( q1 \sqrt{E} \sqrt{E q1^2 - 1} - arccosh\left( q1 \sqrt{E} \right) \right) / \left( 2 \sqrt{E} \right)}$$ &#8230; emmm&#8230; 为什么都大学了, 还不能用符号计算器呢?" />
<meta property="og:description" content="理论力学的期末复习 下半个学期应该是从谐振子开始的. 但是还是先从不是很熟练的哈密顿部分开始. 哈密顿力学 哈密顿量并没有减少求解力学问题的困难, 实际上和拉格朗日方法是等价的. 哈密顿力学的好处不仅是其将 $s$ 个二阶微分方程降阶为 $2s$ 个一阶微分方程, 更是能够将坐标和动量降到相同的地位. (在之后的正则变换里面, 可以看到更加有趣的部分, 比如将动量看作新的正则坐标之类的. ) 在构筑更为近代的物质理论方面有不可缺少的作用. 勒让德变换 从拉格朗日力学到哈密顿力学的变换. $$L(q_&alpha;, \dot{q}_&alpha;, t) &rArr; H(q_k, p_k, t)$$ 想法是让一个二阶的方程: $\frac{\mathrm{d}}{\mathrm{d}t}(\frac{&part; L}{&part; \dot{q}})-\frac{&part; L}{&part; q}$ 能够变成低阶微分方程. 或者是不想关心计算的时候的 $t$, 就像是将 $\ddot{q} = \dot{q}\frac{\mathrm{d}\dot{q}}{\mathrm{d}q}$ 一样. 定义变换为: $$H(q, p, t) = H(q, \dot{q}, t) = \dot{q}\frac{&part; L}{&part; \dot{q}} - L(q, \dot{q}, t)$$ 于是得到 $H$ 的表达式. 类似的还有 Routhian 方程, 通过对可遗坐标 ($\frac{&part; L}{&part; q} = 0$) 进行勒让德变换, 来减少上面的变换的麻烦的地方: $$R(q_l, \dot{q}_&alpha;, p_k, t) = \dot{q}_k p_k - L(q_l, \dot{q}_l, t) = H - \dot{q}_&alpha; p_&alpha;$$ 正则方程 从哈密顿方程和拉格朗日方程显然可以得到正则方程: $$\left\{\begin{array}{lll}\ \dot{p} &amp; = &amp; -\frac{&part; H}{&part; q}&#92;&#92; \ \dot{q} &amp; = &amp; \frac{&part; H}{&part; p}\ \end{array}\right.$$ 其实很好理解. 因为有 $p = \frac{&part; L}{&part; \dot{q}}$, 以及 $\frac{&part; H}{&part; q} = - \frac{&part; L}{&part; q}$, 还有 $\frac{&part; H}{&part; t} = - \frac{&part; L}{&part; t}$, 于是对时间求导即可. 正则变换 将相空间 $(q, p) \mapsto (q^*, p^*)$, 变换得到新的相空间. (有点像是线性代数里面的基底变换&#8230; ), 如果变换后的哈密顿量仍然满足正则方程, 那么就称为正则变换. 并且通过正则变换, 还能够得到更多的循环积分 (可遗坐标). (也就是为什么要进行正则变换的原因). 对于作用量在变换的过程中: $$S = &int; L \mathrm{d}t \mapsto S^* = &int; L^* \mathrm{d}t$$ 因为变换是对同一运动的不同表述, 仍应该有: $$&delta; S = &delta; S^* = 0$$ 于是有: $$&delta; &int; (p\mathrm{d}q - H\mathrm{d}t) = &delta;\int(p^*\mathrm{d}q^* - H^*\mathrm{d}t) = 0$$ 即: $$&lambda; (p\dot{q} - H) = (p^* \dot{q}^* - H^*) + \frac{\mathrm{d}F}{\mathrm{d}t}$$ 其中的 $F$ 来自于这样的一个结论: 对拉氏量加上或者减去一个对时间的全导数, 仍描述原来的运动. 可以看作是拉氏量不确定性的推广. 称这样的函数为正则变换的母函数 $F$ 其中的 $&lambda;$ 为标度变换因子 ($&lambda; = 1$) Pfaff 方程 对于上面的方程, 变换得到 Pfaff 方程: $$p\mathrm{d}q - p^*\mathrm{d}q^* - (H - H^*)\mathrm{d}t = \mathrm{d}F$$ 其中, 根据 $F$ 是什么的函数, 以及作用量的类型: $S_A = &int;(p\mathrm{d}q - H\mathrm{d}t)$ $S_B = -&int;(q\mathrm{d}p + H\mathrm{d}t)$ 将 $F$ 分为四类: $F_1(q, p^*, t), S_A = S_A^*$ 于是有 $$\mathrm{d}F = \frac{&part; F_1}{&part; q}\mathrm{d}q + \frac{&part; F_1}{&part; p^*}\mathrm{d}p^* + \frac{&part; F_1}{&part; t}\mathrm{d}t$$ 进而带入 Pfaff 方程, 有: $$p = \frac{&part; F_1}{&part; q}$$ $$p^* = -\frac{&part; F_1}{&part; q^*}$$ $$H^* = H + \frac{&part; F_1}{&part; t}$$ $F_2(q, p^*, t), S_A = S_B^*$ $F_3(p, p^*, t), S_B = S_B^*$ $F_4(p, q^*, t), S_B = S_A^*$ 通过这样一系列的变换的方式, 可以将 $H$ 中的 $p, q$ 都一个个换成 $p^*, q^*$, 有点像是热力学里面的 $F = U - TS$ 这样的变换. 验证正则变换 对变换 $(q, p, t) \mapsto (Q, P, t)$, 为了验证是否为正则变换, 一个简单的方法就是通过验证其 Jacobbi 矩阵 (的绝对值) 是否为 $1$. $$J = \frac{&part; (P, Q)}{&part; (p, q)} ?= 1$$ 或者可以通过构造母函数 $F$ 的方式来验证 无穷小正则变换 $$F(q^*, p^*, t) = \cdots + &epsilon; G(q^*, p^*, t)$$ 其中, $G$ 为无穷小正则变换的生成函数. 泊松括号 定义泊松括号为: $$[f, g] = \frac{&part; f}{&part; p_k}\frac{&part; g}{&part; q_k} - \frac{&part; f}{&part; q_k}\frac{&part; g}{&part; p_k}$$ (注: 不同的书里面的正负号定义不一定一样, 这里定义是 $p, q$ 这样的顺序. ) 于是可以用力学量和力学系统之间的关系来表示力学量对时间的全微分: $$\frac{\mathrm{d}f}{\mathrm{d}t} = \frac{&part; f}{&part; t} + [H, f]$$ 于是可以用泊松括号来表示正则方程: $$\dot{q}_k = [H, q_k], \dot{p}_k = [H, p]$$ 嗯, 简洁又好看. 然后再利用计算的一些便捷小技巧: 基本元素: $[q_k, q_l] = 0, [p_k, p_l] = 0$ $[p_k, q_l] = &delta;_{kl}$, $[q_k, p_l] = -&delta;_{kl}$ $\dot{q} = [H, q], \dot{p} = [H, p] &rArr; \dot{f} = [H, f]$ $[f, q] = \frac{&part; f}{&part; p}, [f, p] = -\frac{&part; f}{&part; q}$ $[c, f] = 0$ 常数的泊松括号 双线性 $[&sum;_i &alpha;_i f_i, &sum;_j &beta;_j g_j] = &sum;_i&sum;_j &alpha;_i&beta;_j [f_i, g_j]$ 反对称 $[f, g] = - [g, f]$ 算符 $[f_1 f_2, g] = f_1[f_2, g] + f_2[f_1, g]$ 对偏导 $\frac{&part;}{&part; t}[f, g] = [\frac{&part; f}{&part; t}, g] + [f, \frac{&part; g}{&part; t}]$ Jacobbi 恒等式 $[f, [g, h]] + [g, [h, f]] + [h, [f, g]] = 0$ 正则不变性: 对正则变换 $(q, p) \mapsto (q^*, p^*)$, 有 $[f, g]_{p, q} = [f, g]_{p^*, q^*}$ 一些例子: $[p_{k}, J_{l} = &epsilon;_{lij} q_{i} p_{j}] = &epsilon;_{lij} ([p_{k}, q_{i}] p_{j} + [p_{k}, p_{j}] q_{i}) = &epsilon;_{lij} &delta;_{ik} p_{j}$ $&epsilon;_{ijk}$ 只是一个数 思路应该就是化简到基本元素去计算 泊松定理 若 $f$ 和 $g$ 都是循环变量, 那么 $[f, g]$ 也是循环变量. 证明非常平凡, 就是求导: $$\frac{\mathrm{d}}{\mathrm{d}t}[f, g] =\ \frac{&part;}{&part; t}[f, g] + [H, [f, g]] =\ [\frac{&part; f}{&part; t} + [H, f], g] +\ [f, \frac{&part; g}{&part; t} + [H, g]]$$ $$&rArr; = [\frac{\mathrm{d} f}{\mathrm{d} t}, g] +\ [f, \frac{\mathrm{d} g}{\mathrm{d} t}] = 0$$ 通过这样的方式, 就能够得到新的循环变量. (Note: 不过因为循环变量的数量肯定是有限的, 所以有这样一个无聊的想法, 如果用 $f$, $g$ 来计算, $[f, [f, g]]$, $[f, [f, [f, g]]]$ 这样一直下去, 肯定会有重复. 诶, 那么是否就会得到一个循环的群呢? 好吧, 最后发现课件里面写了: 正则变换构成一个群. 是我上课没仔细听了) 判断运动积分是否独立: 看他们是否能够被其他线性表示: $$\frac{&part; (F_1, F_2, \cdots)}{&part; (q_1, q_2, \cdots, p_1, p_2, \cdots)} &ne; 0$$ 能否有新的运动积分 哈密顿 - 雅克比理论 有 Pfaff 方程: $$p_k \mathrm{d}q_k + q_k^* \mathrm{d}p_k^* - (H - H^*)\mathrm{d}t = \mathrm{d}F_2(q, p^*, t)$$ 于是可以变换成: (假设有 $H^* = 0$, 且有目标 $\dot{p}^* = 0, \dot{q}^* = 0$) $$\frac{&part; S}{&part; t} + H(q, \frac{&part; S}{&part; q}, t) = 0$$ Eg. 对于单个质点的一维运动: $H = \frac{1}{2m} p^2 + V(q)$, 其雅克比方程为: $\frac{&part; S}{&part; t} + \frac{1}{2m} (\frac{&part; S}{&part; q})^2 + V(q) = 0$. 其对应的物理意义: $S = &int; L \mathrm{d}t &rArr; L = \frac{\mathrm{d}S}{\mathrm{d}t}, H = - \frac{&part; S}{&part; t}$ 对于 $H = const = E$ 的特殊情况, 可以令 $S = - E t + W(q, &alpha;, E)$, 其中 $W$ 为哈密顿特征函数. 然后就可以用来求解: (利用 $p = \frac{&part; W}{&part; q}$) $$H(q, \frac{&part; W}{&part; q}) = E$$ 如果还不显含 $X$, 那么就还能继续化简 $W = W&#39;(\hat{X}) + &alpha; X$. Eg. $H = \frac{1}{2m}p_1^2 + \frac{1}{2m}(p_2 - k q_1)^2$, 令 $W = W_1(q_1) + &alpha; q_2$, 对应的雅克比方程: $$\frac{1}{2m} (\frac{&part; W_1}{&part; q_1})^2 + \frac{1}{2m}(&alpha; - k q_1) = E$$ 然后求解方程即可 (虽然并不好求). 微振动 这部分就比较简单了 (并不是), 考虑下列的一个振动方程: $$m \ddot{x} + &gamma; \dot{x} + m &omega;^2 x = f$$ 这个方程的一般的解的形式如下: $$x = \frac{f}{m &omega; ^2}+\ c_1 e^{\frac{1}{2} t \left(-\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}\ +c_2 e^{\frac{1}{2} t \left(\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}$$ 当然, 也能够通过分类的方式来解决问题. 不过还是来看看如何通过简单的操作来得到这个方程吧. 临界条件: $&gamma; = 2m &omega;$, 这个时候, 对应的通解是 $x = (c_1 + c_2 t)e^{-&lambda; t}$. 过阻尼: $&gamma; &gt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t}$ 欠阻尼: $&gamma; &lt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t} e^{i &omega; t}$ 习题 哈密顿力学 写出哈密顿函数 方法比较简单, 就是在拉氏量的基础上: $$H = q p - L = q \frac{&part; L}{&part; \dot{q}} - L$$ 然后做 $p = \frac{&part; L}{&part; \dot{q}}$ 的换元, 即可得到 $H(q, p, t)$ 的方程了. 使用哈密顿函数来求解的方法: 写出 $L = T - V$ 得到 $H = q p - L, p = \frac{&part; L}{&part; \dot{q}}$ 利用正则方程: $\dot{q} = \frac{&part; H}{&part; p}, \dot{p} = - \frac{&part; H}{&part; q}$ 然后计算 $2s$ 个微分方程. 然后计算轨道 (如果有必要的话) 找出循环积分和能量积分, 以及判断守恒量 所谓的循环积分 (比如用 $X$ 来表示), 也就是 $\frac{\mathrm{d} X}{\mathrm{d} t} = 0$. 判断方式就是通过: 直接看可遗坐标是否存在: 比如 $\frac{&part; H}{&part; q}$ 直接就 $=0$, 那么显然 $q$ 就是可遗坐标. ($H$ / $L$ 不显含) 计算 $\dot{p} = \frac{&part; H}{&part; t} + [H, p]$. 或者利用泊松定理来构造新的 $\dot{f} = \dot{g} = 0 &rArr; [f, g]$, 只要注意到实际上是有上限的就可以构造完了. 计算泊松括号 通过上面的基本公式来化简成基本的泊松括号: $[p_i, q_j] = &delta;_{ij}$ $[p_i, p_j] = [q_i, q_j] = 0$ 基本的思路是这样的: 利用双线性性, 将 $[F, G] &rArr; &sum; &alpha;_i [f, g]$. 其中系数 $&alpha;_i$ 可以是 $&epsilon;_{ijk}$ 等与 $p, q$ 无关的 &#8220;常数&#8221;. (看来还要记忆一下 $&epsilon;$ 的一些计算法则. ) 对于单个 $[f, g]$, 如果不麻烦的话, 可以直接用 $\frac{&part; f}{&part; p}\frac{&part; g}{&part; q} -\ \frac{&part; f}{&part; q}\frac{&part; g}{&part; p}$ 然后来计算. 如果可以化简的话, 比如 $f$ 中不显含 $p$ 或者 $q$ 之类的. 就可以快速简化计算. 求解母函数的哈密顿雅克比方程 是否显含时间 $\frac{&part; H}{&part; t} = 0$, 若有, 则 $S = -E t + W$ 是否有可遗坐标 $\frac{&part; H}{&part; q} = 0$ 若有, 则 $W = W&#39; + &alpha; q$ 带入雅克比方程: $\frac{&part; S}{&part; t} + H = 0$, 并求解方程. 判断是否是正则变换 对 $(p, q) \mapsto (P, Q)$, 判断雅克比行列式: $\frac{&part; (P, Q)}{&part; (p, q)}$ 是否为 $1$, 若是, 则为正则变换, 反之否. 判断是否满足正则方程 其他 (目前就了解那么多大概就够了) 简谐振动 写出振动方程 小量近似 (流氓化简) 或者在上面的近似中保留线性的阻尼项 一个比较技巧的就是比内方程: 通过变换 $\dot{r} = \frac{\mathrm{d}r}{\mathrm{d} &theta;} \dot{&theta;}$, 以及 $u = \frac{1}{r}$ 然后将中心力场的运动方程化为: $$mh^2u^2(\frac{\mathrm{d}^2 u}{\mathrm{d}&theta;^2} + u) = -F(r)$$ 计算临界阻尼的运动方程, 以及过临界等. 写出运动方程 判断是否有临界阻尼的情况, 如果有, 则带入 $x = (c_1 + c_2 t) e^{-&omega; t}$ 直接带入 $x = x_0 + c_1 e^{&lambda;_1 t} + c_2 e^{&lambda;_2 t}$, 其中, 可以直接带入试探解 $x = e^{&lambda; t}$, 然后通过特征方程来计算出 $&lambda;$ 的值. 计算简振频率和简振模式 将振动方程 (组) 写成矩阵的形式: $$\boldsymbol{M} \ddot{q} + \boldsymbol{K} \boldsymbol{q} = 0$$ 然后对其进行求特征值: (久期方程) $$\mathrm{det}(\boldsymbol{K} - &omega;^2 \boldsymbol{M}) = 0$$ 用特征值 $&omega;$ 对坐标进行正交化, 即可得到线性化的微分方程. Emacs Calc: 一些奇怪的东西 类似一种带货了属于是&#8230; 在 Emacs 里面有一个叫做 calc-mode 的东西. 好不好用目前还难以判断, 但是非常有意思: 比如执行命令: fsolve([x + y = a, x - y = b], [x, y]) 然后就会得到结果: [x = a + (b - a) / 2, y = (a - b) / 2] 单看演示, 功能还是很强的. 一个稍微别扭一点的地方就是文档感觉有点少, (官方的文档) 并且输入用的是类似栈的方式输入的. 但是这并不影响, 毕竟啥好玩就玩啥. (那么为什么是在复习理论力学的时候? 因为黄老师在上课的时候并没有排斥我们使用计算机来进行计算, 虽然也没有让我们用计算机来考试就是了, 并且非常鼓励我们使用计算机来辅助计算. 虽然我上课时候用的都是 Mathematica, 但是这并不妨碍我玩玩 calc) 参考资料: 官方的文档, 目前看来非常好用. 在稍微了解个把例子之后就可以上手了. Emacs-Calc: The Poor Man&#39;s Mathematica, 不太推荐, 口音严重, 并且录制的时候好像忘了录制输入了. emacs-calculator使用说明 calc の使用例 认清地位 嗯, 在大致了解了 calc 之后, 发现实际上它能干的事情应该并没有很多. (没法成为一个 Mathematica), 但是可以作为一个干翻 CASIO 的存在了. 并且在了解了其主要的操作逻辑之后, 发现它真的很适合作为计算器来存在. 嗯, 一个有趣的计算器&#8230; 想到之前 难产的 计算机代数系统, 不禁想起了我高中时的一个梦想, 如果有一台计算器, 能够像 Mathematica 一样进行符号处理的话就好了. (当时我只知道 Mathematica 可以进行符号处理, 也不是很会用) 现在看来, 将 Emacs 移植到单片机上, 然后做一个类似于 CASIO Z-1GR 16-Bit Pocket Computer 这样的外形, 搞不好这能吃律师函 应该会很有意思. 作为未来的一个 flag 来努力吧. 搞不好这事能发 paper 认清 calc 最适合做一个快速好用的计算器之后, 接下来就比较好使用了. 简单操作 在 Emacs 中, 使用 M-x calc 即可进入 calc-mode. (或者使用系列快捷键 C-x * c 进入) RPN 默认使用的输入方式叫做 RPN (Reverse Polish Notation 逆波兰表达式), 即 $a+b$ 这样的表达式, 就会通过 a RET b RET + RET 的方式输入. Note: 如果你做错了什么的话, 使用 U 来 Undo, D 来 reDo. (或者使用退格键来删掉重来也不是不行&#8230; ) Algebraic-Style Calculations 当然, 正经人肯定想要用简单的方式来输入了: 通过前置一个引号 ~&#39;~, 来输入自然的表达式: ~&#39;a + b RET~. (注: 这仍然是输入, 终极的操作逻辑仍然是 RPN 的逻辑. ) 需要注意的是, 其中的运算顺序是 ^ * / +-, 所以在乘除的时候需要小心. 通过输入 m a 来进入 Algebraic Mode (在 minibuffer 上面会显示 Alg), 然后就可以输入公式了. 得到的结果会立刻写入栈上. (退出同理) 不同数值的输入方式: 如果想要输入复数的话, 比如 $a + b i$, 那么就可以输入 (a, b) 来输入. 类似 Ruby 的 Array 和 Range, 可以输入一个集合 (数组/向量/&#8230; 名字还挺多): [&lt;a_1&gt;, &lt;a_2&gt;, ] 或者 [&lt;inf&gt;, &lt;sup&gt;]. 并且输入的时候可以一行一行地输入. 然后是 Matrix: [[&lt;a_ij&gt;, ...], ...] 的类型 函数 在 Algebraic Mode 下, 输入 f(x) 的形式就可以进行函数的调用计算了. 比如: &#39;sqrt(1 + 2) 当然, 也有一些 RPN 输入下的快捷按键: (可以通过 m ? 来查看, 类似的还有 a ?) 简单的操作 Q sqrt P pi F flor (floor), R round 三角函数 S sin, C cos, T tan, E exp, L ln IS arcsin, IC arccos, IT arctan 双曲函数 HS sinh, HC cosh, HT tanh 复数 J conj 取对偶 G arg 取幅角 向量 +, -, * dot, C vC, cross. A abs 符号计算 a d calc-derivative 微分, 可以描述对什么微分 a i calc-integral 积分, 可以描述对什么积分 a a calc-apart 有理式函数展开 a c calc-collect a s calc-simplify a x calc-expand a n calc-normalize-rat (注: 在 minibuffer 上会有角度单位 Deg 和 Rad 标记. 使用 m d 和 m r 来分别切换. 还有 m h 切换到 HMS 模式) 赋值 这个更像是 Mathematica 里面的 Replace, 通过替换出现的符号来得到最终的结果. 通过 s s &lt;var-name&gt; RET, 来将栈中的结果放到 &lt;var-name&gt; 中, 然后在计算过程中, 比如最终的栈上的结果是 &lt;exp-of-var-name&gt;, 通过按 = 来将 &lt;var-name&gt; 的结果代入. 并且 calc 计算的结果会在 Trail 中记录, 可以通过 t y 来将 Trail 中指向的值放到栈中. (可以通过 t n 和 t p 来移动指向的位置) 其他的一些操作 h 可以进入帮助输入的模式, 基本上 calc Document 也就是官方的文档都在里面了. C-x * 系列按键映射 在 Emacs 中的其他部分, 可以通过 C-x * y 的方式来将 calc 中剩下的最后一个结果粘贴到光标处: 画图 (可以参考 calc is fun) 一个马后炮 在考试的时候, 遇到了一个很奇怪的微分方程: (我不会积啊&#8230; 妈蛋) 总之就是现在特别后悔, 早知道我 tmd 猜的是对的&#8230; (但是还是不会积分), 如果当时能够让我用计算机代数系统, 就算是 calc 也可以解出那个问题了: integ(sqrt(E * q1^2 - 1), q1) 结果就是这样: (q1 sqrt(E) sqrt(E q1^2 - 1) - arccosh(q1 sqrt(E))) / (2 sqrt(E)) emmm&#8230; 或者可以转换成 LaTeX 模式 d T $${\left( q1 \sqrt{E} \sqrt{E q1^2 - 1} - arccosh\left( q1 \sqrt{E} \right) \right) / \left( 2 \sqrt{E} \right)}$$ &#8230; emmm&#8230; 为什么都大学了, 还不能用符号计算器呢?" />
<link rel="canonical" href="/notes/analysis-mechanics-final/" />
<meta property="og:url" content="/notes/analysis-mechanics-final/" />
<meta property="og:site_name" content="My Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-12-26T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="理论力学 (期末)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-12-26T00:00:00+00:00","datePublished":"2022-12-26T00:00:00+00:00","description":"理论力学的期末复习 下半个学期应该是从谐振子开始的. 但是还是先从不是很熟练的哈密顿部分开始. 哈密顿力学 哈密顿量并没有减少求解力学问题的困难, 实际上和拉格朗日方法是等价的. 哈密顿力学的好处不仅是其将 $s$ 个二阶微分方程降阶为 $2s$ 个一阶微分方程, 更是能够将坐标和动量降到相同的地位. (在之后的正则变换里面, 可以看到更加有趣的部分, 比如将动量看作新的正则坐标之类的. ) 在构筑更为近代的物质理论方面有不可缺少的作用. 勒让德变换 从拉格朗日力学到哈密顿力学的变换. $$L(q_&alpha;, \\dot{q}_&alpha;, t) &rArr; H(q_k, p_k, t)$$ 想法是让一个二阶的方程: $\\frac{\\mathrm{d}}{\\mathrm{d}t}(\\frac{&part; L}{&part; \\dot{q}})-\\frac{&part; L}{&part; q}$ 能够变成低阶微分方程. 或者是不想关心计算的时候的 $t$, 就像是将 $\\ddot{q} = \\dot{q}\\frac{\\mathrm{d}\\dot{q}}{\\mathrm{d}q}$ 一样. 定义变换为: $$H(q, p, t) = H(q, \\dot{q}, t) = \\dot{q}\\frac{&part; L}{&part; \\dot{q}} - L(q, \\dot{q}, t)$$ 于是得到 $H$ 的表达式. 类似的还有 Routhian 方程, 通过对可遗坐标 ($\\frac{&part; L}{&part; q} = 0$) 进行勒让德变换, 来减少上面的变换的麻烦的地方: $$R(q_l, \\dot{q}_&alpha;, p_k, t) = \\dot{q}_k p_k - L(q_l, \\dot{q}_l, t) = H - \\dot{q}_&alpha; p_&alpha;$$ 正则方程 从哈密顿方程和拉格朗日方程显然可以得到正则方程: $$\\left\\{\\begin{array}{lll}\\ \\dot{p} &amp; = &amp; -\\frac{&part; H}{&part; q}&#92;&#92; \\ \\dot{q} &amp; = &amp; \\frac{&part; H}{&part; p}\\ \\end{array}\\right.$$ 其实很好理解. 因为有 $p = \\frac{&part; L}{&part; \\dot{q}}$, 以及 $\\frac{&part; H}{&part; q} = - \\frac{&part; L}{&part; q}$, 还有 $\\frac{&part; H}{&part; t} = - \\frac{&part; L}{&part; t}$, 于是对时间求导即可. 正则变换 将相空间 $(q, p) \\mapsto (q^*, p^*)$, 变换得到新的相空间. (有点像是线性代数里面的基底变换&#8230; ), 如果变换后的哈密顿量仍然满足正则方程, 那么就称为正则变换. 并且通过正则变换, 还能够得到更多的循环积分 (可遗坐标). (也就是为什么要进行正则变换的原因). 对于作用量在变换的过程中: $$S = &int; L \\mathrm{d}t \\mapsto S^* = &int; L^* \\mathrm{d}t$$ 因为变换是对同一运动的不同表述, 仍应该有: $$&delta; S = &delta; S^* = 0$$ 于是有: $$&delta; &int; (p\\mathrm{d}q - H\\mathrm{d}t) = &delta;\\int(p^*\\mathrm{d}q^* - H^*\\mathrm{d}t) = 0$$ 即: $$&lambda; (p\\dot{q} - H) = (p^* \\dot{q}^* - H^*) + \\frac{\\mathrm{d}F}{\\mathrm{d}t}$$ 其中的 $F$ 来自于这样的一个结论: 对拉氏量加上或者减去一个对时间的全导数, 仍描述原来的运动. 可以看作是拉氏量不确定性的推广. 称这样的函数为正则变换的母函数 $F$ 其中的 $&lambda;$ 为标度变换因子 ($&lambda; = 1$) Pfaff 方程 对于上面的方程, 变换得到 Pfaff 方程: $$p\\mathrm{d}q - p^*\\mathrm{d}q^* - (H - H^*)\\mathrm{d}t = \\mathrm{d}F$$ 其中, 根据 $F$ 是什么的函数, 以及作用量的类型: $S_A = &int;(p\\mathrm{d}q - H\\mathrm{d}t)$ $S_B = -&int;(q\\mathrm{d}p + H\\mathrm{d}t)$ 将 $F$ 分为四类: $F_1(q, p^*, t), S_A = S_A^*$ 于是有 $$\\mathrm{d}F = \\frac{&part; F_1}{&part; q}\\mathrm{d}q + \\frac{&part; F_1}{&part; p^*}\\mathrm{d}p^* + \\frac{&part; F_1}{&part; t}\\mathrm{d}t$$ 进而带入 Pfaff 方程, 有: $$p = \\frac{&part; F_1}{&part; q}$$ $$p^* = -\\frac{&part; F_1}{&part; q^*}$$ $$H^* = H + \\frac{&part; F_1}{&part; t}$$ $F_2(q, p^*, t), S_A = S_B^*$ $F_3(p, p^*, t), S_B = S_B^*$ $F_4(p, q^*, t), S_B = S_A^*$ 通过这样一系列的变换的方式, 可以将 $H$ 中的 $p, q$ 都一个个换成 $p^*, q^*$, 有点像是热力学里面的 $F = U - TS$ 这样的变换. 验证正则变换 对变换 $(q, p, t) \\mapsto (Q, P, t)$, 为了验证是否为正则变换, 一个简单的方法就是通过验证其 Jacobbi 矩阵 (的绝对值) 是否为 $1$. $$J = \\frac{&part; (P, Q)}{&part; (p, q)} ?= 1$$ 或者可以通过构造母函数 $F$ 的方式来验证 无穷小正则变换 $$F(q^*, p^*, t) = \\cdots + &epsilon; G(q^*, p^*, t)$$ 其中, $G$ 为无穷小正则变换的生成函数. 泊松括号 定义泊松括号为: $$[f, g] = \\frac{&part; f}{&part; p_k}\\frac{&part; g}{&part; q_k} - \\frac{&part; f}{&part; q_k}\\frac{&part; g}{&part; p_k}$$ (注: 不同的书里面的正负号定义不一定一样, 这里定义是 $p, q$ 这样的顺序. ) 于是可以用力学量和力学系统之间的关系来表示力学量对时间的全微分: $$\\frac{\\mathrm{d}f}{\\mathrm{d}t} = \\frac{&part; f}{&part; t} + [H, f]$$ 于是可以用泊松括号来表示正则方程: $$\\dot{q}_k = [H, q_k], \\dot{p}_k = [H, p]$$ 嗯, 简洁又好看. 然后再利用计算的一些便捷小技巧: 基本元素: $[q_k, q_l] = 0, [p_k, p_l] = 0$ $[p_k, q_l] = &delta;_{kl}$, $[q_k, p_l] = -&delta;_{kl}$ $\\dot{q} = [H, q], \\dot{p} = [H, p] &rArr; \\dot{f} = [H, f]$ $[f, q] = \\frac{&part; f}{&part; p}, [f, p] = -\\frac{&part; f}{&part; q}$ $[c, f] = 0$ 常数的泊松括号 双线性 $[&sum;_i &alpha;_i f_i, &sum;_j &beta;_j g_j] = &sum;_i&sum;_j &alpha;_i&beta;_j [f_i, g_j]$ 反对称 $[f, g] = - [g, f]$ 算符 $[f_1 f_2, g] = f_1[f_2, g] + f_2[f_1, g]$ 对偏导 $\\frac{&part;}{&part; t}[f, g] = [\\frac{&part; f}{&part; t}, g] + [f, \\frac{&part; g}{&part; t}]$ Jacobbi 恒等式 $[f, [g, h]] + [g, [h, f]] + [h, [f, g]] = 0$ 正则不变性: 对正则变换 $(q, p) \\mapsto (q^*, p^*)$, 有 $[f, g]_{p, q} = [f, g]_{p^*, q^*}$ 一些例子: $[p_{k}, J_{l} = &epsilon;_{lij} q_{i} p_{j}] = &epsilon;_{lij} ([p_{k}, q_{i}] p_{j} + [p_{k}, p_{j}] q_{i}) = &epsilon;_{lij} &delta;_{ik} p_{j}$ $&epsilon;_{ijk}$ 只是一个数 思路应该就是化简到基本元素去计算 泊松定理 若 $f$ 和 $g$ 都是循环变量, 那么 $[f, g]$ 也是循环变量. 证明非常平凡, 就是求导: $$\\frac{\\mathrm{d}}{\\mathrm{d}t}[f, g] =\\ \\frac{&part;}{&part; t}[f, g] + [H, [f, g]] =\\ [\\frac{&part; f}{&part; t} + [H, f], g] +\\ [f, \\frac{&part; g}{&part; t} + [H, g]]$$ $$&rArr; = [\\frac{\\mathrm{d} f}{\\mathrm{d} t}, g] +\\ [f, \\frac{\\mathrm{d} g}{\\mathrm{d} t}] = 0$$ 通过这样的方式, 就能够得到新的循环变量. (Note: 不过因为循环变量的数量肯定是有限的, 所以有这样一个无聊的想法, 如果用 $f$, $g$ 来计算, $[f, [f, g]]$, $[f, [f, [f, g]]]$ 这样一直下去, 肯定会有重复. 诶, 那么是否就会得到一个循环的群呢? 好吧, 最后发现课件里面写了: 正则变换构成一个群. 是我上课没仔细听了) 判断运动积分是否独立: 看他们是否能够被其他线性表示: $$\\frac{&part; (F_1, F_2, \\cdots)}{&part; (q_1, q_2, \\cdots, p_1, p_2, \\cdots)} &ne; 0$$ 能否有新的运动积分 哈密顿 - 雅克比理论 有 Pfaff 方程: $$p_k \\mathrm{d}q_k + q_k^* \\mathrm{d}p_k^* - (H - H^*)\\mathrm{d}t = \\mathrm{d}F_2(q, p^*, t)$$ 于是可以变换成: (假设有 $H^* = 0$, 且有目标 $\\dot{p}^* = 0, \\dot{q}^* = 0$) $$\\frac{&part; S}{&part; t} + H(q, \\frac{&part; S}{&part; q}, t) = 0$$ Eg. 对于单个质点的一维运动: $H = \\frac{1}{2m} p^2 + V(q)$, 其雅克比方程为: $\\frac{&part; S}{&part; t} + \\frac{1}{2m} (\\frac{&part; S}{&part; q})^2 + V(q) = 0$. 其对应的物理意义: $S = &int; L \\mathrm{d}t &rArr; L = \\frac{\\mathrm{d}S}{\\mathrm{d}t}, H = - \\frac{&part; S}{&part; t}$ 对于 $H = const = E$ 的特殊情况, 可以令 $S = - E t + W(q, &alpha;, E)$, 其中 $W$ 为哈密顿特征函数. 然后就可以用来求解: (利用 $p = \\frac{&part; W}{&part; q}$) $$H(q, \\frac{&part; W}{&part; q}) = E$$ 如果还不显含 $X$, 那么就还能继续化简 $W = W&#39;(\\hat{X}) + &alpha; X$. Eg. $H = \\frac{1}{2m}p_1^2 + \\frac{1}{2m}(p_2 - k q_1)^2$, 令 $W = W_1(q_1) + &alpha; q_2$, 对应的雅克比方程: $$\\frac{1}{2m} (\\frac{&part; W_1}{&part; q_1})^2 + \\frac{1}{2m}(&alpha; - k q_1) = E$$ 然后求解方程即可 (虽然并不好求). 微振动 这部分就比较简单了 (并不是), 考虑下列的一个振动方程: $$m \\ddot{x} + &gamma; \\dot{x} + m &omega;^2 x = f$$ 这个方程的一般的解的形式如下: $$x = \\frac{f}{m &omega; ^2}+\\ c_1 e^{\\frac{1}{2} t \\left(-\\frac{\\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\\frac{&gamma; }{m}\\right)}\\ +c_2 e^{\\frac{1}{2} t \\left(\\frac{\\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\\frac{&gamma; }{m}\\right)}$$ 当然, 也能够通过分类的方式来解决问题. 不过还是来看看如何通过简单的操作来得到这个方程吧. 临界条件: $&gamma; = 2m &omega;$, 这个时候, 对应的通解是 $x = (c_1 + c_2 t)e^{-&lambda; t}$. 过阻尼: $&gamma; &gt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t}$ 欠阻尼: $&gamma; &lt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t} e^{i &omega; t}$ 习题 哈密顿力学 写出哈密顿函数 方法比较简单, 就是在拉氏量的基础上: $$H = q p - L = q \\frac{&part; L}{&part; \\dot{q}} - L$$ 然后做 $p = \\frac{&part; L}{&part; \\dot{q}}$ 的换元, 即可得到 $H(q, p, t)$ 的方程了. 使用哈密顿函数来求解的方法: 写出 $L = T - V$ 得到 $H = q p - L, p = \\frac{&part; L}{&part; \\dot{q}}$ 利用正则方程: $\\dot{q} = \\frac{&part; H}{&part; p}, \\dot{p} = - \\frac{&part; H}{&part; q}$ 然后计算 $2s$ 个微分方程. 然后计算轨道 (如果有必要的话) 找出循环积分和能量积分, 以及判断守恒量 所谓的循环积分 (比如用 $X$ 来表示), 也就是 $\\frac{\\mathrm{d} X}{\\mathrm{d} t} = 0$. 判断方式就是通过: 直接看可遗坐标是否存在: 比如 $\\frac{&part; H}{&part; q}$ 直接就 $=0$, 那么显然 $q$ 就是可遗坐标. ($H$ / $L$ 不显含) 计算 $\\dot{p} = \\frac{&part; H}{&part; t} + [H, p]$. 或者利用泊松定理来构造新的 $\\dot{f} = \\dot{g} = 0 &rArr; [f, g]$, 只要注意到实际上是有上限的就可以构造完了. 计算泊松括号 通过上面的基本公式来化简成基本的泊松括号: $[p_i, q_j] = &delta;_{ij}$ $[p_i, p_j] = [q_i, q_j] = 0$ 基本的思路是这样的: 利用双线性性, 将 $[F, G] &rArr; &sum; &alpha;_i [f, g]$. 其中系数 $&alpha;_i$ 可以是 $&epsilon;_{ijk}$ 等与 $p, q$ 无关的 &#8220;常数&#8221;. (看来还要记忆一下 $&epsilon;$ 的一些计算法则. ) 对于单个 $[f, g]$, 如果不麻烦的话, 可以直接用 $\\frac{&part; f}{&part; p}\\frac{&part; g}{&part; q} -\\ \\frac{&part; f}{&part; q}\\frac{&part; g}{&part; p}$ 然后来计算. 如果可以化简的话, 比如 $f$ 中不显含 $p$ 或者 $q$ 之类的. 就可以快速简化计算. 求解母函数的哈密顿雅克比方程 是否显含时间 $\\frac{&part; H}{&part; t} = 0$, 若有, 则 $S = -E t + W$ 是否有可遗坐标 $\\frac{&part; H}{&part; q} = 0$ 若有, 则 $W = W&#39; + &alpha; q$ 带入雅克比方程: $\\frac{&part; S}{&part; t} + H = 0$, 并求解方程. 判断是否是正则变换 对 $(p, q) \\mapsto (P, Q)$, 判断雅克比行列式: $\\frac{&part; (P, Q)}{&part; (p, q)}$ 是否为 $1$, 若是, 则为正则变换, 反之否. 判断是否满足正则方程 其他 (目前就了解那么多大概就够了) 简谐振动 写出振动方程 小量近似 (流氓化简) 或者在上面的近似中保留线性的阻尼项 一个比较技巧的就是比内方程: 通过变换 $\\dot{r} = \\frac{\\mathrm{d}r}{\\mathrm{d} &theta;} \\dot{&theta;}$, 以及 $u = \\frac{1}{r}$ 然后将中心力场的运动方程化为: $$mh^2u^2(\\frac{\\mathrm{d}^2 u}{\\mathrm{d}&theta;^2} + u) = -F(r)$$ 计算临界阻尼的运动方程, 以及过临界等. 写出运动方程 判断是否有临界阻尼的情况, 如果有, 则带入 $x = (c_1 + c_2 t) e^{-&omega; t}$ 直接带入 $x = x_0 + c_1 e^{&lambda;_1 t} + c_2 e^{&lambda;_2 t}$, 其中, 可以直接带入试探解 $x = e^{&lambda; t}$, 然后通过特征方程来计算出 $&lambda;$ 的值. 计算简振频率和简振模式 将振动方程 (组) 写成矩阵的形式: $$\\boldsymbol{M} \\ddot{q} + \\boldsymbol{K} \\boldsymbol{q} = 0$$ 然后对其进行求特征值: (久期方程) $$\\mathrm{det}(\\boldsymbol{K} - &omega;^2 \\boldsymbol{M}) = 0$$ 用特征值 $&omega;$ 对坐标进行正交化, 即可得到线性化的微分方程. Emacs Calc: 一些奇怪的东西 类似一种带货了属于是&#8230; 在 Emacs 里面有一个叫做 calc-mode 的东西. 好不好用目前还难以判断, 但是非常有意思: 比如执行命令: fsolve([x + y = a, x - y = b], [x, y]) 然后就会得到结果: [x = a + (b - a) / 2, y = (a - b) / 2] 单看演示, 功能还是很强的. 一个稍微别扭一点的地方就是文档感觉有点少, (官方的文档) 并且输入用的是类似栈的方式输入的. 但是这并不影响, 毕竟啥好玩就玩啥. (那么为什么是在复习理论力学的时候? 因为黄老师在上课的时候并没有排斥我们使用计算机来进行计算, 虽然也没有让我们用计算机来考试就是了, 并且非常鼓励我们使用计算机来辅助计算. 虽然我上课时候用的都是 Mathematica, 但是这并不妨碍我玩玩 calc) 参考资料: 官方的文档, 目前看来非常好用. 在稍微了解个把例子之后就可以上手了. Emacs-Calc: The Poor Man&#39;s Mathematica, 不太推荐, 口音严重, 并且录制的时候好像忘了录制输入了. emacs-calculator使用说明 calc の使用例 认清地位 嗯, 在大致了解了 calc 之后, 发现实际上它能干的事情应该并没有很多. (没法成为一个 Mathematica), 但是可以作为一个干翻 CASIO 的存在了. 并且在了解了其主要的操作逻辑之后, 发现它真的很适合作为计算器来存在. 嗯, 一个有趣的计算器&#8230; 想到之前 难产的 计算机代数系统, 不禁想起了我高中时的一个梦想, 如果有一台计算器, 能够像 Mathematica 一样进行符号处理的话就好了. (当时我只知道 Mathematica 可以进行符号处理, 也不是很会用) 现在看来, 将 Emacs 移植到单片机上, 然后做一个类似于 CASIO Z-1GR 16-Bit Pocket Computer 这样的外形, 搞不好这能吃律师函 应该会很有意思. 作为未来的一个 flag 来努力吧. 搞不好这事能发 paper 认清 calc 最适合做一个快速好用的计算器之后, 接下来就比较好使用了. 简单操作 在 Emacs 中, 使用 M-x calc 即可进入 calc-mode. (或者使用系列快捷键 C-x * c 进入) RPN 默认使用的输入方式叫做 RPN (Reverse Polish Notation 逆波兰表达式), 即 $a+b$ 这样的表达式, 就会通过 a RET b RET + RET 的方式输入. Note: 如果你做错了什么的话, 使用 U 来 Undo, D 来 reDo. (或者使用退格键来删掉重来也不是不行&#8230; ) Algebraic-Style Calculations 当然, 正经人肯定想要用简单的方式来输入了: 通过前置一个引号 ~&#39;~, 来输入自然的表达式: ~&#39;a + b RET~. (注: 这仍然是输入, 终极的操作逻辑仍然是 RPN 的逻辑. ) 需要注意的是, 其中的运算顺序是 ^ * / +-, 所以在乘除的时候需要小心. 通过输入 m a 来进入 Algebraic Mode (在 minibuffer 上面会显示 Alg), 然后就可以输入公式了. 得到的结果会立刻写入栈上. (退出同理) 不同数值的输入方式: 如果想要输入复数的话, 比如 $a + b i$, 那么就可以输入 (a, b) 来输入. 类似 Ruby 的 Array 和 Range, 可以输入一个集合 (数组/向量/&#8230; 名字还挺多): [&lt;a_1&gt;, &lt;a_2&gt;, ] 或者 [&lt;inf&gt;, &lt;sup&gt;]. 并且输入的时候可以一行一行地输入. 然后是 Matrix: [[&lt;a_ij&gt;, ...], ...] 的类型 函数 在 Algebraic Mode 下, 输入 f(x) 的形式就可以进行函数的调用计算了. 比如: &#39;sqrt(1 + 2) 当然, 也有一些 RPN 输入下的快捷按键: (可以通过 m ? 来查看, 类似的还有 a ?) 简单的操作 Q sqrt P pi F flor (floor), R round 三角函数 S sin, C cos, T tan, E exp, L ln IS arcsin, IC arccos, IT arctan 双曲函数 HS sinh, HC cosh, HT tanh 复数 J conj 取对偶 G arg 取幅角 向量 +, -, * dot, C vC, cross. A abs 符号计算 a d calc-derivative 微分, 可以描述对什么微分 a i calc-integral 积分, 可以描述对什么积分 a a calc-apart 有理式函数展开 a c calc-collect a s calc-simplify a x calc-expand a n calc-normalize-rat (注: 在 minibuffer 上会有角度单位 Deg 和 Rad 标记. 使用 m d 和 m r 来分别切换. 还有 m h 切换到 HMS 模式) 赋值 这个更像是 Mathematica 里面的 Replace, 通过替换出现的符号来得到最终的结果. 通过 s s &lt;var-name&gt; RET, 来将栈中的结果放到 &lt;var-name&gt; 中, 然后在计算过程中, 比如最终的栈上的结果是 &lt;exp-of-var-name&gt;, 通过按 = 来将 &lt;var-name&gt; 的结果代入. 并且 calc 计算的结果会在 Trail 中记录, 可以通过 t y 来将 Trail 中指向的值放到栈中. (可以通过 t n 和 t p 来移动指向的位置) 其他的一些操作 h 可以进入帮助输入的模式, 基本上 calc Document 也就是官方的文档都在里面了. C-x * 系列按键映射 在 Emacs 中的其他部分, 可以通过 C-x * y 的方式来将 calc 中剩下的最后一个结果粘贴到光标处: 画图 (可以参考 calc is fun) 一个马后炮 在考试的时候, 遇到了一个很奇怪的微分方程: (我不会积啊&#8230; 妈蛋) 总之就是现在特别后悔, 早知道我 tmd 猜的是对的&#8230; (但是还是不会积分), 如果当时能够让我用计算机代数系统, 就算是 calc 也可以解出那个问题了: integ(sqrt(E * q1^2 - 1), q1) 结果就是这样: (q1 sqrt(E) sqrt(E q1^2 - 1) - arccosh(q1 sqrt(E))) / (2 sqrt(E)) emmm&#8230; 或者可以转换成 LaTeX 模式 d T $${\\left( q1 \\sqrt{E} \\sqrt{E q1^2 - 1} - arccosh\\left( q1 \\sqrt{E} \\right) \\right) / \\left( 2 \\sqrt{E} \\right)}$$ &#8230; emmm&#8230; 为什么都大学了, 还不能用符号计算器呢?","headline":"理论力学 (期末)","mainEntityOfPage":{"@type":"WebPage","@id":"/notes/analysis-mechanics-final/"},"url":"/notes/analysis-mechanics-final/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">

  <style type="text/css">
    img {
      margin-left: auto; 
      margin-right:auto; 
      display:block;
    }
  </style><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="My Blog" /><script>
  document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        // customised options
        // • auto-render specific keys, e.g.:
        delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
        ],
        // • rendering keys, e.g.:
        throwOnError : false
      });
  });
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.css" integrity="sha384-z91AFMXXGZasvxZz5DtKJse3pKoTPU0QcNFj/B4gDFRmq6Q2bi1StsT7SOcIzLEN" crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.js" integrity="sha384-Af7YmksQNWRLMvro3U9F84xa0paoIu7Pu2niAIUmZoI09Q4aCsbha5dvaj1tHy6K" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/categories/">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">理论力学 (期末)</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-12-26T00:00:00+00:00" itemprop="datePublished">Dec 26, 2022
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1>理论力学的期末复习</h1>
<p>下半个学期应该是从谐振子开始的.
  但是还是先从不是很熟练的哈密顿部分开始.</p>
<h1>哈密顿力学</h1>
<blockquote>
  <ol>
    <li>哈密顿量并没有减少求解力学问题的困难,
      实际上和拉格朗日方法是等价的.</li>
    <li>哈密顿力学的好处不仅是其将 $s$ 个二阶微分方程降阶为
      $2s$ 个一阶微分方程, 更是能够将坐标和动量降到相同的地位.
      <p>(在之后的正则变换里面, 可以看到更加有趣的部分,
        比如将动量看作新的正则坐标之类的. )</p>
    </li>
    <li>在构筑更为近代的物质理论方面有不可缺少的作用.</li>
  </ol>
</blockquote>
<h2>勒让德变换</h2>
<p>从拉格朗日力学到哈密顿力学的变换.</p>
<p>$$L(q_&alpha;, \dot{q}_&alpha;, t) &rArr; H(q_k, p_k, t)$$</p>
<p>想法是让一个二阶的方程: $\frac{\mathrm{d}}{\mathrm{d}t}(\frac{&part; L}{&part; \dot{q}})-\frac{&part; L}{&part; q}$ 能够变成低阶微分方程.
  或者是不想关心计算的时候的 $t$, 就像是将 $\ddot{q} = \dot{q}\frac{\mathrm{d}\dot{q}}{\mathrm{d}q}$ 一样.</p>
<p>定义变换为:</p>
<p>$$H(q, p, t) = H(q, \dot{q}, t) = \dot{q}\frac{&part; L}{&part; \dot{q}} - L(q, \dot{q}, t)$$</p>
<p>于是得到 $H$ 的表达式.</p>
<p>类似的还有 Routhian 方程, 通过对可遗坐标 ($\frac{&part; L}{&part; q} = 0$) 进行勒让德变换,
  来减少上面的变换的麻烦的地方:</p>
<p>$$R(q_l, \dot{q}_&alpha;, p_k, t) = \dot{q}_k p_k - L(q_l, \dot{q}_l, t) = H - \dot{q}_&alpha; p_&alpha;$$</p>
<h2>正则方程</h2>
<p>从哈密顿方程和拉格朗日方程显然可以得到正则方程:</p>
<p>$$\left\{\begin{array}{lll}\
  \dot{p} &amp; = &amp; -\frac{&part; H}{&part; q}&#92;&#92; \
  \dot{q} &amp; = &amp; \frac{&part; H}{&part; p}\
  \end{array}\right.$$</p>
<p>其实很好理解. 因为有 $p = \frac{&part; L}{&part; \dot{q}}$, 以及 $\frac{&part; H}{&part; q} = - \frac{&part; L}{&part; q}$,
  还有 $\frac{&part; H}{&part; t} = - \frac{&part; L}{&part; t}$, 于是对时间求导即可.</p>
<h2>正则变换</h2>
<p>将相空间 $(q, p) \mapsto (q^*, p^*)$, 变换得到新的相空间.
  (有点像是线性代数里面的基底变换&#8230; ),
  如果变换后的哈密顿量仍然满足正则方程, 那么就称为正则变换.
  并且通过正则变换, 还能够得到更多的循环积分 (可遗坐标).
  (也就是为什么要进行正则变换的原因).</p>
<p>对于作用量在变换的过程中:</p>
<p>$$S = &int; L \mathrm{d}t \mapsto S^* = &int; L^* \mathrm{d}t$$</p>
<p>因为变换是对同一运动的不同表述, 仍应该有:</p>
<p>$$&delta; S = &delta; S^* = 0$$</p>
<p>于是有:</p>
<p>$$&delta; &int; (p\mathrm{d}q - H\mathrm{d}t) = &delta;\int(p^*\mathrm{d}q^* - H^*\mathrm{d}t) = 0$$</p>
<p>即:</p>
<p>$$&lambda; (p\dot{q} - H) = (p^* \dot{q}^* - H^*) + \frac{\mathrm{d}F}{\mathrm{d}t}$$</p>
<ul>
  <li>其中的 $F$ 来自于这样的一个结论:
    <p><i>对拉氏量加上或者减去一个对时间的全导数, 仍描述原来的运动.</i></p>
    <p>可以看作是拉氏量不确定性的推广.</p>
    <p>称这样的函数为正则变换的母函数 $F$</p>
  </li>
  <li>其中的 $&lambda;$ 为标度变换因子 ($&lambda; = 1$)</li>
</ul>
<h3>Pfaff 方程</h3>
<p>对于上面的方程, 变换得到 Pfaff 方程:</p>
<p>$$p\mathrm{d}q - p^*\mathrm{d}q^* - (H - H^*)\mathrm{d}t = \mathrm{d}F$$</p>
<p>其中, 根据 $F$ 是什么的函数, 以及作用量的类型:</p>
<ol>
  <li>$S_A = &int;(p\mathrm{d}q - H\mathrm{d}t)$</li>
  <li>$S_B = -&int;(q\mathrm{d}p + H\mathrm{d}t)$</li>
</ol>
<p>将 $F$ 分为四类:</p>
<ol>
  <li>$F_1(q, p^*, t), S_A = S_A^*$
    <p>于是有</p>
    <p>$$\mathrm{d}F = \frac{&part; F_1}{&part; q}\mathrm{d}q + \frac{&part; F_1}{&part; p^*}\mathrm{d}p^* + \frac{&part; F_1}{&part; t}\mathrm{d}t$$</p>
    <p>进而带入 Pfaff 方程, 有:</p>
    <p>$$p = \frac{&part; F_1}{&part; q}$$
      $$p^* = -\frac{&part; F_1}{&part; q^*}$$
      $$H^* = H + \frac{&part; F_1}{&part; t}$$</p>
  </li>
  <li>$F_2(q, p^*, t), S_A = S_B^*$</li>
  <li>$F_3(p, p^*, t), S_B = S_B^*$</li>
  <li>$F_4(p, q^*, t), S_B = S_A^*$</li>
</ol>
<p>通过这样一系列的变换的方式, 可以将 $H$ 中的 $p, q$ 都一个个换成 $p^*, q^*$,
  有点像是热力学里面的 $F = U - TS$ 这样的变换.</p>
<h3>验证正则变换</h3>
<p>对变换 $(q, p, t) \mapsto (Q, P, t)$, 为了验证是否为正则变换,</p>
<ol>
  <li>一个简单的方法就是通过验证其 Jacobbi 矩阵 (的绝对值) 是否为 $1$.
    <p>$$J = \frac{&part; (P, Q)}{&part; (p, q)} ?= 1$$</p>
  </li>
  <li>或者可以通过构造母函数 $F$ 的方式来验证</li>
</ol>
<h3>无穷小正则变换</h3>
<p>$$F(q^*, p^*, t) = \cdots + &epsilon; G(q^*, p^*, t)$$</p>
<p>其中, $G$ 为无穷小正则变换的生成函数.</p>
<h2>泊松括号</h2>
<p>定义泊松括号为:</p>
<p>$$[f, g] = \frac{&part; f}{&part; p_k}\frac{&part; g}{&part; q_k} - \frac{&part; f}{&part; q_k}\frac{&part; g}{&part; p_k}$$</p>
<p>(注: 不同的书里面的正负号定义不一定一样, 这里定义是 $p, q$ 这样的顺序. )</p>
<p>于是可以用力学量和力学系统之间的关系来表示力学量对时间的全微分:</p>
<p>$$\frac{\mathrm{d}f}{\mathrm{d}t} = \frac{&part; f}{&part; t} + [H, f]$$</p>
<p>于是可以用泊松括号来表示正则方程:</p>
<p>$$\dot{q}_k = [H, q_k], \dot{p}_k = [H, p]$$</p>
<p>嗯, 简洁又好看. 然后再利用计算的一些便捷小技巧:</p>
<ul>
  <li>基本元素:
    <ul>
      <li>$[q_k, q_l] = 0, [p_k, p_l] = 0$</li>
      <li>$[p_k, q_l] = &delta;_{kl}$, $[q_k, p_l] = -&delta;_{kl}$</li>
      <li>$\dot{q} = [H, q], \dot{p} = [H, p] &rArr; \dot{f} = [H, f]$</li>
      <li>$[f, q] = \frac{&part; f}{&part; p}, [f, p] = -\frac{&part; f}{&part; q}$</li>
    </ul>
  </li>
  <li>$[c, f] = 0$ 常数的泊松括号</li>
  <li>双线性 $[&sum;_i &alpha;_i f_i, &sum;_j &beta;_j g_j] = &sum;_i&sum;_j &alpha;_i&beta;_j [f_i, g_j]$</li>
  <li>反对称 $[f, g] = - [g, f]$</li>
  <li>算符 $[f_1 f_2, g] = f_1[f_2, g] + f_2[f_1, g]$</li>
  <li>对偏导 $\frac{&part;}{&part; t}[f, g] = [\frac{&part; f}{&part; t}, g] + [f, \frac{&part; g}{&part; t}]$</li>
  <li>Jacobbi 恒等式 $[f, [g, h]] + [g, [h, f]] + [h, [f, g]] = 0$</li>
  <li>正则不变性: 对正则变换 $(q, p) \mapsto (q^*, p^*)$, 有 $[f, g]_{p, q} = [f, g]_{p^*, q^*}$</li>
</ul>
<blockquote>
  <p>一些例子:</p>
  <ol>
    <li>$[p_{k}, J_{l} = &epsilon;_{lij} q_{i} p_{j}] = &epsilon;_{lij} ([p_{k}, q_{i}] p_{j} + [p_{k}, p_{j}] q_{i}) = &epsilon;_{lij} &delta;_{ik} p_{j}$
      <ul>
        <li>$&epsilon;_{ijk}$ 只是一个数</li>
        <li>思路应该就是化简到基本元素去计算</li>
      </ul>
    </li>
  </ol>
</blockquote>
<h3>泊松定理</h3>
<p>若 $f$ 和 $g$ 都是循环变量, 那么 $[f, g]$ 也是循环变量.</p>
<p>证明非常平凡, 就是求导:</p>
<p>$$\frac{\mathrm{d}}{\mathrm{d}t}[f, g] =\
  \frac{&part;}{&part; t}[f, g] + [H, [f, g]] =\
  [\frac{&part; f}{&part; t} + [H, f], g] +\
  [f, \frac{&part; g}{&part; t} + [H, g]]$$</p>
<p>$$&rArr; = [\frac{\mathrm{d} f}{\mathrm{d} t}, g] +\
  [f, \frac{\mathrm{d} g}{\mathrm{d} t}] = 0$$</p>
<p>通过这样的方式, 就能够得到新的循环变量.</p>
<p>(Note: 不过因为循环变量的数量肯定是有限的,
  所以有这样一个无聊的想法, 如果用 $f$, $g$ 来计算, $[f, [f, g]]$,
  $[f, [f, [f, g]]]$ 这样一直下去, 肯定会有重复.
  诶, 那么是否就会得到一个循环的群呢? 好吧,
  最后发现课件里面写了: 正则变换构成一个群. <del>是我上课没仔细听了</del>)</p>
<ul>
  <li>判断运动积分是否独立: 看他们是否能够被其他线性表示:
    <p>$$\frac{&part; (F_1, F_2, \cdots)}{&part; (q_1, q_2, \cdots, p_1, p_2, \cdots)} &ne; 0$$</p>
  </li>
  <li>能否有新的运动积分</li>
</ul>
<h2>哈密顿 - 雅克比理论</h2>
<p>有 Pfaff 方程:</p>
<p>$$p_k \mathrm{d}q_k + q_k^* \mathrm{d}p_k^* - (H - H^*)\mathrm{d}t = \mathrm{d}F_2(q, p^*, t)$$</p>
<p>于是可以变换成: (假设有 $H^* = 0$, 且有目标 $\dot{p}^* = 0, \dot{q}^* = 0$)</p>
<p>$$\frac{&part; S}{&part; t} + H(q, \frac{&part; S}{&part; q}, t) = 0$$</p>
<blockquote>
  <p>Eg. 对于单个质点的一维运动: $H = \frac{1}{2m} p^2 + V(q)$,
    其雅克比方程为: $\frac{&part; S}{&part; t} + \frac{1}{2m} (\frac{&part; S}{&part; q})^2 + V(q) = 0$.</p>
</blockquote>
<p>其对应的物理意义: $S = &int; L \mathrm{d}t &rArr; L = \frac{\mathrm{d}S}{\mathrm{d}t}, H = - \frac{&part; S}{&part; t}$</p>
<p>对于 $H = const = E$ 的特殊情况, 可以令 $S = - E t + W(q, &alpha;, E)$,
  其中 $W$ 为哈密顿特征函数. 然后就可以用来求解:
  (利用 $p = \frac{&part; W}{&part; q}$)</p>
<p>$$H(q, \frac{&part; W}{&part; q}) = E$$</p>
<p>如果还不显含 $X$, 那么就还能继续化简 $W = W'(\hat{X}) + &alpha; X$.</p>
<blockquote>
  <p>Eg. $H = \frac{1}{2m}p_1^2 + \frac{1}{2m}(p_2 - k q_1)^2$,
    令 $W = W_1(q_1) + &alpha; q_2$, 对应的雅克比方程:</p>
  <p>$$\frac{1}{2m} (\frac{&part; W_1}{&part; q_1})^2 + \frac{1}{2m}(&alpha; - k q_1) = E$$</p>
  <p>然后求解方程即可 (虽然并不好求).</p>
</blockquote>
<h1>微振动</h1>
<p>这部分就比较简单了 <del>(并不是)</del>, 考虑下列的一个振动方程:</p>
<p>$$m \ddot{x} + &gamma; \dot{x} + m &omega;^2 x = f$$</p>
<p>这个方程的一般的解的形式如下:</p>
<p>$$x = \frac{f}{m &omega; ^2}+\
  c_1 e^{\frac{1}{2} t \left(-\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}\
  +c_2 e^{\frac{1}{2} t \left(\frac{\sqrt{&gamma; ^2-4 m^2 &omega; ^2}}{m}-\frac{&gamma; }{m}\right)}$$</p>
<p>当然, 也能够通过分类的方式来解决问题.
  不过还是来看看如何通过简单的操作来得到这个方程吧.</p>
<ol>
  <li>临界条件: $&gamma; = 2m &omega;$,
    这个时候, 对应的通解是 $x = (c_1 + c_2 t)e^{-&lambda; t}$.</li>
  <li>过阻尼: $&gamma; &gt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t}$</li>
  <li>欠阻尼: $&gamma; &lt; 2m &omega;$, 得到的解类似于 $e^{-&lambda; t} e^{i &omega; t}$</li>
</ol>
<h1>习题</h1>
<h2>哈密顿力学</h2>
<h3>写出哈密顿函数</h3>
<p>方法比较简单, 就是在拉氏量的基础上:</p>
<p>$$H = q p - L = q \frac{&part; L}{&part; \dot{q}} - L$$</p>
<p>然后做 $p = \frac{&part; L}{&part; \dot{q}}$ 的换元,
  即可得到 $H(q, p, t)$ 的方程了.</p>
<p>使用哈密顿函数来求解的方法:</p>
<ol>
  <li>写出 $L = T - V$</li>
  <li>得到 $H = q p - L, p = \frac{&part; L}{&part; \dot{q}}$</li>
  <li>利用正则方程: $\dot{q} = \frac{&part; H}{&part; p}, \dot{p} = - \frac{&part; H}{&part; q}$
    然后计算 $2s$ 个微分方程.</li>
  <li>然后计算轨道 (如果有必要的话)</li>
</ol>
<h3>找出循环积分和能量积分, 以及判断守恒量</h3>
<p>所谓的循环积分 (比如用 $X$ 来表示), 也就是 $\frac{\mathrm{d} X}{\mathrm{d} t} = 0$.
  判断方式就是通过:</p>
<ol>
  <li>直接看可遗坐标是否存在: 比如 $\frac{&part; H}{&part; q}$ 直接就 $=0$,
    那么显然 $q$ 就是可遗坐标. ($H$ / $L$ 不显含)</li>
  <li>计算 $\dot{p} = \frac{&part; H}{&part; t} + [H, p]$.</li>
  <li>或者利用泊松定理来构造新的 $\dot{f} = \dot{g} = 0 &rArr; [f, g]$,
    只要注意到实际上是有上限的就可以构造完了.</li>
</ol>
<h3>计算泊松括号</h3>
<p>通过上面的基本公式来化简成基本的泊松括号:</p>
<ul>
  <li>$[p_i, q_j] = &delta;_{ij}$</li>
  <li>$[p_i, p_j] = [q_i, q_j] = 0$</li>
</ul>
<p>基本的思路是这样的:</p>
<ol>
  <li>利用双线性性, 将 $[F, G] &rArr; &sum; &alpha;_i [f, g]$.
    其中系数 $&alpha;_i$ 可以是 $&epsilon;_{ijk}$ 等与 $p, q$ 无关的 &#8220;常数&#8221;.
    <p>(看来还要记忆一下 $&epsilon;$ 的一些计算法则. )</p>
  </li>
  <li>对于单个 $[f, g]$, 如果不麻烦的话, 可以直接用
    $\frac{&part; f}{&part; p}\frac{&part; g}{&part; q} -\
    \frac{&part; f}{&part; q}\frac{&part; g}{&part; p}$
    然后来计算.
    <p>如果可以化简的话, 比如 $f$ 中不显含 $p$ 或者 $q$ 之类的.
      就可以快速简化计算.</p>
  </li>
</ol>
<h3>求解母函数的哈密顿雅克比方程</h3>
<ol>
  <li>是否显含时间 $\frac{&part; H}{&part; t} = 0$,
    若有, 则 $S = -E t + W$</li>
  <li>是否有可遗坐标 $\frac{&part; H}{&part; q} = 0$
    若有, 则 $W = W' + &alpha; q$</li>
  <li>带入雅克比方程: $\frac{&part; S}{&part; t} + H = 0$,
    并求解方程.</li>
</ol>
<h3>判断是否是正则变换</h3>
<ol>
  <li>对 $(p, q) \mapsto (P, Q)$, 判断雅克比行列式:
    $\frac{&part; (P, Q)}{&part; (p, q)}$ 是否为 $1$, 若是, 则为正则变换, 反之否.</li>
  <li>判断是否满足正则方程</li>
  <li>其他 (目前就了解那么多大概就够了)</li>
</ol>
<h2>简谐振动</h2>
<h3>写出振动方程</h3>
<ol>
  <li>小量近似 (流氓化简)</li>
  <li>或者在上面的近似中保留线性的阻尼项</li>
</ol>
<p>一个比较技巧的就是比内方程: 通过变换
  $\dot{r} = \frac{\mathrm{d}r}{\mathrm{d} &theta;} \dot{&theta;}$, 以及 $u = \frac{1}{r}$ 然后将中心力场的运动方程化为:</p>
<p>$$mh^2u^2(\frac{\mathrm{d}^2 u}{\mathrm{d}&theta;^2} + u) = -F(r)$$</p>
<h3>计算临界阻尼的运动方程, 以及过临界等.</h3>
<ol>
  <li>写出运动方程</li>
  <li>判断是否有临界阻尼的情况,
    如果有, 则带入 $x = (c_1 + c_2 t) e^{-&omega; t}$</li>
  <li>直接带入 $x = x_0 + c_1 e^{&lambda;_1 t} + c_2 e^{&lambda;_2 t}$,
    其中, 可以直接带入试探解 $x = e^{&lambda; t}$,
    然后通过特征方程来计算出 $&lambda;$ 的值.</li>
</ol>
<h3>计算简振频率和简振模式</h3>
<ol>
  <li>将振动方程 (组) 写成矩阵的形式:
    <p>$$\boldsymbol{M} \ddot{q} + \boldsymbol{K} \boldsymbol{q} = 0$$</p>
    <p>然后对其进行求特征值: (久期方程)</p>
    <p>$$\mathrm{det}(\boldsymbol{K} - &omega;^2 \boldsymbol{M}) = 0$$</p>
  </li>
  <li>用特征值 $&omega;$ 对坐标进行正交化,
    即可得到线性化的微分方程.</li>
</ol>
<h1>Emacs Calc: 一些奇怪的东西</h1>
<p>类似一种带货了属于是&#8230; 在 Emacs 里面有一个叫做 calc-mode 的东西.
  好不好用目前还难以判断, 但是非常有意思:</p>
<p>比如执行命令:</p>
<div class="highlight"><pre><span></span>fsolve([x + y = a, x - y = b], [x, y])
</pre></div>
<p>然后就会得到结果:</p>
<pre class="example">
[x = a + (b - a) / 2, y = (a - b) / 2]
</pre>
<p>单看演示, 功能还是很强的.
  一个稍微别扭一点的地方就是文档感觉有点少, (<a href="https://www.gnu.org/software/emacs/manual/html_mono/calc.html#Tutorial">官方的文档</a>)
  并且输入用的是类似栈的方式输入的. 但是这并不影响,
  毕竟啥好玩就玩啥.</p>
<p>(那么为什么是在复习理论力学的时候?
  因为黄老师在上课的时候并没有排斥我们使用计算机来进行计算,
  <del>虽然也没有让我们用计算机来考试就是了</del>,
  并且非常鼓励我们使用计算机来辅助计算.
  <del>虽然我上课时候用的都是 Mathematica</del>, 但是这并不妨碍我玩玩 calc)</p>
<p>参考资料:</p>
<ul>
  <li><a href="https://www.gnu.org/software/emacs/manual/html_mono/calc.html#Tutorial">官方的文档</a>, 目前看来非常好用. 在稍微了解个把例子之后就可以上手了.</li>
  <li><del><a href="https://vimeo.com/14742598">Emacs-Calc: The Poor Man's Mathematica</a></del>,
    不太推荐, 口音严重, 并且录制的时候好像忘了录制输入了.</li>
  <li><a href="https://github.com/lujun9972/emacs-document/blob/master/calc/emacs-calculator使用说明.org">emacs-calculator使用说明</a></li>
  <li><a href="https://www.math.s.chiba-u.ac.jp/~matsu/emacs/emacs21/calc-example.html">calc の使用例</a></li>
</ul>
<h2>认清地位</h2>
<p>嗯, 在大致了解了 calc 之后, 发现实际上它能干的事情应该并没有很多.
  (没法成为一个 Mathematica), 但是可以作为一个干翻 CASIO 的存在了.
  并且在了解了其主要的操作逻辑之后, 发现它真的很适合作为计算器来存在.</p>
<p>嗯, 一个有趣的计算器&#8230; 想到之前 <del>难产的</del> <a href="http://127.0.0.1:9600/learning/computer-algebra-pickup/">计算机代数系统</a>,
  不禁想起了我高中时的一个梦想, 如果有一台计算器,
  能够像 Mathematica 一样进行符号处理的话就好了.
  (当时我只知道 Mathematica 可以进行符号处理, 也不是很会用)
  现在看来, 将 Emacs 移植到单片机上, 然后做一个类似于
  <a href="https://www.youtube.com/watch?v=q3qIS5XvzfQ">CASIO Z-1GR 16-Bit Pocket Computer</a> 这样的外形, <del>搞不好这能吃律师函</del>
  应该会很有意思. 作为未来的一个 flag 来努力吧. <del>搞不好这事能发 paper</del></p>
<p>认清 calc 最适合做一个快速好用的计算器之后, 接下来就比较好使用了.</p>
<h2>简单操作</h2>
<p>在 Emacs 中, 使用 <code>M-x calc</code> 即可进入 <code>calc-mode</code>.
  (或者使用系列快捷键 <code>C-x * c</code> 进入)</p>
<h3>RPN</h3>
<p>默认使用的输入方式叫做 RPN (Reverse Polish Notation 逆波兰表达式),
  即 $a+b$ 这样的表达式, 就会通过 <code>a RET b RET + RET</code> 的方式输入.</p>
<p>Note: 如果你做错了什么的话, 使用 <code>U</code> 来 Undo, <code>D</code> 来 reDo.
  (或者使用退格键来删掉重来也不是不行&#8230; )</p>
<h3>Algebraic-Style Calculations</h3>
<p>当然, 正经人肯定想要用简单的方式来输入了: 通过前置一个引号 ~'~,
  来输入自然的表达式: ~'a + b RET~.</p>
<p>(注: 这仍然是输入, 终极的操作逻辑仍然是 RPN 的逻辑. )</p>
<p>需要注意的是, 其中的运算顺序是 <code>^ * / +-</code>, 所以在乘除的时候需要小心.</p>
<p>通过输入 <code>m a</code> 来进入 Algebraic Mode (在 minibuffer 上面会显示 Alg),
  然后就可以输入公式了. 得到的结果会立刻写入栈上. (退出同理)</p>
<p>不同数值的输入方式:</p>
<ul>
  <li>如果想要输入复数的话, 比如 $a + b i$, 那么就可以输入 <code>(a, b)</code> 来输入.</li>
  <li>类似 Ruby 的 Array 和 Range, 可以输入一个集合
    (数组/向量/&#8230; 名字还挺多): <code>[&lt;a_1&gt;, &lt;a_2&gt;, ]</code>
    或者 <code>[&lt;inf&gt;, &lt;sup&gt;]</code>. 并且输入的时候可以一行一行地输入.</li>
  <li>然后是 Matrix: <code>[[&lt;a_ij&gt;, ...], ...]</code> 的类型</li>
</ul>
<h3>函数</h3>
<p>在 Algebraic Mode 下, 输入 <code>f(x)</code> 的形式就可以进行函数的调用计算了.
  比如:</p>
<div class="highlight"><pre><span></span>&#39;sqrt(1 + 2)
</pre></div>
<p>当然, 也有一些 RPN 输入下的快捷按键:
  (可以通过 <code>m ?</code> 来查看, 类似的还有 <code>a ?</code>)</p>
<ul>
  <li>简单的操作
    <ul>
      <li><code>Q</code> sqrt</li>
      <li><code>P</code> pi</li>
      <li><code>F</code> flor (floor), <code>R</code> round</li>
    </ul>
  </li>
  <li>三角函数
    <ul>
      <li><code>S</code> sin, <code>C</code> cos, <code>T</code> tan, <code>E</code> exp, <code>L</code> ln</li>
      <li><code>IS</code> arcsin, <code>IC</code> arccos, <code>IT</code> arctan</li>
    </ul>
  </li>
  <li>双曲函数
    <ul>
      <li><code>HS</code> sinh, <code>HC</code> cosh, <code>HT</code> tanh</li>
    </ul>
  </li>
  <li>复数
    <ul>
      <li><code>J</code> conj 取对偶</li>
      <li><code>G</code> arg 取幅角</li>
    </ul>
  </li>
  <li>向量
    <ul>
      <li><code>+</code>, <code>-</code>, <code>*</code> dot, <code>C</code> vC, cross.</li>
      <li><code>A</code> abs</li>
    </ul>
  </li>
  <li>符号计算
    <ul>
      <li><code>a d</code> calc-derivative 微分, 可以描述对什么微分</li>
      <li><code>a i</code> calc-integral 积分, 可以描述对什么积分</li>
      <li><code>a a</code> calc-apart 有理式函数展开</li>
      <li><code>a c</code> calc-collect</li>
      <li><code>a s</code> calc-simplify</li>
      <li><code>a x</code> calc-expand</li>
      <li><code>a n</code> calc-normalize-rat</li>
    </ul>
  </li>
</ul>
<p>(注: 在 minibuffer 上会有角度单位 Deg 和 Rad 标记.
  使用 <code>m d</code> 和 <code>m r</code> 来分别切换. 还有 <code>m h</code> 切换到 HMS 模式)</p>
<h3>赋值</h3>
<p>这个更像是 Mathematica 里面的 Replace,
  通过替换出现的符号来得到最终的结果. 通过 <code>s s &lt;var-name&gt; RET</code>,
  来将栈中的结果放到 <code>&lt;var-name&gt;</code> 中, 然后在计算过程中,
  比如最终的栈上的结果是 <code>&lt;exp-of-var-name&gt;</code>,
  通过按 <code>=</code> 来将 <code>&lt;var-name&gt;</code> 的结果代入.</p>
<p>并且 calc 计算的结果会在 Trail 中记录,
  可以通过 <code>t y</code> 来将 Trail 中指向的值放到栈中.
  (可以通过 <code>t n</code> 和 <code>t p</code> 来移动指向的位置)</p>
<h2>其他的一些操作</h2>
<ul>
  <li><code>h</code> 可以进入帮助输入的模式, 基本上 calc Document
    也就是官方的文档都在里面了.</li>
  <li><code>C-x *</code> 系列按键映射</li>
  <li>在 Emacs 中的其他部分, 可以通过 <code>C-x * y</code> 的方式来将 calc
    中剩下的最后一个结果粘贴到光标处:</li>
  <li>画图 (可以参考 <a href="https://www.reddit.com/r/emacs/comments/jdrcer/calc_is_fun/">calc is fun</a>)</li>
</ul>
<h2>一个马后炮</h2>
<p>在考试的时候, 遇到了一个很奇怪的微分方程: (我不会积啊&#8230; 妈蛋)</p>
<p>总之就是现在特别后悔, 早知道我 tmd 猜的是对的&#8230;
  (但是还是不会积分), 如果当时能够让我用计算机代数系统,
  就算是 calc 也可以解出那个问题了:</p>
<div class="highlight"><pre><span></span>integ(sqrt(E * q1^2 - 1), q1)
</pre></div>
<p>结果就是这样:</p>
<pre class="example">
(q1 sqrt(E) sqrt(E q1^2 - 1) - arccosh(q1 sqrt(E))) / (2 sqrt(E))
</pre>
<p>emmm&#8230; 或者可以转换成 LaTeX 模式 <code>d T</code></p>
<p>$${\left( q1 \sqrt{E} \sqrt{E q1^2 - 1} - arccosh\left( q1 \sqrt{E} \right) \right) / \left( 2 \sqrt{E} \right)}$$</p>
<p>&#8230;</p>
<p>emmm&#8230; 为什么都大学了, 还不能用符号计算器呢?</p>

  </div><a class="u-url" href="/notes/analysis-mechanics-final/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My Blog</li><li><a class="u-email" href="mailto:thebigbigwordl@qq.com">thebigbigwordl@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/li-yiyang"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">li-yiyang</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>某不知名的很硬的双非学校的物理系学生的无聊博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
