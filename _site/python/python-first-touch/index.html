<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>First Touch of Python | My Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="First Touch of Python" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="First Touch of Python Python千千万, 到处都在吹, 我也知道它很好, 只是我不爱." />
<meta property="og:description" content="First Touch of Python Python千千万, 到处都在吹, 我也知道它很好, 只是我不爱." />
<link rel="canonical" href="http://0.0.0.0:4000/python/python-first-touch/" />
<meta property="og:url" content="http://0.0.0.0:4000/python/python-first-touch/" />
<meta property="og:site_name" content="My Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-16T08:02:19+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="First Touch of Python" />
<script type="application/ld+json">
{"description":"First Touch of Python Python千千万, 到处都在吹, 我也知道它很好, 只是我不爱.","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/python/python-first-touch/"},"url":"http://0.0.0.0:4000/python/python-first-touch/","@type":"BlogPosting","headline":"First Touch of Python","dateModified":"2021-11-16T08:02:19+00:00","datePublished":"2021-11-16T08:02:19+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="My Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/categories/">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">First Touch of Python</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-11-16T08:02:19+00:00" itemprop="datePublished">Nov 16, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="first-touch-of-python">First Touch of Python</h1>
<p><code class="language-plaintext highlighter-rouge">Python</code>千千万, 到处都在吹, 我也知道它很好, 只是我不爱.</p>

<p>算了, 为了更好的学习和与他人交流, 我现在要学一点<code class="language-plaintext highlighter-rouge">python</code>. 
但是, 因为我学过一点点(真的只有一点点)半吊子的<code class="language-plaintext highlighter-rouge">ruby</code>, 
所以我会用<code class="language-plaintext highlighter-rouge">ruby</code>来学习<code class="language-plaintext highlighter-rouge">python</code>, 并且尽量找一种可以把<code class="language-plaintext highlighter-rouge">python</code>
代码用<code class="language-plaintext highlighter-rouge">ruby</code>来写的做法.</p>

<h2 id="没什么关系的前言">没什么关系的前言</h2>
<p>这真的不知道该高兴呢还是伤心, 感觉<code class="language-plaintext highlighter-rouge">python</code>超级受欢迎, 
有很多的支持和帮助, 结果就导致了文档到处都有. 
一个库有一个库的文档, 分散(确切的来说, 
应该是被不同的”友好”的组织发布)在不同的地方. 
查找起来就很让人不爽了.</p>

<p>但是<code class="language-plaintext highlighter-rouge">ruby</code>虽然有一些看起来很官方的文档, 
<code class="language-plaintext highlighter-rouge">rdoc</code>简直就是天堂. 不得不佩服<code class="language-plaintext highlighter-rouge">ruby</code>程序员.</p>

<blockquote>
  <p>程序员笑话: 程序员最讨厌的事情就是看没有注释和文档的代码, 
以及写注释和文档.</p>
</blockquote>

<p>(但是这是不是因为<code class="language-plaintext highlighter-rouge">ruby</code>实在是太冷门了? 
感觉完全没有人想要在它身上捞烂钱. 所以除了官方, 
其他人也没什么动力来搞它? 好像也不是, 
因为以前还是有神仙的. )</p>

<p>(所以自学<code class="language-plaintext highlighter-rouge">python</code>等价于在网上看视频, 看书, 看教材…
自学<code class="language-plaintext highlighter-rouge">ruby</code>等于看文档, 看源码, 看命… ?)</p>

<h2 id="python-basis">Python Basis</h2>
<h3 id="运算符-赋值-类型">运算符, 赋值, 类型</h3>
<p>目测和<code class="language-plaintext highlighter-rouge">ruby</code>是大同小异的</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="o">=</span> <span class="s">"Hello, this is python. "</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span> <span class="o">**</span> <span class="n">x</span> <span class="o">-</span> <span class="p">((</span><span class="mi">6</span> <span class="o">%</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">))</span> <span class="o">//</span> <span class="mi">4</span>
<span class="c1"># // 是整除的运算
# 在ruby里面默认是整除
# 比如3/2 =&gt; 1; 3.0/2 =&gt; 1.5
# 这是因为整数和浮点数的区别
# python自动做了这样的事
</span></code></pre></div></div>

<p>这里有一个注记: <code class="language-plaintext highlighter-rouge">python</code>的变量有点像是<code class="language-plaintext highlighter-rouge">C</code>里面的指针, 
是和对象的地址相关联的东西.</p>

<p>高级操作: (和<code class="language-plaintext highlighter-rouge">ruby</code>一样)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="c1"># x = 4, y = 5
</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="c1"># 交换变量
</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">6</span>   <span class="c1"># c = 6, d = 6
</span></code></pre></div></div>

<h3 id="简单io">简单IO</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">"yes? or no? "</span><span class="p">)</span>
<span class="c1"># 发现print("a", "b", "c")的话, 
# 会自动在输出中间插入空格
# =&gt; "a b c"
# 嗯, 又是一个不一样的地方
</span><span class="nb">input</span><span class="p">(</span><span class="s">"Okay? "</span><span class="p">)</span>
</code></pre></div></div>
<p>这样就可以得到输入和输出了</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">end</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>  <span class="c1"># end 最后的字符
</span><span class="k">print</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>  <span class="c1"># seprate 分隔字符
</span></code></pre></div></div>

<p>和<code class="language-plaintext highlighter-rouge">ruby</code>不一样的是, <code class="language-plaintext highlighter-rouge">ruby</code>不强制要求函数输入括号; 
但是<code class="language-plaintext highlighter-rouge">ruby</code>给了很多的输出函数, 这些函数还都有一点点的…
tricky…(QAQ, 这种时候感觉自己输了. )</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">puts</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>  <span class="c1"># 和puts "hello"一样, 输出的末尾自带"\n"换行符</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"yes? "</span><span class="p">)</span> <span class="c1"># 输出的末尾不会换行, python 的会换行</span>
<span class="nb">p</span><span class="p">(</span><span class="s2">"ooo"</span><span class="p">)</span>       <span class="c1"># 一种输出, 不过很少见到, 在打印对象的时候会遇到</span>

<span class="nb">gets</span><span class="p">()</span>         <span class="c1"># 得到输入, 唯一坑爹的是最后会加上一个"\n"</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">python</code>好像也有类似的打印命令, 
但是要引入一个库.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pprint</span>

<span class="n">pprint</span><span class="p">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>   <span class="c1"># =&gt; 会打印出来好的形式
</span><span class="n">pprint</span><span class="p">.</span><span class="n">pformat</span><span class="p">(</span><span class="n">obf</span><span class="p">)</span>  <span class="c1"># =&gt; 会输出一个字符串
</span></code></pre></div></div>

<h3 id="string">String</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="s">"this is a string"</span>
<span class="c1"># 字符串的长度
</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>         <span class="c1"># =&gt; 16, ruby: s.length
</span>
<span class="c1"># 类型转换
# int(string, base=10)
</span><span class="nb">int</span><span class="p">(</span><span class="s">"23"</span><span class="p">)</span>      <span class="c1"># =&gt; 23, ruby: s.to_i
# float() 同理
</span><span class="nb">float</span><span class="p">(</span><span class="s">"-0.13"</span><span class="p">)</span> <span class="c1"># =&gt; -0.13, ruby: s.to_f
# str(obj)
</span><span class="nb">str</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>        <span class="c1"># =&gt; "23", ruby: a.to_s
</span></code></pre></div></div>

<h3 id="控制流">控制流</h3>
<h4 id="条件-if">条件 if</h4>
<p>在<code class="language-plaintext highlighter-rouge">python</code>中判断条件, 并进行分支.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">a</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"a is true</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"good. </span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"a is false</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"also good, too. </span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
  <span class="c1"># ...
</span><span class="k">elif</span> <span class="n">b</span><span class="p">:</span>
  <span class="c1"># ...
</span><span class="k">elif</span> <span class="n">c</span><span class="p">:</span>
  <span class="c1"># ...
</span><span class="k">else</span><span class="p">:</span>
  <span class="c1"># ...
</span></code></pre></div></div>
<p>在<code class="language-plaintext highlighter-rouge">ruby</code>中也是这样的:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">condition</span> <span class="o">==</span> <span class="kp">true</span> <span class="k">then</span> <span class="c1"># 可以把then给扔掉</span>
  <span class="c1"># hai~</span>
<span class="k">elsif</span> <span class="n">conditon</span> <span class="o">==</span> <span class="kp">nil</span>
  <span class="c1"># ruby 里面有true, nil(空), false</span>
  <span class="c1"># 虽然nil可以用在逻辑判断中和false等价</span>
  <span class="c1"># 但是实际上nil是一种类似于0一样的占位符</span>
  <span class="c1"># 好像可以这样理解: </span>
  <span class="c1"># 我不知道这个变量的值是什么, 所以就叫它nil算了</span>
  <span class="c1"># python 里面也有, 叫做None</span>
<span class="k">else</span>
  <span class="c1"># ...</span>
<span class="k">end</span>

<span class="c1"># ruby有行if和unless</span>
<span class="c1"># unless等价于写了if但是把条件加了一个not</span>
<span class="nb">puts</span> <span class="n">a</span> <span class="k">unless</span> <span class="n">a</span><span class="p">.</span><span class="nf">nil?</span>
</code></pre></div></div>
<h4 id="循环">循环</h4>
<p><code class="language-plaintext highlighter-rouge">python</code>里面有<code class="language-plaintext highlighter-rouge">while</code>和<code class="language-plaintext highlighter-rouge">for</code>, 
虽然和<code class="language-plaintext highlighter-rouge">ruby</code>一样, 这个<code class="language-plaintext highlighter-rouge">for</code>和<code class="language-plaintext highlighter-rouge">C</code>的<code class="language-plaintext highlighter-rouge">for</code>很不一样.</p>

<p><code class="language-plaintext highlighter-rouge">while</code>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="n">condition</span> <span class="o">==</span> <span class="n">true</span><span class="p">:</span>
  <span class="c1"># ...
</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">condition</span> <span class="o">!=</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">break</span>               <span class="c1"># 跳出while循环
</span>  <span class="k">if</span> <span class="n">restartCondition</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">continue</span>            <span class="c1"># 回到循环的开头
</span></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">for</code>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"the"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s">"times"</span><span class="p">)</span>

<span class="c1"># range(start, end, step)
# range(start, end), step = 1
# range(end), step = 1, start = 0
</span></code></pre></div></div>

<p>这个时候<code class="language-plaintext highlighter-rouge">ruby</code>就有很多的骚操作了, 
你可以写的超级花里胡哨, 总之是怎么花怎么来.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">5</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">"the </span><span class="si">#{</span><span class="n">i</span><span class="si">}</span><span class="s2"> time"</span>
<span class="k">end</span>

<span class="mi">5</span><span class="p">.</span><span class="nf">times</span><span class="p">{</span><span class="nb">print</span> <span class="s2">"ruby"</span><span class="p">}</span>

<span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="mi">100</span><span class="p">).</span><span class="nf">step</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="nf">each</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">i</span><span class="p">}</span>

<span class="kp">loop</span> <span class="k">do</span>
  <span class="c1"># 等价于while true</span>
  <span class="c1"># break if ...</span>
<span class="k">end</span>

<span class="k">while</span> <span class="n">condition</span> <span class="o">==</span> <span class="kp">true</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<h4 id="吐槽">吐槽</h4>
<p>这里可以看到<code class="language-plaintext highlighter-rouge">python</code>该死的块结构, 我觉得就很迷幻, 
为什么要用缩进来表示块结构, 这个冒号<code class="language-plaintext highlighter-rouge">:</code>也太容易打漏了, 
我看代码的时候也很累.</p>

<p>(好吧, 只是一己之偏见, 实际上ruby也是这样的啦, 
也有缩进, 虽然不强制. <code class="language-plaintext highlighter-rouge">end</code>在多重嵌套的时候又会漏. )</p>

<p>不过不得不说, 感觉<code class="language-plaintext highlighter-rouge">ruby</code>就是一个超级缝合怪, 
什么语言很高级, 很优美, 就吸收什么语言的特性, 
佩服一下Matz, (刚好近代史纲提了一嘴日本).</p>

<h3 id="函数">函数</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">funcName</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">defaultArg</span><span class="o">=</span><span class="s">"default value"</span><span class="p">):</span>
  <span class="c1"># 如果一开始没有设定默认值的参数
</span>  <span class="c1"># 在调用的时候就一定要给参数, 否则就会尬
</span>  <span class="c1"># do things
</span>  <span class="k">return</span> <span class="bp">None</span> <span class="c1"># 返回值 不一定强制写返回值, 可以自动给出最后一个运算的值
</span></code></pre></div></div>
<p>在这个时候就会有一个叫作环境的概念, 
不同的代码块可以看作是不同的环境, 
可以想象一种<code class="language-plaintext highlighter-rouge">global</code>的环境, 就是总的代码的运行环境, 
里面放了很多的东西, 但是当进入了一个新的环境的时候, 
比如说在调用函数的时候, 就会局部开一个新的环境. 
在这样的环境中, 如果调用变量的话就要有一些考虑了.</p>

<p>(一个猜想, 不一定对, 没准这就是<code class="language-plaintext highlighter-rouge">stack</code>的机理. )</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># 这里的x是外环境的变量
</span><span class="k">def</span> <span class="nf">helloTwo</span><span class="p">():</span>
  <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>    <span class="c1"># 这里的x是局部变量
</span>  <span class="k">print</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">helloThree</span><span class="p">():</span>
  <span class="k">global</span> <span class="n">x</span> <span class="c1"># 这里用global强制地声明x是外环境的变量
</span>  <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>    <span class="c1"># 改变了外环境的x
</span>  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">hello</span><span class="p">()</span>    <span class="c1"># =&gt; 1
</span>
<span class="n">hello</span><span class="p">()</span>    <span class="c1"># =&gt; 3
</span><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="c1"># =&gt; 1, 没有改变外环境的x
</span>
<span class="n">helloThree</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="c1"># =&gt; 3
# 这样的函数比较危险, 还是少用为妙
</span></code></pre></div></div>

<p>简单的<code class="language-plaintext highlighter-rouge">ruby</code>代码:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="异常处理">异常处理</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
  <span class="c1"># codes
</span>  <span class="c1"># for example:
</span>  <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">0</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="s">"Error"</span><span class="p">)</span>
  <span class="c1"># 处理代码, 救命用
</span></code></pre></div></div>
<p>在<code class="language-plaintext highlighter-rouge">ruby</code>中的形式:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">begin</span>
  <span class="c1"># ...</span>
<span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">exception</span>
  <span class="c1"># ...</span>
<span class="k">else</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="数据结构">数据结构</h3>
<h4 id="列表-list">列表 List</h4>
<p>这一节写的比较乱, 以后再改吧.</p>

<p>在<code class="language-plaintext highlighter-rouge">ruby</code>里面叫<code class="language-plaintext highlighter-rouge">Array</code></p>
<ul>
  <li>定义列表: <code class="language-plaintext highlighter-rouge">list = ["a", 1, ["a", "asd"]]</code></li>
  <li>访问元素:
    <ul>
      <li>index: <code class="language-plaintext highlighter-rouge">list[0] # =&gt; "a"</code>顺着拿, 从0开始</li>
      <li>negative index: <code class="language-plaintext highlighter-rouge">list[-1] # =&gt; ["a", "asd"]</code>倒着拿, 从1开始</li>
    </ul>
  </li>
  <li>修改元素:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">list[index] = value</code></li>
    </ul>
  </li>
  <li>列表操作:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">len(list) # =&gt; 3</code> 列表长度 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.length</code></li>
      <li><code class="language-plaintext highlighter-rouge">del list[index]</code> 删除值 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.delete_at index</code></li>
      <li><code class="language-plaintext highlighter-rouge">list.append(value)</code> 向末尾添加值 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a &lt;&lt; value</code></li>
      <li><code class="language-plaintext highlighter-rouge">list.insert(index, value)</code> 往<code class="language-plaintext highlighter-rouge">index</code>处插入元素
<code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.insert index, value</code></li>
      <li></li>
      <li><code class="language-plaintext highlighter-rouge">value in list</code> 是否在列表里 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.include? value</code> <br />
<code class="language-plaintext highlighter-rouge">value not in list</code> 不再列表</li>
      <li><code class="language-plaintext highlighter-rouge">list.index(value)</code> 找到值的位置 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.index value</code> <br />
<code class="language-plaintext highlighter-rouge">list.remove(value)</code> 删除值 <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.delete value</code>
不一样的地方是<code class="language-plaintext highlighter-rouge">python</code>找不到就会报<code class="language-plaintext highlighter-rouge">ValueError</code>, 
<code class="language-plaintext highlighter-rouge">ruby</code>找不到的话就会返回<code class="language-plaintext highlighter-rouge">nil</code>a <br />
一样的地方都是只会给出第一次出现的匹配的值的位置</li>
      <li><code class="language-plaintext highlighter-rouge">for i in list:</code> 类似于 <code class="language-plaintext highlighter-rouge">ruby</code> 的<code class="language-plaintext highlighter-rouge">list.each do ... end</code></li>
      <li><code class="language-plaintext highlighter-rouge">list1 + list2</code> 相加</li>
      <li><code class="language-plaintext highlighter-rouge">list.sort</code> 排序 <code class="language-plaintext highlighter-rouge">list.sort(reverse=True)</code>反向排序, 
<code class="language-plaintext highlighter-rouge">list.sort(key=str.lower)</code> 
利用关键词参数<code class="language-plaintext highlighter-rouge">key</code>可以设置排序方式为字典排序
<code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a.sort!</code>  <br />
这里注意有一个<code class="language-plaintext highlighter-rouge">ruby</code>方法命名的约定, 就是方法命名的时候, 
一般把会改变原来的对象的方法名称后面都有一个<code class="language-plaintext highlighter-rouge">!</code>表示要注意, 
假如没有<code class="language-plaintext highlighter-rouge">!</code>, 只会产生一个排了序的副本.</li>
    </ul>
  </li>
  <li>列表切片: <code class="language-plaintext highlighter-rouge">list[startIndex:endIndex]</code> <code class="language-plaintext highlighter-rouge">ruby</code>: <code class="language-plaintext highlighter-rouge">a[start..end]</code></li>
</ul>

<p>为什么要列表切片? 这是因为列表又一点像<code class="language-plaintext highlighter-rouge">C</code>里面的数组指针, 
当<code class="language-plaintext highlighter-rouge">a = list</code>, 假如修改了<code class="language-plaintext highlighter-rouge">a</code>里面的元素, 
<code class="language-plaintext highlighter-rouge">list</code>里面的元素也会随着发生变化.</p>

<h4 id="列表和字符串">列表和字符串</h4>
<p>可以把字符串看作是一个列表</p>

<p>(在<code class="language-plaintext highlighter-rouge">C</code>中, 也确实是这样的. )</p>

<p>所以可以类似的这样访问字符串中的第几个字符: <code class="language-plaintext highlighter-rouge">s[2]</code>
但是不可以用来修改, 比如<code class="language-plaintext highlighter-rouge">s[2] = "3"</code>是不可以的. 
因为字符串是不可变的对象? 
(虽然在<code class="language-plaintext highlighter-rouge">ruby</code>里面是可以的)</p>

<h4 id="元组">元组</h4>
<p>元组可以看成是不可以变的列表.</p>

<p><code class="language-plaintext highlighter-rouge">tuple = ('hello', 42, (1, 2, 3))</code></p>

<p>但是好像在<code class="language-plaintext highlighter-rouge">ruby</code>里面好像没怎么有类似的东西. 
好像有冻结? 忘了.</p>

<h4 id="类型转换">类型转换</h4>
<p><code class="language-plaintext highlighter-rouge">tuple(list)</code>, <code class="language-plaintext highlighter-rouge">list(tuple)</code>看就懂了.</p>

<h4 id="字典">字典</h4>
<p>字典没有排序, 因为是靠<code class="language-plaintext highlighter-rouge">key</code>来访问的. 
好像在<code class="language-plaintext highlighter-rouge">ruby</code>里面是靠<code class="language-plaintext highlighter-rouge">hash</code>值计算来访问的, 
所以叫<code class="language-plaintext highlighter-rouge">hash</code>, 名字有点不一样.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'key1'</span><span class="p">:</span> <span class="n">value1</span><span class="p">,</span> 
  <span class="s">'key2'</span><span class="p">:</span> <span class="n">value2</span>
<span class="p">}</span>
<span class="n">dictionary</span><span class="p">[</span><span class="s">'key1'</span><span class="p">]</span> <span class="c1"># =&gt; value1
</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">.</span><span class="n">values</span><span class="p">():</span>
  <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>         <span class="c1"># =&gt; 输出value
</span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">.</span><span class="n">keys</span><span class="p">():</span>
  <span class="c1"># key
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
  <span class="c1"># i = (key, value)
</span>  <span class="c1"># 是一个键值对
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ruby</code>里面的<code class="language-plaintext highlighter-rouge">hash</code>是这样的:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"key1"</span> <span class="o">=&gt;</span> <span class="n">value1</span><span class="p">,</span>
  <span class="s2">"key2"</span> <span class="o">=&gt;</span> <span class="n">value2</span>
<span class="p">}</span>
<span class="nb">hash</span><span class="p">[</span><span class="s1">'key1'</span><span class="p">]</span>

<span class="c1"># ruby 还可以用Symbol来当key</span>
<span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:key1</span> <span class="o">=&gt;</span> <span class="n">value</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">value in dictionary</code>, 等价于<code class="language-plaintext highlighter-rouge">value in dictionary.values()</code></li>
  <li><code class="language-plaintext highlighter-rouge">key in dictionary</code></li>
  <li><code class="language-plaintext highlighter-rouge">dictionary.get(key, default)</code>得到<code class="language-plaintext highlighter-rouge">key</code>对应的值, 
假如没有就返回<code class="language-plaintext highlighter-rouge">default</code></li>
  <li><code class="language-plaintext highlighter-rouge">dictionary.setdefault(key, value)</code>检查<code class="language-plaintext highlighter-rouge">key</code>对应的值, 
没有的话就把<code class="language-plaintext highlighter-rouge">key</code>的值设成<code class="language-plaintext highlighter-rouge">value</code>, 返回值就是<code class="language-plaintext highlighter-rouge">key</code>对应的值</li>
</ul>

<h3 id="字符串">字符串</h3>
<p>和<code class="language-plaintext highlighter-rouge">ruby</code>一样, 单引号在<code class="language-plaintext highlighter-rouge">python</code>里面和双引号还是有那么大点区别, 
坑爹的地方就是双引号里面支持字符转义, 单引号里不支持, 要注意…</p>

<p>因为字符串和列表很像, 所以有很多的类似的方法:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="s">"abcdefghijklmn"</span>
<span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># =&gt; "a"
</span><span class="n">s</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="c1"># =&gt; "abcd"
</span><span class="n">s</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span> <span class="c1"># =&gt; "hijklmn"
</span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span> <span class="c1"># =&gt; "efg"
</span>
<span class="s">"z"</span> <span class="ow">in</span> <span class="n">s</span> <span class="c1"># =&gt; False
</span><span class="s">"c"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span>

<span class="n">s</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span> <span class="c1"># 不会改变s
</span><span class="n">s</span><span class="p">.</span><span class="n">lower</span><span class="p">()</span>

<span class="n">s</span><span class="p">.</span><span class="n">islower</span><span class="p">()</span>
<span class="n">s</span><span class="p">.</span><span class="n">isupper</span><span class="p">()</span>

<span class="n">s</span><span class="p">.</span><span class="n">startwith</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="n">s</span><span class="p">.</span><span class="n">endwith</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>
<p>虽然看起来很好用, 实际上鸡肋的很. 
实际上还是直接正则表达式的感觉很好用的样子.</p>

<h4 id="字符串和列表">字符串和列表</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">", "</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'b'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">])</span>
<span class="c1"># =&gt; a, b, c
</span><span class="s">"a, b, c"</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">', '</span><span class="p">)</span>   <span class="c1"># =&gt; 假如没有输入的话, 默认是空格
# =&gt; ['a', 'b', 'c']
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ruby</code>里面也有类似的函数</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">element</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">separator</span><span class="o">=</span><span class="vg">$,</span><span class="p">)</span>
<span class="c1"># if element.kind_of?(Array)</span>

<span class="s2">"string"</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">patten</span><span class="p">)</span>
<span class="c1"># 可以直接传入正则表达式来匹配</span>
</code></pre></div></div>
<h4 id="漂亮格式">漂亮格式</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"string"</span><span class="p">.</span><span class="n">rjust</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>   <span class="c1"># 按长度length扩张字符串, 右对齐
</span><span class="s">"string"</span><span class="p">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>   <span class="c1"># 按长度length扩张字符串, 左对齐
</span><span class="s">"string"</span><span class="p">.</span><span class="n">center</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>  <span class="c1"># 按长度length扩张字符串, 居中
# 上面的函数还可以添加第二个参数, 描述用来填充的字符
</span><span class="s">"string"</span><span class="p">.</span><span class="n">center</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s">'#'</span><span class="p">)</span> <span class="c1"># =&gt; '##string##'
</span>
<span class="c1"># 删除空白字符
</span><span class="s">" s a</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>         <span class="c1"># 开头和末尾都没有空白字符"\n", " "等
</span><span class="s">" s a</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">lstrip</span><span class="p">()</span>        <span class="c1"># left
</span><span class="s">" s a</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">rstrip</span><span class="p">()</span>        <span class="c1"># right
# 还可以添加参数, 就会把参数里面的所有字符都当作是空白字符
</span></code></pre></div></div>

<h4 id="clipboard">ClipBoard</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pyperclip</span>         <span class="c1"># pip install pyperclip
</span>
<span class="n">pyperclip</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span><span class="s">"string"</span><span class="p">)</span> <span class="c1"># copy
</span><span class="n">pyperclip</span><span class="p">.</span><span class="n">paste</span><span class="p">()</span>        <span class="c1"># paste
</span></code></pre></div></div>

<h2 id="advanced">Advanced</h2>
<h3 id="regexp">Regexp</h3>
<p>在<code class="language-plaintext highlighter-rouge">ruby</code>里面, 正则表达式是默认就开启的, 
是一种内置的对象. 可惜<code class="language-plaintext highlighter-rouge">python</code>的没有.</p>

<p>正则表达式需要另外学, 感觉<code class="language-plaintext highlighter-rouge">python</code>的就有点麻烦.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">regexp</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'regexp'</span><span class="p">)</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">regexp</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'string'</span><span class="p">)</span> <span class="c1"># 只找第一次
</span><span class="n">match</span> <span class="o">=</span> <span class="n">findall</span><span class="p">(</span><span class="s">'string'</span><span class="p">)</span>     <span class="c1"># 全部找, 返回字符串的列表或者是元组的列表
</span><span class="n">match</span> <span class="o">=</span> <span class="n">regexp</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'代替用字符串'</span><span class="p">,</span> <span class="s">'匹配用字符串'</span><span class="p">)</span> <span class="c1"># 查找替换字符串
</span>
<span class="n">match</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
<span class="c1"># index = 0或者不输入:  返回匹配的全部文本
# index &gt;= 1:         返回匹配组
</span></code></pre></div></div>

<p>在<code class="language-plaintext highlighter-rouge">ruby</code>里面的正则表达式写起来比较简单:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"to match words"</span><span class="p">.</span><span class="nf">match</span> <span class="sr">/\w+/</span>
<span class="s2">"to match words"</span> <span class="o">=~</span> <span class="sr">/\w+/</span>

<span class="vg">$~</span> <span class="c1"># 返回最后一次的匹配结果</span>
</code></pre></div></div>

<p>具体的我觉得<code class="language-plaintext highlighter-rouge">ruby</code>的文档写的足够详细了, 应该是够用了. 
<a href="https://ruby-doc.org/core-3.0.2/Regexp.html">ruby3.0.2 regexp</a></p>
<h3 id="fileio">FileIO</h3>
<h4 id="basic">Basic</h4>
<p>有一个很坑爹的地方: 
在<code class="language-plaintext highlighter-rouge">windows</code>和<code class="language-plaintext highlighter-rouge">linux</code>或<code class="language-plaintext highlighter-rouge">mac</code>的文件路径名字不一样. 
就是<code class="language-plaintext highlighter-rouge">/</code>和<code class="language-plaintext highlighter-rouge">\</code>的坑.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="s">'usr'</span><span class="p">,</span> <span class="s">'bin'</span><span class="p">)</span>  <span class="c1"># =&gt; 'usr/bin' linux
</span></code></pre></div></div>

<p>(实际上<code class="language-plaintext highlighter-rouge">ruby</code>里面的<code class="language-plaintext highlighter-rouge">File</code>类就直接支持这个, 
<code class="language-plaintext highlighter-rouge">File.join('usr', 'bin')</code>. )</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">()</span>             <span class="c1"># =&gt; 当前工作环境
</span><span class="n">os</span><span class="p">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>        <span class="c1"># 打开文件夹, 打不开就FileNotFoundError
</span>
<span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>     <span class="c1"># 新建文件夹
</span>
<span class="n">os</span><span class="p">.</span><span class="n">getlistdir</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>   <span class="c1"># 列出path里面的文件
</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">getsize</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span> <span class="c1"># 文件大小
</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>  <span class="c1"># 是否存在
</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isdir</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>   <span class="c1"># 是否是文件夹
</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">isfile</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>  <span class="c1"># 是否是文件
</span></code></pre></div></div>

<p>读取文件</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"path"</span><span class="p">)</span>        <span class="c1"># 打开文件 
</span><span class="n">string</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>       <span class="c1"># 读取文件
</span><span class="n">l</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>       <span class="c1"># 读取行, 返回的是列表
</span><span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"string"</span><span class="p">)</span>       <span class="c1"># 写文件
</span><span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>               <span class="c1"># 关闭文件
</span></code></pre></div></div>

<p>保存数据的另外方法</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">shelve</span>

<span class="n">shelfFile</span> <span class="o">=</span> <span class="n">shelve</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'data'</span><span class="p">)</span> <span class="c1"># 打开
</span><span class="n">shelfFile</span><span class="p">[</span><span class="s">'valueName'</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>  <span class="c1"># 写入
</span><span class="n">shelfFile</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>               <span class="c1"># 关闭
</span>
<span class="c1"># 或者用pprint.formant来输出.py
# 然后再import
</span></code></pre></div></div>
<h4 id="a-little-bit-handy">A little bit handy</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>     <span class="c1"># 用来复制文件和文件夹
</span><span class="kn">import</span> <span class="nn">send2trash</span> <span class="c1"># 放到回收站 pip install send2trash
</span>
<span class="n">shutil</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span> <span class="c1"># 复制文件
</span><span class="n">shutil</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span> <span class="c1"># 移动文件, 也可以用来重命名
</span>
<span class="n">os</span><span class="p">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>             <span class="c1"># 删除文件
</span><span class="n">os</span><span class="p">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>              <span class="c1"># 删除空文件夹
</span><span class="n">shutil</span><span class="p">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>         <span class="c1"># 删除文件夹(包括内容)
</span><span class="n">send2trash</span><span class="p">.</span><span class="n">send2trash</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="c1"># 放到回收站
</span>
<span class="k">for</span> <span class="n">folderName</span><span class="p">,</span> <span class="n">subfolders</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
  <span class="c1"># 历遍文件树, 建议不要在里面删除文件, 还是新建一个列表然后再循环
</span></code></pre></div></div>
<h3 id="documents">Documents</h3>
<h4 id="zip">ZIP</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">zipfile</span>    <span class="c1"># zip 文件访问
</span>
<span class="n">zipf</span> <span class="o">=</span> <span class="n">zipfile</span><span class="p">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>     <span class="c1"># 读取文件
</span><span class="n">zipf</span><span class="p">.</span><span class="n">namelist</span><span class="p">()</span>                  <span class="c1"># 返回文件列表
</span><span class="n">zipf</span><span class="p">.</span><span class="n">getinfo</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">file_size</span>     <span class="c1"># 文件大小
</span><span class="n">zipf</span><span class="p">.</span><span class="n">getinfo</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">compress_size</span> <span class="c1"># 压缩大小
</span>
<span class="n">zipf</span><span class="p">.</span><span class="n">extractall</span><span class="p">()</span>                <span class="c1"># 把文件全部解压到当前文件夹
</span><span class="n">zipf</span><span class="p">.</span><span class="n">extract</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>               <span class="c1"># 解压文件到当前文件夹
</span><span class="n">zipf</span><span class="p">.</span><span class="n">extract</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">toPath</span><span class="p">)</span>       <span class="c1"># 解压到toPath
</span>
<span class="n">zipf</span> <span class="o">=</span> <span class="n">zipfile</span><span class="p">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span><span class="c1"># 新建文件夹
</span><span class="n">zipf</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">compress_type</span><span class="o">=</span><span class="n">zipfile</span><span class="p">.</span><span class="n">ZIP_DEFLATED</span><span class="p">)</span>
<span class="c1"># 把path地方的文件压缩到zip文件里
</span>
<span class="n">zipf</span><span class="p">.</span><span class="n">close</span>
</code></pre></div></div>
<h4 id="excel">Excel</h4>
<h4 id="pdf">PDF</h4>
<h4 id="picture">Picture</h4>
<h3 id="debug">Debug</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'error message'</span><span class="p">)</span>
<span class="c1"># 报错, 报错类型是Exception, 错误信息是error message
</span>
<span class="k">try</span><span class="p">:</span>
  <span class="c1"># ...
</span><span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>

<span class="c1"># str(err)就是文件的报错信息
</span></code></pre></div></div>
<h4 id="断言-assert">断言 assert</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##############2021.11.17 先停一下 下次继续################
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">assert</span> <span class="n">condition</span><span class="p">,</span> <span class="s">"massage"</span>
<span class="c1"># 当condition不成立的时候就抛出message然后退出程序
# 可以不用加上message
# assert没法用try和except来处理
</span>
<span class="c1"># 在用-O选项启动的时候就会跳过assert
</span></code></pre></div></div>

<h4 id="日志">日志</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">logging</span>
</code></pre></div></div>
<p>目前好像没有什么会用到日志的需求, 
所以就不再学下去了.</p>

<h4 id="调试器">调试器</h4>
<p>可以设置断点和查看代码中的变量值. 目前还不是很会.</p>
<h3 id="command-line">Command Line</h3>
<p>系统调用传入的参数在<code class="language-plaintext highlighter-rouge">python</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="p">.</span><span class="n">argv</span>        <span class="c1"># 一个包含参数的列表
</span></code></pre></div></div>
<h3 id="web">Web</h3>
<p>不愧是流行的语言, <code class="language-plaintext highlighter-rouge">python</code>在这些方面真的是很完善. 
爬虫的框架真的超级多:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">webbrowser</code></li>
  <li><code class="language-plaintext highlighter-rouge">requests</code></li>
  <li><code class="language-plaintext highlighter-rouge">Beautiful Soup</code></li>
  <li><code class="language-plaintext highlighter-rouge">selenium</code>
    <h4 id="http">HTTP</h4>
    <p>之所以用<code class="language-plaintext highlighter-rouge">http</code>这个标题, 
是因为我觉得上面的这些框架都和<code class="language-plaintext highlighter-rouge">ruby</code>的<code class="language-plaintext highlighter-rouge">net/http</code>很像.</p>
  </li>
</ul>

<p>(虽然<code class="language-plaintext highlighter-rouge">python</code>的这些框架都很便利. )</p>

<h5 id="webbrowser">webbrowser</h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">webbrowser</span>
<span class="n">webbrowser</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"url"</span><span class="p">)</span>
</code></pre></div></div>
<h5 id="request">request</h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">request</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"url"</span><span class="p">)</span> <span class="c1"># 获得网页
</span><span class="n">res</span><span class="p">.</span><span class="n">raise_for_status</span><span class="p">()</span>   <span class="c1"># 检查下载的文件
# 假如有问题的话就会抛出异常, 否则就什么也不做
# 比如会放出requests.exceptioins.HTTPError
# 书里面建议在get后面都加上这一句话
# 在ruby里面的open-uri好像是只要有问题, 直接就爆炸(报错)
</span>
<span class="c1"># 下载的文件要保存到电脑中时, 就要用二进制写入的模式
# 和ruby不同的地方是, ruby的open-uri在小文件的时候会返回String类, 
# 里面包含网页文件的数据, 在大文件的时候, 则会返回IO对象
</span><span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span>
<span class="c1"># file.write(res)
</span><span class="k">for</span> <span class="n">buff</span> <span class="ow">in</span> <span class="n">res</span><span class="p">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
  <span class="nb">file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">buff</span><span class="p">)</span>
<span class="nb">file</span><span class="p">.</span><span class="n">close</span>
</code></pre></div></div>

<p>据说这里有一个老梗, 
大概是因为<code class="language-plaintext highlighter-rouge">python</code>的<code class="language-plaintext highlighter-rouge">urllib</code>写得实在是太复杂了, 
所以虽然它一直在更新, 但是还是挡不住广大的群众使用<code class="language-plaintext highlighter-rouge">urllib</code>.</p>

<p>(悲惨的是, <code class="language-plaintext highlighter-rouge">ruby</code>里面几乎也没什么好的, 
有一个比较早的<code class="language-plaintext highlighter-rouge">open-uri</code>, 现在几乎都没更新了, 
也没有很好的功能, 要访问的话还是用<code class="language-plaintext highlighter-rouge">net\http</code>厉害, 
但是我觉得<code class="language-plaintext highlighter-rouge">open-uri</code>在简单使用的话还是可以接受的. )</p>
<h5 id="beautifulsoup">BeautifulSoup</h5>
<p>(我知道了解一点<code class="language-plaintext highlighter-rouge">HTML</code>语言和<code class="language-plaintext highlighter-rouge">javascript</code>等的东西很重要, 
但是我目前遇到的爬虫往往是静态网页, 所以暂时没有动态网页的需要, 
假如遇到了的话再说吧, 现在就用三脚猫功夫来糊弄一下先. :p)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">bs4</span>

<span class="c1"># 假如有一个res = requests.get(url)
</span><span class="n">p</span> <span class="o">=</span> <span class="n">bs4</span><span class="p">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>  <span class="c1"># 处理
</span><span class="n">e</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">"div"</span><span class="p">)</span>         <span class="c1"># CSS选择器
</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>                      <span class="c1"># 输出
</span><span class="n">e</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'id'</span><span class="p">)</span>                 <span class="c1"># tag上的标志attr
</span><span class="n">e</span><span class="p">.</span><span class="n">attrs</span>                     <span class="c1"># attr的一个字典
</span></code></pre></div></div>

<p>实际上这个模块和<code class="language-plaintext highlighter-rouge">ruby</code>中的<code class="language-plaintext highlighter-rouge">nokogiri</code>是很像的, 
虽然在<strong>ruby cookbook</strong>里面提供了一个HTML的库, 
但是那个库太旧了, 并且也不好用.</p>

<p>(哦, 其实如果正则表达式很强的话, 可以直接用正则表达式来, 
当然, 一般是用来处理很小的或者是一点点的匹配任务. )</p>

<h5 id="selenium">selenium</h5>
<p>好像是一种通过调用游览器内部提供的接口, 
进行自动化遥控游览器来操作网页, 实际上很值得学习.</p>

<p>(我记得好像有无头版本的…)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##############2021.11.18 再停一下 去搞ruby################
</code></pre></div></div>
<h4 id="e-mail">E-Mail</h4>
<h3 id="data">Data</h3>
<h4 id="csv">CSV</h4>
<h4 id="json">JSON</h4>
<h3 id="thread">Thread</h3>
<h3 id="gui">GUI</h3>

  </div><a class="u-url" href="/python/python-first-touch/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My Blog</li><li><a class="u-email" href="mailto:thebigbigwordl@qq.com">thebigbigwordl@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/li-yiyang"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">li-yiyang</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>某不知名的很硬的双非学校的物理系学生的无聊博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
