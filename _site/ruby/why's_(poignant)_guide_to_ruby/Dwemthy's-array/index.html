<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Why’s (poignant) Guide to Ruby(2) | My Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Why’s (poignant) Guide to Ruby(2)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="$$$ DWEMTHY_S ARRAY ^!^ A RUBY MINI_DUNGEON ^!^ ONLY 60 LINES OF CODE ^!^ DWEMTY IS WATCHING ^!^ A STALE BREATH IS ON YOUR NAPE, IS IT NOT ?? ^!^ DWEMTHY COMETH $$$ :: Why’s (Poignant) Guide to Ruby" />
<meta property="og:description" content="$$$ DWEMTHY_S ARRAY ^!^ A RUBY MINI_DUNGEON ^!^ ONLY 60 LINES OF CODE ^!^ DWEMTY IS WATCHING ^!^ A STALE BREATH IS ON YOUR NAPE, IS IT NOT ?? ^!^ DWEMTHY COMETH $$$ :: Why’s (Poignant) Guide to Ruby" />
<link rel="canonical" href="http://0.0.0.0:4000/ruby/why's_(poignant)_guide_to_ruby/Dwemthy's-array/" />
<meta property="og:url" content="http://0.0.0.0:4000/ruby/why's_(poignant)_guide_to_ruby/Dwemthy's-array/" />
<meta property="og:site_name" content="My Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-20T11:03:15+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Why’s (poignant) Guide to Ruby(2)" />
<script type="application/ld+json">
{"description":"$$$ DWEMTHY_S ARRAY ^!^ A RUBY MINI_DUNGEON ^!^ ONLY 60 LINES OF CODE ^!^ DWEMTY IS WATCHING ^!^ A STALE BREATH IS ON YOUR NAPE, IS IT NOT ?? ^!^ DWEMTHY COMETH $$$ :: Why’s (Poignant) Guide to Ruby","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/ruby/why's_(poignant)_guide_to_ruby/Dwemthy's-array/"},"url":"http://0.0.0.0:4000/ruby/why's_(poignant)_guide_to_ruby/Dwemthy's-array/","@type":"BlogPosting","headline":"Why’s (poignant) Guide to Ruby(2)","dateModified":"2021-11-20T11:03:15+00:00","datePublished":"2021-11-20T11:03:15+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="My Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/categories/">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Why&#39;s (poignant) Guide to Ruby(2)</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-11-20T11:03:15+00:00" itemprop="datePublished">Nov 20, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="-dwemthy_s-array--a-ruby-mini_dungeon--only-60-lines-of-code--dwemty-is-watching--a-stale-breath-is-on-your-nape-is-it-not---dwemthy-cometh---whys-poignant-guide-to-ruby">$$$ DWEMTHY_S ARRAY ^!^ A RUBY MINI_DUNGEON ^!^ ONLY 60 LINES OF CODE ^!^ DWEMTY IS WATCHING ^!^ A STALE BREATH IS ON YOUR NAPE, IS IT NOT ?? ^!^ DWEMTHY COMETH $$$ :: Why’s (Poignant) Guide to Ruby</h1>
<p><img src="https://poignant.guide/images/dwemthy-header-dissolve.png" alt="Dwenthy's Array" /></p>

<p><img src="https://poignant.guide/images/dwemthy-logo.gif" alt="a ruby mini_adventure" /></p>

<p>(没错, 又是一篇<code class="language-plaintext highlighter-rouge">_why</code>的文章, 虽然都是番外性质的文章, 
但我还是在很努力地翻译啦. 这篇文章短小精悍, 
是一个关于类的有趣小故事. )</p>

<p>(这篇文章的网页设计很好, 虽然我的网页是显示不出来了的, 
建议到<a href="https://poignant.guide/dwemthy/">原网站</a>查看. )</p>

<p><img src="https://poignant.guide/images/dwemthy-asweome.gif" alt="it was asweome" /></p>

<h2 id="you-are-a-rabbit-until">You Are A Rabbit, UNTIL!</h2>
<p>在这个游戏中, 你是一个将要被恶龙杀死的小白兔. 
快进入Dwemthy’s Array之中吧!</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Dragon</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">1340</span>     <span class="c1"># tough scales: 强壮的生命力</span>
  <span class="n">strength</span> <span class="mi">451</span>  <span class="c1"># bristling veins: 肌肉强壮, 青筋暴露</span>
  <span class="n">charisma</span> <span class="mi">1020</span> <span class="c1"># toothy smile: 特点是邪恶的笑容</span>
  <span class="n">weapon</span> <span class="mi">939</span>    <span class="c1"># fire breath: 武器是火焰吐息</span>
<span class="k">end</span>
</code></pre></div></div>
<p>等一下就会有更多的代码.</p>

<p>等等, 你是不是想问问谁是 <strong>Dwemthy</strong>. 
傻孩子, 他可是至高主宰(mastermind), 没有人知道他在哪里, 
没有人能说出他的真名. 一个伟大王朝在他手下诞生. 
巨人族被他一把火毁灭. 他的邪恶气息散布在空气中让马儿们十分惶恐. 
最可怕的是, 他将 (哔 – ) 玩弄于掌心… 
(carnal pleasures, 好孩子请不要查这个词. )
想一想这个东西… (啊…)</p>

<p>这就是他的Array.</p>

<p><img src="https://poignant.guide/images/wixl.dwemthy-2.gif" alt="wixi" /></p>

<p>(这个时候不妨我们来一段美文欣赏: )</p>

<blockquote>
  <p>A scalding SEETHING LAVA infiltrates 
the cacauphonous ENGORGED MINESHAFTS 
deep within the ageless canopy of 
the DWEMTHY FOREST… chalky and 
nocturnal screams from the belly of 
the RAVENOUS WILD STORKUPINE… 
who eats wet goslings RIGHT AFTER 
they’ve had a few graham crackers and 
a midday nap… amidst starved hippos 
TECHNICALLY ORPHANED but truthfully 
sheltered by umbrellas owned jointly 
by car dealership conglomerates… 
beneath uncapped vials of mildly 
pulpy BLUE ELIXIR… which shall remain… 
heretofore… UNDISTURBED… DWEMTHY!!!</p>
</blockquote>

<p>(能力有限, 只能瞎翻译. 这回是两种语言都能力不够用了. )</p>

<p>这是无边无际的Dwemthy森林. 
犹如鲜血一般的滚热的熔岩嘶吼着涌向矿井中…</p>

<p>从爱用小饼干喂小鹅, 爱陪着小鹅睡午觉, 
更爱生吃小鹅的可怖的Storkupine的饥饿的胃中传来了阴森可怖的叫声…</p>

<p>在汽车商人的伞下面的阴影里, 
一匹一匹又一匹的瘦骨嶙峋的河马饿得瘫倒在地上…</p>

<p>地上散乱地倒着一瓶又一瓶的大敞着瓶口的酒瓶, 
从里面汩汩地淌出粘稠的蓝色长命水… 
可那应该是Dwemthy的!!!</p>

<p>和开头的那些可能会又一点误导性的介绍漫画不一样, 
DWEMTHY’S ARRAY可不是什么思维谜题. 
这不过是一个短短的60行的角色扮演小游戏. 
简简单单的一个关于<code class="language-plaintext highlighter-rouge">ruby</code>元编程的小章节而已. 
这个游戏来自于<code class="language-plaintext highlighter-rouge">_why</code>的书的
<a href="https://poignant.guide/book/chapter-6.html">第六章</a>.</p>

<p>假如你不是很能理解Dwemthy’s Array, 那完全就是Dwemthy的错. 
因为他把这个游戏设置得太复杂了, 但是假如这个游戏可以简单一点的话, 
那我们又怎么能够在接下来的一段美妙的时间
里享受到一个完美的游戏体验呢?</p>

<h2 id="enough-elaborate-metaphor-and-sly-juxtaposition-give-us-the-corresponding-code">Enough Elaborate Metaphor And Sly Juxtaposition, GIVE US THE CORRESPONDING CODE!</h2>
<p>够了, 忘掉那些精妙的比喻, 优雅的铺陈吧, 让我们直接来点代码!</p>

<p>(不然我就要翻译爆炸了)</p>

<p>首先, 你如果想要玩这个游戏的话, 至少把<code class="language-plaintext highlighter-rouge">ruby</code>安装在你的电脑里面.</p>

<p>(以防你不知道, <code class="language-plaintext highlighter-rouge">ruby</code>是一个”beloved programming language”, 
虽然不像<code class="language-plaintext highlighter-rouge">python</code>之类的那么出名, 但是很好用就是了. )</p>

<p>假如你没有安装的话, 那么你最好赶快从Dwemthy’s Array中离开, 
(因为这就像是没有希尔之石的林克却要在海拉鲁大陆生活一样可怕, )
然后为了你的个人安全, 最好对此默不作声, 
(当心Dwemthy, 他的眼线无处不在, 
但是对于你可以交付性命的法律顾问, 
你大可以向他哭诉你在Dwemthy’s Array中的骇人见闻). 
假如(勇者先生)你现在想要一个<code class="language-plaintext highlighter-rouge">ruby</code>, 那可真是太棒了, 
快来看看
<a href="https://poignant.guide/book/expansion-pak-1.html">The Tiger’s Vest</a>
(或者可以去翻我之前的翻译. )</p>

<p>把脚步放轻一点 – 这就是DWEMTHY’S ARRAY里面的代码!!</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The guts of life force within Dwemthy's Array</span>
<span class="c1"># 让我们来看看Dwemthy's Array中的生物的结构</span>
<span class="k">class</span> <span class="nc">Creature</span>

  <span class="c1"># Get a metaclass for this class</span>
  <span class="c1"># 得到一个元类(翻译的时候遇到了知识盲区)</span>
  <span class="c1"># metaclass: 因为在ruby里面所有东西都是对象, </span>
  <span class="c1"># 所以自然的, 连类class也是对象</span>
  <span class="c1"># metaclass就是一个由class创造的class</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">metaclass</span><span class="p">;</span> <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span><span class="p">;</span> <span class="nb">self</span><span class="p">;</span> <span class="k">end</span><span class="p">;</span> <span class="k">end</span>

  <span class="c1"># Advanced metaprogramming code for nice, clean traits</span>
  <span class="c1"># 为了优雅和整洁的特性, 我们不妨写一点高级的元编程语言</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">traits</span><span class="p">(</span> <span class="o">*</span><span class="n">arr</span> <span class="p">)</span>
    <span class="k">return</span> <span class="vi">@traits</span> <span class="k">if</span> <span class="n">arr</span><span class="p">.</span><span class="nf">empty?</span>

    <span class="c1"># 1. Set up accessors for each variable</span>
    <span class="c1">#    为每一个变量都提供访问的通道</span>
    <span class="nb">attr_accessor</span><span class="p">(</span> <span class="o">*</span><span class="n">arr</span> <span class="p">)</span>

    <span class="c1"># 2. Add a new class method to for each trait.</span>
    <span class="c1">#    为每个特性都加上一个对应的类方法</span>
    <span class="n">arr</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">a</span><span class="o">|</span>
      <span class="n">metaclass</span><span class="p">.</span><span class="nf">instance_eval</span> <span class="k">do</span>
        <span class="n">define_method</span><span class="p">(</span> <span class="n">a</span> <span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">val</span><span class="o">|</span>
          <span class="vi">@traits</span> <span class="o">||=</span> <span class="p">{}</span>
          <span class="vi">@traits</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="c1"># 3. For each monster, the `initialize' method</span>
    <span class="c1">#    should use the default number for each trait.</span>
    <span class="c1">#    对于每一个怪兽, 初始化的`initialize'方法</span>
    <span class="c1">#    应该对每一个特性都输入默认的值. </span>
    <span class="nb">class_eval</span> <span class="k">do</span>
      <span class="n">define_method</span><span class="p">(</span> <span class="ss">:initialize</span> <span class="p">)</span> <span class="k">do</span>
        <span class="nb">self</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">traits</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span>
          <span class="nb">instance_variable_set</span><span class="p">(</span><span class="s2">"@</span><span class="si">#{</span><span class="n">k</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="c1"># Creature attributes are read-only</span>
  <span class="c1"># 创造一些只读的变量</span>
  <span class="n">traits</span> <span class="ss">:life</span><span class="p">,</span> <span class="ss">:strength</span><span class="p">,</span> <span class="ss">:charisma</span><span class="p">,</span> <span class="ss">:weapon</span>

  <span class="c1"># This method applies a hit taken during a fight.</span>
  <span class="c1"># 这个方法会在战斗过程中进行攻击</span>
  <span class="k">def</span> <span class="nf">hit</span><span class="p">(</span> <span class="n">damage</span> <span class="p">)</span>
    <span class="n">p_up</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span> <span class="n">charisma</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">p_up</span> <span class="o">%</span> <span class="mi">9</span> <span class="o">==</span> <span class="mi">7</span>
      <span class="vi">@life</span> <span class="o">+=</span> <span class="n">p_up</span> <span class="o">/</span> <span class="mi">4</span>
      <span class="nb">puts</span> <span class="s2">"[</span><span class="si">#{</span> <span class="nb">self</span><span class="p">.</span><span class="nf">class</span> <span class="si">}</span><span class="s2"> magick powers up </span><span class="si">#{</span> <span class="n">p_up</span> <span class="si">}</span><span class="s2">!]"</span>
    <span class="k">end</span>
    <span class="vi">@life</span> <span class="o">-=</span> <span class="n">damage</span>
    <span class="nb">puts</span> <span class="s2">"[</span><span class="si">#{</span> <span class="nb">self</span><span class="p">.</span><span class="nf">class</span> <span class="si">}</span><span class="s2"> has died.]"</span> <span class="k">if</span> <span class="vi">@life</span> <span class="o">&lt;=</span> <span class="mi">0</span>
  <span class="k">end</span>

  <span class="c1"># This method takes one turn in a fight.</span>
  <span class="c1"># 这个方法会让用户加入战斗</span>
  <span class="k">def</span> <span class="nf">fight</span><span class="p">(</span> <span class="n">enemy</span><span class="p">,</span> <span class="n">weapon</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">life</span> <span class="o">&lt;=</span> <span class="mi">0</span>
      <span class="nb">puts</span> <span class="s2">"[</span><span class="si">#{</span> <span class="nb">self</span><span class="p">.</span><span class="nf">class</span> <span class="si">}</span><span class="s2"> is too dead to fight!]"</span>
      <span class="k">return</span>
    <span class="k">end</span>

    <span class="c1"># Attack the opponent</span>
    <span class="c1"># 攻击对手</span>
    <span class="n">your_hit</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span> <span class="n">strength</span> <span class="o">+</span> <span class="n">weapon</span> <span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"[You hit with </span><span class="si">#{</span> <span class="n">your_hit</span> <span class="si">}</span><span class="s2"> points of damage!]"</span>
    <span class="n">enemy</span><span class="p">.</span><span class="nf">hit</span><span class="p">(</span> <span class="n">your_hit</span> <span class="p">)</span>

    <span class="c1"># Retaliation</span>
    <span class="c1"># 反击</span>
    <span class="nb">p</span> <span class="n">enemy</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="p">.</span><span class="nf">life</span> <span class="o">&gt;</span> <span class="mi">0</span>
      <span class="n">enemy_hit</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span> <span class="n">enemy</span><span class="p">.</span><span class="nf">strength</span> <span class="o">+</span> <span class="n">enemy</span><span class="p">.</span><span class="nf">weapon</span> <span class="p">)</span>
      <span class="nb">puts</span> <span class="s2">"[Your enemy hit with </span><span class="si">#{</span> <span class="n">enemy_hit</span> <span class="si">}</span><span class="s2"> points of damage!]"</span>
      <span class="nb">self</span><span class="p">.</span><span class="nf">hit</span><span class="p">(</span> <span class="n">enemy_hit</span> <span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

<span class="k">end</span>

<span class="k">class</span> <span class="nc">DwemthysArray</span> <span class="o">&lt;</span> <span class="no">Array</span>
  <span class="k">alias</span> <span class="n">_inspect</span> <span class="nb">inspect</span>
  <span class="k">def</span> <span class="nf">inspect</span><span class="p">;</span> <span class="s2">"#&lt;</span><span class="si">#{</span> <span class="nb">self</span><span class="p">.</span><span class="nf">class</span> <span class="si">}#{</span> <span class="n">_inspect</span> <span class="si">}</span><span class="s2">&gt;"</span><span class="p">;</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span> <span class="n">meth</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span> <span class="p">)</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">first</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span> <span class="n">meth</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">first</span><span class="p">.</span><span class="nf">life</span> <span class="o">&lt;=</span> <span class="mi">0</span>
      <span class="n">shift</span>
      <span class="k">if</span> <span class="n">empty?</span>
        <span class="nb">puts</span> <span class="s2">"[Whoa.  You decimated Dwemthy's Array!]"</span>
      <span class="k">else</span>
        <span class="nb">puts</span> <span class="s2">"[Get ready. </span><span class="si">#{</span> <span class="n">first</span><span class="p">.</span><span class="nf">class</span> <span class="si">}</span><span class="s2"> has emerged.]"</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="n">answer</span> <span class="o">||</span> <span class="mi">0</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>想要开始玩的话, 打开<code class="language-plaintext highlighter-rouge">irb</code>. 把上面的代码复制粘贴到上面. 
(活着你也可以通过新建一个叫做<code class="language-plaintext highlighter-rouge">dwemthy.rb</code>的文档, 
然后在<code class="language-plaintext highlighter-rouge">irb</code>里面通过<code class="language-plaintext highlighter-rouge">require 'dwemthy'</code>的方式来调用. )</p>

<h2 id="introducing-you">Introducing: You</h2>
<p>有请你来自我介绍一下:</p>

<p>你应当对自己 – 也就是这只小白兔做一点定义. 
因为你是<code class="language-plaintext highlighter-rouge">Rabbit</code>类的一个对象, 
而<code class="language-plaintext highlighter-rouge">Rabbit</code>又是<code class="language-plaintext highlighter-rouge">Creature</code>的一个派生(子类). 
(在面向对象的编程中, 有一些叫做类的东西, 有点像是生物的分类学, 
同一类的东西有相同的方法, 数据结构之类的东西. 
是一个相对来说可以简化编程的一个好东西. )
你现在只需要利用类的继承关系, 就可以声明<code class="language-plaintext highlighter-rouge">Rabbit</code>类了.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Rabbit</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">traits</span> <span class="ss">:bombs</span>

  <span class="n">life</span> <span class="mi">10</span>
  <span class="n">strength</span> <span class="mi">2</span>
  <span class="n">charisma</span> <span class="mi">44</span>
  <span class="n">weapon</span> <span class="mi">4</span>
  <span class="n">bombs</span> <span class="mi">3</span>

  <span class="c1"># little boomerang</span>
  <span class="c1"># 小小的回旋镖</span>
  <span class="k">def</span> <span class="nf">^</span><span class="p">(</span> <span class="n">enemy</span> <span class="p">)</span>
    <span class="n">fight</span><span class="p">(</span> <span class="n">enemy</span><span class="p">,</span> <span class="mi">13</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="c1"># the hero's sword is unlimited!!</span>
  <span class="c1"># 英雄之剑是无限的</span>
  <span class="k">def</span> <span class="nf">/</span><span class="p">(</span> <span class="n">enemy</span> <span class="p">)</span>
    <span class="n">fight</span><span class="p">(</span> <span class="n">enemy</span><span class="p">,</span> <span class="nb">rand</span><span class="p">(</span> <span class="mi">4</span> <span class="o">+</span> <span class="p">(</span> <span class="p">(</span> <span class="n">enemy</span><span class="p">.</span><span class="nf">life</span> <span class="o">%</span> <span class="mi">10</span> <span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="c1"># lettuce will build your strength and extra ruffage</span>
  <span class="c1"># will fly in the face of your opponent!!</span>
  <span class="c1"># 蔬菜可以增强你的身体并且额外的ruffage(? 碎末)会飞到敌人的脸上</span>
  <span class="k">def</span> <span class="nf">%</span><span class="p">(</span> <span class="n">enemy</span> <span class="p">)</span>
    <span class="n">lettuce</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span> <span class="n">charisma</span> <span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"[Healthy lettuce gives you </span><span class="si">#{</span> <span class="n">lettuce</span> <span class="si">}</span><span class="s2"> life points!!]"</span>
    <span class="vi">@life</span> <span class="o">+=</span> <span class="n">lettuce</span>
    <span class="n">fight</span><span class="p">(</span> <span class="n">enemy</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="c1"># bombs, but you only have three!!</span>
  <span class="c1"># 炸弹, 但是你只有三个</span>
  <span class="k">def</span> <span class="nf">*</span><span class="p">(</span> <span class="n">enemy</span> <span class="p">)</span>
    <span class="k">if</span> <span class="vi">@bombs</span><span class="p">.</span><span class="nf">zero?</span>
      <span class="nb">puts</span> <span class="s2">"[UHN!! You're out of bombs!!]"</span>
      <span class="k">return</span>
    <span class="k">end</span>
    <span class="vi">@bombs</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="n">fight</span><span class="p">(</span> <span class="n">enemy</span><span class="p">,</span> <span class="mi">86</span> <span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>你只有四件武器, 我认为我已经将它们介绍的很清楚了.</p>

<h2 id="rabbit-fights-scubaargentine">Rabbit Fights ScubaArgentine!</h2>
<p>请不要急匆匆地还没有准备好就直接冲进Dwemthy’s Array里面!! 
你可得先经过恶魔们的试炼关卡, 或者北上通过煤炭的魔窟.</p>

<p>所以我们首先不妨先人工演练一番, 就当作是新手教学吧. 
第一个敌人: ScubaArgentine!!!</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ScubaArgentine</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">46</span>
  <span class="n">strength</span> <span class="mi">35</span>
  <span class="n">charisma</span> <span class="mi">91</span>
  <span class="n">weapon</span> <span class="mi">2</span>
<span class="k">end</span>
</code></pre></div></div>

<p>想要开始战斗, 首先确保你已经建立了一个你和ScubaArgentine的实例:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">r</span> <span class="o">=</span> <span class="no">Rabbit</span><span class="p">.</span><span class="nf">new</span>
<span class="n">s</span> <span class="o">=</span> <span class="no">ScubaArgentine</span><span class="p">.</span><span class="nf">new</span>
</code></pre></div></div>

<p>现在让我们开始战斗(首先试一试小小的回旋镖如何? )</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt; r ^ s
[You hit with 6 points of damage!]
#&lt;ScubaArgentine:0x0000aaab0d8bc9b0 @life=40, @strength=35, @charisma=91, @weapon=2&gt;
[Your enemy hit with 16 points of damage!]
[Rabbit magick powers up 7!]
[Rabbit has died.]
 =&gt; nil 
</code></pre></div></div>

<p>啊嗷!! 我们的小兔子被打爆了!!!</p>

<p>啊, 不要铁青着脸嘛. 我不会让你回到兔子王国中从头再来的. 
你只要假装自己没死然后重新生成一个新的兔子实例就好了.</p>

<h2 id="the-harsh-realities-of-dwemthys-array-await-you-to-mash-you">The Harsh Realities of Dwemthy’s Array AWAIT YOU TO MASH YOU!!</h2>
<p><em>更多残酷的挑战还在前面呢…</em></p>

<p>当你终于将那家伙击倒在地, 奄奄一息时, 那么是时候进入The Array了. 
我觉得你可能很难通关. 因为你竟然把你的小斧头落在了家里面! 
(哦, 温馨提示, 不要把你宝贵的炸弹一下子全浪费在那些小怪上了. )</p>

<p>六个对手, 现在上场!</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 爱做恶作剧的赛博猴</span>
<span class="k">class</span> <span class="nc">IndustrialRaverMonkey</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">46</span>
  <span class="n">strength</span> <span class="mi">35</span>
  <span class="n">charisma</span> <span class="mi">91</span>
  <span class="n">weapon</span> <span class="mi">2</span>
<span class="k">end</span>

<span class="c1"># 堕天使</span>
<span class="k">class</span> <span class="nc">DwarvenAngel</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">540</span>
  <span class="n">strength</span> <span class="mi">6</span>
  <span class="n">charisma</span> <span class="mi">144</span>
  <span class="n">weapon</span> <span class="mi">50</span>
<span class="k">end</span>

<span class="c1"># (显然是米国的)政府官员和他们的邪恶触手</span>
<span class="k">class</span> <span class="nc">AssistantViceTentacleAndOmbudsman</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">320</span>
  <span class="n">strength</span> <span class="mi">6</span>
  <span class="n">charisma</span> <span class="mi">144</span>
  <span class="n">weapon</span> <span class="mi">50</span>
<span class="k">end</span>

<span class="c1"># 利齿鹿</span>
<span class="k">class</span> <span class="nc">TeethDeer</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">655</span>
  <span class="n">strength</span> <span class="mi">192</span>
  <span class="n">charisma</span> <span class="mi">19</span>
  <span class="n">weapon</span> <span class="mi">109</span>
<span class="k">end</span>

<span class="c1"># 无畏的丧尸骑兵</span>
<span class="k">class</span> <span class="nc">IntrepidDecomposedCyclist</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">901</span>
  <span class="n">strength</span> <span class="mi">560</span>
  <span class="n">charisma</span> <span class="mi">422</span>
  <span class="n">weapon</span> <span class="mi">105</span>
<span class="k">end</span>

<span class="c1"># 恶龙</span>
<span class="k">class</span> <span class="nc">Dragon</span> <span class="o">&lt;</span> <span class="no">Creature</span>
  <span class="n">life</span> <span class="mi">1340</span>     <span class="c1"># tough scales</span>
  <span class="n">strength</span> <span class="mi">451</span>  <span class="c1"># bristling veins</span>
  <span class="n">charisma</span> <span class="mi">1020</span> <span class="c1"># toothy smile</span>
  <span class="n">weapon</span> <span class="mi">939</span>    <span class="c1"># fire breath</span>
<span class="k">end</span>
</code></pre></div></div>

<p>这些就是在Dwemthy’s Array中的邪恶的怪兽们, 
大张着他们凶残暴虐的嘴, 从鼻子里吐出令人作呕的死亡吐息… 
我也不知道他们是怎么到那的 – 没人知道这些东西. 说真的, 
要我猜的话, 我觉得IntrepidDecomposedCyclist
(无畏的丧尸骑兵)大概是驾着他的十速(ten-speed)快车来的. 
不过其他的嘛: <strong>谁知道</strong>…</p>

<p>如果你实在要较真的话, 那我们不妨就说他们就是在那出生的, 
好吗? 哦, 请别再追问了, 我们能不能就这样跳过这个问题??</p>

<p>好的, 当我们不断的深入Dwemthy’s Array, 
我们会遇到更多的可怕的怪物.</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dwarr</span> <span class="o">=</span> <span class="no">DwemthysArray</span><span class="p">[</span><span class="no">IndustrialRaverMonkey</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
                      <span class="no">DwarvenAngel</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
                      <span class="no">AssistantViceTentacleAndOmbudsman</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
                      <span class="no">TeethDeer</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
                      <span class="no">IntrepidDecomposedCyclist</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
                      <span class="no">Dragon</span><span class="p">.</span><span class="nf">new</span><span class="p">]</span>
</code></pre></div></div>

<p>在这个<code class="language-plaintext highlighter-rouge">Array</code>中一路战斗吧, 无畏的勇士兔! 
愿上帝保佑你能平安归来, 幸运天使将在你的肩上落脚. 
相信你一定可以带着惊险刺激的冒险故事凯旋而归!</p>

<p>哦, 别再说什么”我还年轻, 我不敢死”的鬼话了, 我可受够这些了. 
(题外话: 老林克已经从塔上面摔死了好多次了. QAQ)
这样的鬼话难道不是在侮辱我们这些还没死的年轻人吗? 
他们可是我们的未来! 当我们的未来终于结束了之后, 
那就终将是他们来替我们续写故事.</p>

<p><img src="https://poignant.guide/images/wixl.dwemthy-3.gif" alt="the end" /></p>

<h2 id="译后记">译后记</h2>
<p>吼吼吼吼吼!!!</p>

  </div><a class="u-url" href="/ruby/why's_(poignant)_guide_to_ruby/Dwemthy's-array/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My Blog</li><li><a class="u-email" href="mailto:thebigbigwordl@qq.com">thebigbigwordl@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/li-yiyang"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">li-yiyang</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>某不知名的很硬的双非学校的物理系学生的无聊博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
