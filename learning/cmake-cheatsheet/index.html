<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>CMake Cheatsheet | My Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="CMake Cheatsheet" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="About 看作是 Makefile 的 DSL 语法糖吧&#8230; 基本的命令形式 command([arg]*) # 参数使用空格分隔, 括号内可以换行 一些基础的命令 设置变量 set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE]) CMake | set 取消设置变量 unset(&lt;variable&gt; [CACHE | PARENT_SCOPE]) CMake | unset 条件判断 if(&lt;condition&gt;) &lt;commands&gt; elseif(&lt;condition&gt;) # optional block, can be repeated &lt;commands&gt; else() # optional block &lt;commands&gt; endif() Cmake | if 历遍 # foreach(&lt;loop_var&gt; RANGE &lt;stop&gt;) # foreach(&lt;loop_var&gt; RANGE &lt;start&gt; &lt;stop&gt; [&lt;step&gt;]) # foreach(&lt;loop_var&gt; IN [LISTS [&lt;lists&gt;]] [ITEMS [&lt;items&gt;]]) foreach(&lt;loop_var&gt; &lt;items&gt;) &lt;commands&gt; endforeach() CMake | foreach 基本的 CMakeList.txt 的文件结构 # 声明当前项目最低的 CMake 版本 cmake_minimum_required(VERSION 3.10)" />
<meta property="og:description" content="About 看作是 Makefile 的 DSL 语法糖吧&#8230; 基本的命令形式 command([arg]*) # 参数使用空格分隔, 括号内可以换行 一些基础的命令 设置变量 set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE]) CMake | set 取消设置变量 unset(&lt;variable&gt; [CACHE | PARENT_SCOPE]) CMake | unset 条件判断 if(&lt;condition&gt;) &lt;commands&gt; elseif(&lt;condition&gt;) # optional block, can be repeated &lt;commands&gt; else() # optional block &lt;commands&gt; endif() Cmake | if 历遍 # foreach(&lt;loop_var&gt; RANGE &lt;stop&gt;) # foreach(&lt;loop_var&gt; RANGE &lt;start&gt; &lt;stop&gt; [&lt;step&gt;]) # foreach(&lt;loop_var&gt; IN [LISTS [&lt;lists&gt;]] [ITEMS [&lt;items&gt;]]) foreach(&lt;loop_var&gt; &lt;items&gt;) &lt;commands&gt; endforeach() CMake | foreach 基本的 CMakeList.txt 的文件结构 # 声明当前项目最低的 CMake 版本 cmake_minimum_required(VERSION 3.10)" />
<link rel="canonical" href="/learning/cmake-cheatsheet/" />
<meta property="og:url" content="/learning/cmake-cheatsheet/" />
<meta property="og:site_name" content="My Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-10T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="CMake Cheatsheet" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-10T00:00:00+00:00","datePublished":"2024-07-10T00:00:00+00:00","description":"About 看作是 Makefile 的 DSL 语法糖吧&#8230; 基本的命令形式 command([arg]*) # 参数使用空格分隔, 括号内可以换行 一些基础的命令 设置变量 set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE]) CMake | set 取消设置变量 unset(&lt;variable&gt; [CACHE | PARENT_SCOPE]) CMake | unset 条件判断 if(&lt;condition&gt;) &lt;commands&gt; elseif(&lt;condition&gt;) # optional block, can be repeated &lt;commands&gt; else() # optional block &lt;commands&gt; endif() Cmake | if 历遍 # foreach(&lt;loop_var&gt; RANGE &lt;stop&gt;) # foreach(&lt;loop_var&gt; RANGE &lt;start&gt; &lt;stop&gt; [&lt;step&gt;]) # foreach(&lt;loop_var&gt; IN [LISTS [&lt;lists&gt;]] [ITEMS [&lt;items&gt;]]) foreach(&lt;loop_var&gt; &lt;items&gt;) &lt;commands&gt; endforeach() CMake | foreach 基本的 CMakeList.txt 的文件结构 # 声明当前项目最低的 CMake 版本 cmake_minimum_required(VERSION 3.10)","headline":"CMake Cheatsheet","mainEntityOfPage":{"@type":"WebPage","@id":"/learning/cmake-cheatsheet/"},"url":"/learning/cmake-cheatsheet/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">

  <style type="text/css">
    img {
      margin-left: auto; 
      margin-right:auto; 
      display:block;
    }
  </style><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="My Blog" /><script>
  document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        // customised options
        // • auto-render specific keys, e.g.:
        delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
        ],
        // • rendering keys, e.g.:
        throwOnError : false
      });
  });
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.css" integrity="sha384-z91AFMXXGZasvxZz5DtKJse3pKoTPU0QcNFj/B4gDFRmq6Q2bi1StsT7SOcIzLEN" crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.js" integrity="sha384-Af7YmksQNWRLMvro3U9F84xa0paoIu7Pu2niAIUmZoI09Q4aCsbha5dvaj1tHy6K" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/categories/">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">CMake Cheatsheet</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-07-10T00:00:00+00:00" itemprop="datePublished">Jul 10, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1>About</h1>
<p>看作是 Makefile 的 DSL 语法糖吧&#8230;</p>
<h1>基本的命令形式</h1>
<pre class="example">
command([arg]*) # 参数使用空格分隔, 括号内可以换行
</pre>
<details><summary>一些基础的命令</summary>
<ul>
  <li>设置变量 <code>set(&lt;variable&gt; &lt;value&gt;... [PARENT_SCOPE])</code> <a href="https://cmake.org/cmake/help/latest/command/set.html#set">CMake | set</a></li>
  <li>取消设置变量 <code>unset(&lt;variable&gt; [CACHE | PARENT_SCOPE])</code> <a href="https://cmake.org/cmake/help/latest/command/unset.html#unset">CMake | unset</a></li>
  <li>条件判断
    <pre class="example">
if(&lt;condition&gt;)
  &lt;commands&gt;
elseif(&lt;condition&gt;) # optional block, can be repeated
  &lt;commands&gt;
else()              # optional block
  &lt;commands&gt;
endif()
    </pre>
    <p><a href="https://cmake.org/cmake/help/latest/command/if.html#if">Cmake | if</a></p>
  </li>
  <li>历遍
    <pre class="example">
# foreach(&lt;loop_var&gt; RANGE &lt;stop&gt;)
# foreach(&lt;loop_var&gt; RANGE &lt;start&gt; &lt;stop&gt; [&lt;step&gt;])
# foreach(&lt;loop_var&gt; IN [LISTS [&lt;lists&gt;]] [ITEMS [&lt;items&gt;]])
foreach(&lt;loop_var&gt; &lt;items&gt;)
  &lt;commands&gt;
endforeach()
    </pre>
    <p><a href="https://cmake.org/cmake/help/latest/command/foreach.html#foreach">CMake | foreach</a></p>
  </li>
</ul>
</details>
<h1>基本的 CMakeList.txt 的文件结构</h1>
<pre class="example">
# 声明当前项目最低的 CMake 版本
cmake_minimum_required(VERSION 3.10)

# 声明项目名称
project(PROJECT_NAME)

# 编译文件
add_executable(EXECUTABLE_NAME [SOURCE_FILE]+)

# 或以库的形式进行编译:
# add_libaray(LIB_NAME TYPE [SOURCE_FILE]+) # TYPE = STASTIC, SHARED, MODULE
</pre>
<h2>Files</h2>
<p>声明一个文件列表.</p>
<pre class="example">
# Example:
#     file(GLOB sources ${SRC}/*.cc)

file(GLOB &lt;variable&gt; [LIST_DIRECTORIES true|false]
                     [RELATIVE &lt;path&gt;]
                     [CONFIGURE_DEPENDS]
                     &lt;globbing-expressions&gt;...)
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/file.html#file">CMake | file</a></p>
<p>复制一些文件.</p>
<pre class="example">
# Example:
#     configure_file(IN_FILE OUT_FILE COPYONLY)

configure_file(&lt;input&gt; &lt;output&gt;
               [NO_SOURCE_PERMISSIONS | USE_SOURCE_PERMISSIONS |
                FILE_PERMISSIONS &lt;permissions&gt;...]
               [COPYONLY] [ESCAPE_QUOTES] [@ONLY]
               [NEWLINE_STYLE [UNIX|DOS|WIN32|LF|CRLF] ])
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/configure_file.html#configure-file">CMake | configure_file</a></p>
<h2>Options</h2>
<p>为 config 过程提供可选参数.</p>
<pre class="example">
option(&lt;variable&gt; &quot;&lt;help_text&gt;&quot; [value]) # value = ON / OFF, ...
if (OPTION_NAME)
  # do-some-thing
endif()
</pre>
<details><summary>解释</summary>
<p>效果如下:</p>
<div class="highlight"><pre><span></span>cmake<span class="w"> </span>..<span class="w"> </span>-DOPTION_NAME<span class="o">=</span>ON
</pre></div>
<p>在代码中以宏定义的形式存在:</p>
<div class="highlight"><pre><span></span><span class="cp">#ifndef OPTION_NAME</span>
<span class="w">  </span><span class="p">...</span>
<span class="cp">#else</span>
<span class="w">  </span><span class="p">...</span>
<span class="cp">#endif</span>
</pre></div>
</details>
<p><a href="https://cmake.org/cmake/help/latest/command/option.html#option">CMake | option</a></p>
<h2>Library</h2>
<p>链接库.</p>
<pre class="example">
target_link_libraries(&lt;target&gt; ... &lt;item&gt;... ...)
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/target_link_libraries.html#target-link-libraries">CMake | target_link_libraries</a></p>
<h2>Package</h2>
<p>导入外部项目.</p>
<pre class="example">
find_package(&lt;PackageName&gt; [&lt;version&gt;] [REQUIRED] [COMPONENTS &lt;components&gt;...])
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/find_package.html#find-package">CMake | find-package</a></p>
<h2>Include Other CMake</h2>
<p>载入并运行其他 CMake 配置文件.</p>
<pre class="example">
include(&lt;file|module&gt; [OPTIONAL] [RESULT_VARIABLE &lt;var&gt;]
                      [NO_POLICY_SCOPE])
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/include.html#include">CMake | include</a></p>
<h2>Install</h2>
<p>安装编译好的程序.</p>
<pre class="example">
install(TARGETS &lt;target&gt;... [...])
</pre>
<p><a href="https://cmake.org/cmake/help/latest/command/install.html#install">CMake | install</a></p>
<h1>一些内置的变量</h1>
<p>见 <a href="https://cmake.org/cmake/help/latest/manual/cmake-variables.7.html">CMake | cmake-variables(7)</a>.</p>
<ul>
  <li><a href="https://cmake.org/cmake/help/latest/variable/PROJECT_BINARY_DIR.html">PROJECT_BINARY_DIR</a> 编译结果的路径</li>
  <li><a href="https://cmake.org/cmake/help/latest/variable/PROJECT_SOURCE_DIR.html">PROJECT_SOURCE_DIR</a> 源文件的路径</li>
</ul>

  </div><a class="u-url" href="/learning/cmake-cheatsheet/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My Blog</li><li><a class="u-email" href="mailto:thebigbigwordl@qq.com">thebigbigwordl@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/li-yiyang"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">li-yiyang</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>某不知名的很硬的双非学校的物理系学生的无聊博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
