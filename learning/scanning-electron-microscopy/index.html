<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Scanning Electron Microscopy | My Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Scanning Electron Microscopy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="About 参考的资料为 Scanning Electron Microscopy, Ludwig Reimer 的前两章. The aim of this book is to outline the physics of image formation, electron-specimen interactions, imaging modes, the interpretation of micrographs and the use of quantitative modes in scanning electron microscopy (SEM). 下面默认无标记的都是引用该书的内容. 部分图片有一些标注. 读书的目标在于快速入门并帮助我能设计一个总体的一个光路 🥲. Overview 一个总体结构的示意图: 电子枪 Electron Guns 阴极 Cathode 阴极 电压 可能的值从 \(0.1keV\) 到 \(5keV\) (低压 LVSEM), 或者到 \(50keV\). 在枪中最小的光束交叉的区域叫做 crossover (交叉斑). The smallest beam cross-section at the gun - the crossover. 其量级对于热发射电子枪 (thermionic emission) 应在 \(10 &sim; 50 &mu; m\) 附近; 对于 Schottky 和场发射 (field-emission) 电子枪, 应在 \(10 &sim; 100 nm\) 附近. 经过二到三极透镜系统的聚焦, 探测电子束的宽度 应当在 \(1 &sim; 10 nm\), 其在样品表面 照射电流强度 约 \(10^{-9} &sim; 10^{-12} A\) 量极. 若需要较高流强 \(&cong; 10^{-8}A\), 探测电子束的宽度约 \(&cong; 0.1 &mu; m\). 工作距离 working distance 在探测样本 (specimen) 和最低的 polepiece (极片? ) 的距离为工作距离. 通常的距离约为 数毫米或者数厘米, 根据不同的模式的距离不同. 热发射电子枪 thermionic Electron Guns 通过加热 (功函数 \(&phi;_w\)) 使得电子克复 \(E_F\) Fermi 能级的束缚然后被抛出. 在阴极和阳极之间的加速电场 \(\boldsymbol{E}\) 提供能量 \(V = - |\boldsymbol{E}| z\), 发射的流强 (emission current density) 的 Richardson Law: \[j_c = A T_c^2 \mathrm{exp}(- &phi;_w / k T_c)\] 其中 \(A\) 为和材料有关的常数; \(T_c\) 为阴极尖端的温度; \(k\) 为 Boltzmann 常数. 工作温度 和 束流密度 通常为了达到尽可能大的电流, 会使得针尖温度略在电子枪熔点之下 \(T_m\) 对于钨 (tungsten, \(&phi;_w = 4.5eV, T_m = 3650K\)), 常见的 \(T_c = 2500 &sim; 3000 K\). 并且在 \(T_c = 2800K\) 时, \(j_c &asymp; 3 A &sdot; cm^{-2}\); 对于 Lanthanum hexaboride \(\mathrm{LaB}_6, &phi;_w = 2.7eV\), 工作温度约 \(T_c = 1400 &sim; 2000K\), 其电流密度约 \(20 &sim; 50 A &sdot; cm^{-2}\). 电子枪寿命 约在 \(40 &sim; 200h\) 之间, 取决于阴极材料的蒸发, 在灯丝过细时断裂. 工作真空度 约 \((1 &sim; 5) &times; 10^{-3}Pa\) 量级的真空度可以防止灯丝氧化. 更高的真空度可以提高寿命, 如在 \(10^{-4}Pa\) 下, \(\mathrm{LaB}_6\) 可达数千小时. (比如在抽真空的机械泵基础上加上离子泵) 加速电压 和 电子物质波波长 \(p^2 c^2 + m_0^2 c^4 = (E + m_0 c^2)^2 &rArr; p = \sqrt{2 m_0 E (1 + \frac{E}{2 E_0})} &rArr; &lambda; = \frac{h}{p}\) 栅极 (Wehnelt cup) 有一个小小的电压降 \(U_W = I_c R_W\), 其中 \(R_W = 1 &sim; 10 M &Omega;\), \(I_c\) 为最终照射电流 (beam current) 和加热功率 \(P_c\) 的关系如下: (Fig.2.3. 一个自对中 (auto-biased) 热发射电子枪 发射电流 \(I_c\) (cathode emission current) 和加热功率 \(P_c\) 的关系, 以及其交叉斑的一个演示. ) 交错斑 (crossover) 为了获得最小的交叉斑, 应在 \(I_c - P_c\) 接近转折点的位置. 在交错斑处的电流密度近似满足高斯关系 (Gaussian profile): \[j(r) = j_0 \mathrm{exp}[- (\frac{r}{r_0})^2]\] 其中 \(r_0 &cong; 10 &sim; 50 &mu; m\). 在最佳工作点位之后, 一个过热的电子枪, 会导致电子枪的使用时长缩短; 并且加热功率 \(P_c\) 过大也会导致交错斑减少; 在最佳工作点位之前, 一个过冷的电子枪, 会导致交错斑发散 (非聚焦). 初始发射动量 (\(\boldsymbol{p}\)) 电子枪的初始发射动量满足 Maxwell 的分布, 会导致发射的电子能量的一个 \(&Delta; E\). 电子枪亮度 (\(&beta;\)) 单位立体角上的电流密度: \(&beta; = \frac{&Delta; I}{&Delta; S &Delta; &Omega;} = \frac{j}{&pi; &alpha;^2} = \mathrm{const}\), \[&beta;_{\mathrm{max}} = \frac{j_c}{&pi;} [1 + \frac{E}{k T_c} (1 + \frac{E}{2 E_0})] &cong; \frac{j_c E}{&pi; k T_c}\] 对于钨灯丝来说, \(E = 25keV, T_c = 2700K\), \(&beta; = (0.3 &sim; 2) &times; 10^4 A cm^{-2} sr^{-1}\), (这个数值对于 \(\mathrm{LaB}_6\) 约要大 10 到 20 倍). 探针电流 (electron probe current) (\(I_p\)) Schottky-Emission Guns Field-Emission Guns Measurement of Gun Parameters 电子枪的交错斑的影响因素: 阴极和栅极之间的高度 (一个可能的 参考) 工作电流 \(I_c\) 和工作功率 \(P_c\) (在工作曲线上的那个折点的选择) 测量判断光强 \(&beta; = \frac{j}{&Delta; &Omega;}\) 的方法大致有如上三种: (原理上都需要测量 \(&Delta; I, &Delta; S, &Delta; &Omega;\)) Two-diaphragm Method 一级光阑直径 \(d_1 &rarr; &Delta; S = \frac{&pi; d_1^2}{4}\), 需要满足其直径小于交错斑 二级光阑直径 \(d_2 &rarr; &Delta; &Omega; = \frac{&pi; d_2^2}{4 l^2}\), 距离一级光阑的距离 \(l = 10 &sim; 50 cm\). 电流 \(&Delta; I\) 通过法拉第笼来测量 Crossover-projection Method 前两种方法不能用于 Schottky 和场发射的枪, 因为其源的尺寸较小. Electron-probe Diameter Electron Optics Focal Length of an Electron Lens 磁透镜的一个示意图: 图片的一些说明 一个比较简单的线圈形式如 Fig 2.6 所示, 其中 \(p\) 和 \(q\) 分别为物距和像距. 在一个稍微更加详细一点的示意图中 \(S_1\) 和 \(S_2\) 为扫描线圈. 可以将最终的出射电子束近似为从 \(Z\) 处发射的点粒子. 轴对称场中, 利用 \(&nabla; &sdot; \boldsymbol{B} = 0\), 可以有 \(B_r = - \frac{r}{2} &part;_z B_z\), 应当有受 Lorentz 力 \(\boldsymbol{F} = - e (\boldsymbol{E} + \boldsymbol{v} &times; \boldsymbol{B})\). 目标是计算交错斑 P 经过透镜系统有得到的新的交错斑 Q 的位置. 因为在 SEM 中的透镜往往都是弱透镜 (? normally weak, 我个人认为应该是近轴条件), 所以可以用类似光学的焦距公式: \(\frac{1}{f} = \frac{1}{p} + \frac{1}{q}\) 和放大率 \(M = \frac{q}{p}\) 来进行表示. 并且有近似公式: \[\frac{1}{f} = \frac{e}{8 m U} &int;_{- &infin;}^{+ &infin;} B_z^2 \mathrm{d}z\] 而磁透镜会引入一个旋转量: \[\varphi = \sqrt{\frac{e}{8 m_0 U}} &int;_{- &infin;}^{+ &infin;} B_z \mathrm{d}z\] 对于 Fig. 2.6 中的钟形磁场分布, 有近似公式: \[f = \frac{2a}{&pi; k^2}, \varphi = &pi; k \ \mathrm{for}\ k^2 = \frac{e B_0^2 a^2}{8 m U} \ll 1\] 其中, \(a\) 为最大磁场强度 \(B_0\) 的半宽长度. \(k\) 表示了一个无量纲的透镜参数, 其衡量了磁透镜的强度. 物镜设计 探射电子束经过的最后一个磁线圈被称为 物镜 一般物镜的 ploepiece 会设计得较小一些, 防止磁场影响样品区域. 其他的透镜可能会设计得较长一些, 以能够往里面塞偏转线圈 \(S_1\) 和 \(S_2\). (见 Fig 2.7) (关于间隙宽度 \(S\) 对磁场的影响, 见 Fig 2.8. ) 常见的工作距离 \(w\) 在 \(5 &sim; 20 mm\) 之间. 一般为了能够在物镜下挂载各种探测器, 会将其形状 (polepiece face) 设计为锥形, 且其平整部分的开孔直径约 \(10 &sim; 20 mm\). 物镜光阑应当能够让最后一束出射光顺利射出而不会受到衍射的影响. Lens Aberrations 误差分析和修正: Spherical Aberration (球差) (如果能有个动画来演示波前的移动就好了, 简单的解释就是, 对于从一点发出的波前会形成球面, 而透镜为平面, 从球面到平面上会有一个相位差, 反之同理, 从透镜平面没法汇聚到一个焦点上, 所以会有球差.) 对 Gaussian 成像平面, 即近轴光线 (paraxial rays) 的焦平面, 其宽度为: \(2 C_s &alpha;^3\), 而在光束最小处的直径为: \[d_s = 0.5 C_s &alpha;^3\] 其中 \(&alpha;\) 为由光阑约束的半角宽度, 可以通过改变物镜的光阑大小来改变; (对于 SEM 中使用的弱透镜 (? Weak lenses), 在较远的工作距离中会引入较大的球差), 球差参数大约是 \(C_s = 20 &sim; 100 mm\), 并且其随着 \(f^3\) 进行变化, 有近似公式 (\(a\) 为上文中的磁场半宽): \[C_s &cong; \frac{3 f^3}{4 a^2}\] 球差系数 \(C_s\) 可以通过测量在物镜光阑移动到偏轴情况时的像的位移来得到. Chromatic Aberration (色散) 因为焦距和能量有关, 所以在 \(&Delta; E\) 的能量差下, 由于焦距差异导致的最小光束宽度为 (对于 \(k^2 \ll 1\)): \[d_c = C_c \frac{&Delta; E}{E} &alpha;\] 其中 \(C_c\) 为色散系数. 色散往往是由于加速电压的波动引入的: \[\frac{&Delta; f}{f} = \frac{&Delta; U}{U} + 2 \frac{&Delta; I}{I}\] 所以为了减少色散, 应使得 \(\frac{&Delta; U}{U}\) 和 \(2 \frac{&Delta; I}{I}\) 项都小于 \(\frac{&Delta; E}{E} &cong; 10^{-4}\) 的一个波动. (因为 \(\frac{&Delta; E}{E}\) 在低能量时受到能量变化影响更明显, 所以对于低能 LVSEM 情况下, 可能会需要通过一系列的电磁四极子来进行修正.) 色散常数 \(C_c\) 可以通过在光阑不在轴中心时测量加速电压变化时, 图像的一个偏移量来得到. Axial Astigmatism (轴向像散) 磁场在磁导管 (ploepiece) 中不均匀的分布, 如椭圆型 (非圆) 的磁导管, 于是就会导致不同方向上焦距的不同: \[&Delta; f_A = \left| F_s - F_m \right|, d_A = &Delta; f_A &alpha;\] 其中 \(d_A\) 为光束极细处的直径. 轴向像散可以通过一对在磁导管间隙的四极子透镜 (quadrupole lenses) 来修正. Diffraction Error (衍射误差) 物镜光阑会产生圆孔衍射斑, 于是衍射斑有半宽: \[d_d = 0.6 &lambda; / &alpha;\] 其中 \(&lambda;\) 为电子波长. Correction of Lens Aberrations 如 coma (彗差), distortion (畸变), 和离轴误差 (non-axial errors), 可以通过一个傍轴的电子束和一个小的光阑使得 \(&alpha; \leq 20 m rad\) 可以通过增加 \(E\) 来减少 \(\frac{&Delta; E}{E}\) 来减少色差. 引入四极子可以来消球差和色差 Special Designs of Objective Lenses In-Lens Operation Single-Polepiece Lenses Combinations with Electrostatic Fields Miniaturized SEM Geometric Optical Theory of Electron-Probe Formation 缩小率 通过计算交错斑在多个透镜叠加 (demagnification 缩小) 后的直径 \(d_0\), 即得到最终照射在样品上的探测电流的直径 (认为每一个透镜中间产生的交叉斑图像 (crossover image), 就紧接着被下一个透镜放大, 但是认为是有一个较远的物距 \(L\), 也就是认为这样的距离 \((\frac{1}{f} - \frac{1}{L})^{-1} &cong; f\), 于是对于一个三透镜系统): \[d_0 = \frac{f_1 f_2 f_3}{L_1 L_2 L_3} d_c = m d_c\] 其中 \(m \ll 1\) 为 缩小率. 透镜尺寸估计 对于热发射电子枪 \(d_c &cong; 20 &sim; 50 &mu; m\), 若需要使得探针直径 \(d_0 \leq 10 nm\), 即缩小倍率 \(m \leq 1 / 5000\), 于是需要 \(\frac{f_i}{L_i} &cong; (\frac{1}{5000})^{1/3} &cong; \frac{1}{17}\). 若 \(f_i = 5mm\), 那么最小两个透镜之间距离也需要 \(3 L_i &cong; 25 cm\). 对于 Schottky 或者场致发射的电子枪, 因为可以有更小的交错斑 (\(&lt; 10nm\)), 所以即使只有一个物镜, 也能够达到更加 \(d_0 &cong; 1nm\) 的效果. 透镜光阑半径估计 物镜光阑半径 \(r\) 影响探针尺度 \(&alpha;_p\), 在一阶近似下有公式: \[&alpha;_p = r / f\] 对于实际情况, 若光阑外有磁场泄漏, \(&alpha;_p\) 可能会有一些不同. 对于光阑参数 \(10 &sim; 20 mrad\) 量级, \(f &cong; 5 &sim; 20 mm\) 的结果, 其光阑直径约为 \(50 &sim; 200 &mu; m\). 一般为了得到一个好的信噪比, 需要有至少 \(I_p \geq 10^{-12} &sim; 10^{-11}A\), 一般对应的光阑量级约为 \(d_{\mathrm{min}} &cong; 10 nm\), 以及 \(&alpha;_{\mathrm{opt}} &cong; 5 &sim; 10 mrad\). 当工作距离 \(w\) 在 \(10mm\) 的情况下, 对应的物镜光阑直径约为 \(2 r &cong; 2 &alpha;_P w = 50 &sim; 100 &mu; m\). 探针电流估计 \[j_P = &pi; &beta; &alpha;_P^2 &rArr; I_p = \frac{&pi;}{4} d_0^2 j_P\] 其中, \(&beta;\) 为枪的亮度参数 \(&beta; = \frac{j}{&Delta; &Omega;}\), \(j = \frac{&Delta; I}{&Delta; S}\). 探针直径和成像误差 对于成像得到的探针直径: \[d_0 = \sqrt{\frac{4 I_p}{&pi;^2 &beta;}} &alpha;_P^{-1} = C_0 &alpha;_P^{-1}\] 在对光斑大小的影响参数 \(d_s, d_c, d_d\): \[d_P^2 = d_0^2 + d_d^2 + d_s^2 + d_c^2 = [C_0^2 + (0.6 &lambda;)^2] &alpha;_P^{-2} + \frac{1}{4} C_s^2 &alpha;_s^2 + (C_c \frac{&Delta; E}{E})^2 &alpha;_P^2\] 一般在使用热发射的阴极的时候, 需要使得 \(C_0 \gg &lambda;\), 即使得衍射误差可以被忽略. 除了 \(C_0\) 项作为主导因素, \(C_s\) (球差) 也是比较重要的一项, (\(C_c\) 随着高的加速电压而减少). 较小的光阑直径可以用来增加景深 (depth of focus), 较大的可以增强流强 (probe current), 但是不论是哪一种, 探针电流的直径都会增强并且会使得分辨率下降. 在张角 \(&alpha;_p &lt; &alpha;_{\mathrm{opt}}\) 时, 有 \(d_p \propto &alpha;_p^3\), 所以球差在在实际中会起一个比较并不是很大的作用, (because the real beam profile is then not Gaussian but consists of a peak and a broad background.) 最佳张角 \(&alpha;_{\mathrm{opt}}\) 可以通过 \(\frac{&part; d_p}{&part; &alpha;_p} = 0\) 时计算得到的 \(&alpha;_p = &alpha;_{\mathrm{opt}}\): \[&alpha;_{\mathrm{opt}} = (\frac{4}{3})^{\frac{1}{8}} (\frac{C_0}{C_s})^{\frac{1}{4}}\] 在最佳张角时, 应有探针直径的最小值 \(d_{p, \mathrm{min}}\): \[d_{p, \mathrm{min}} = (\frac{4}{3})^{\frac{3}{8}} (C_0^3 C_s)^{\frac{1}{4}}\] 从中可以解得 \(I_p\), 即最佳探测电流: \[I_{p, \mathrm{max}} = \frac{3 &pi;^2}{16} &beta; C_s^{- \frac{2}{3}} d_{p, \mathrm{min}}^{\frac{8}{3}}\] 注: 在 Schottky 或场致发射电子枪来说, 其波长 \(&lambda;\) 在比 \(C_0\) 更大, 因为其亮度 \(&beta;\) 更高, 所以可以得到一个更小的 \(d_p\). 对于场致发射电子枪, 其电流强度有公式 \(I_{p, \mathrm{max}} = c d_{p, \mathrm{min}}^{\frac{2}{3}}\), 其中 \(c\) 为一个和电子枪电极和磁线圈球差有关的一个常数. [只能说某种程度来说, 真的是一开始了解的不多, 现在就十分的后悔. 不过对于热发射电子枪, 其好处是能够在较大的探针下, 有较高的电流. ] 总结来说, 了解 焦距 \(f\), 工作距离 \(w\), 对于一组最终的张角设置, \(&alpha;_p\) 随 \(f^{-1}\) 减少; 对于相差和球差, 分别相对 \(f^3\) 和 \(f\) 增加, 其系数 \(C_s\) 和 \(C_c\) 和 \(f\) 与 \(w\) 差不多无关. Wave-Optical Theory of Electron-Probe Formation 对于热发射电子枪, 波动光学项的部分可以暂时忽略; 对于 Schottky 和场致发射电子枪倒需要更进一步的考虑. [但是我们用的又不是这俩, 到时候再说吧&#8230; 我波动光学不能说一窍不通, 学得乱七八糟肯定是的了.] Electron Beam Deflection Modes 关于图片的一些说明 一般因为电偏转所需要的高压过高, 不方便使用, 所以往往采用磁透镜的设计 对于 \(20keV\) 量极的电子, 在偏转角约为 \(&epsilon; = 5^{&circ;} &cong; 0.1 rad\) 时, 若电场距离 \(h = 1 cm\), 偏转电场约为 \(| \boldsymbol{E} | = u / d = 20kV\), 此时约需 \(u = &plusmn; 2kV\) 的偏转电压; 类似的, 对于 \(B = 10^{-2} T\) 的磁场, 在相同的偏转要求下, 约需要 \(N I = 20 A &sdot; \mathrm{cols}\) 的量级. (因为要的电流比较小 \(N=200, I = 0.1A\), 所以在磁偏转线圈的设计上比较轻松.) 磁透镜的两种设计中: a. 图中的设计, 需要在其中加入铁芯 b. 图中的设计, 是一种不需要铁芯的设计, 其线圈形状为马鞍面 Electron Beam Deflection by Transverse Fields 在经过电场偏转 (Fig. 2.17) 或者是磁场偏转 (Fig. 2.18), 假设认为飞行时间 \(&Delta; T = \frac{h}{v}\) 很短, 并且不考虑垂直偏转方向上的运动的影响. 即在偏转方向上获得的动量约为 \(p_x = e (E_x + v B_y) &Delta; T\). 于是偏转角 \(&epsilon;\) 约为: \[&epsilon; = \frac{e h}{m v^2} E_x = \frac{h}{2d} \frac{u}{U} \frac{1 + E/E_0}{1 + E/2E_0}\] (其中 \(u\) 为偏转的电压) 或者是 \[&epsilon; = \frac{e h}{m v} B_y = \frac{e h B_y}{[2 m_0 E(1 + E/2E_0)]^{1/2}}\] Scanning, Magnification and Rocking 两对偏转透镜 \(S_1\) 和 \(S_2\) 用于在 \(x\) 和 \(y\) 方向上产生偏转, 令偏转扫描的区域线度为 \(b\), 在显示器上的线度 \(W_B\), 于是整体的放大倍率: \[M = \frac{W_B:\ \mathrm{Width}\ B\ \mathrm{of}\ \mathrm{the}\ \mathrm{CRT}}{b:\ \mathrm{Width}\ b\ \mathrm{of}\ \mathrm{the}\ \mathrm{scanned}\ \mathrm{area}}\] 为了减少衍射对成像的影响, 偏转后的光束应当仍然落在物镜光阑内. Electron Beam Blanking and Chopping Focusing Focusing and Correction of Astigmatism Depth of Focus Dynamic and Automatic Focusing 整体光路设计 来一个简单的计算包: ;;; SEM-Calculate Package (defpackage :sem-calculate (:use :cl))" />
<meta property="og:description" content="About 参考的资料为 Scanning Electron Microscopy, Ludwig Reimer 的前两章. The aim of this book is to outline the physics of image formation, electron-specimen interactions, imaging modes, the interpretation of micrographs and the use of quantitative modes in scanning electron microscopy (SEM). 下面默认无标记的都是引用该书的内容. 部分图片有一些标注. 读书的目标在于快速入门并帮助我能设计一个总体的一个光路 🥲. Overview 一个总体结构的示意图: 电子枪 Electron Guns 阴极 Cathode 阴极 电压 可能的值从 \(0.1keV\) 到 \(5keV\) (低压 LVSEM), 或者到 \(50keV\). 在枪中最小的光束交叉的区域叫做 crossover (交叉斑). The smallest beam cross-section at the gun - the crossover. 其量级对于热发射电子枪 (thermionic emission) 应在 \(10 &sim; 50 &mu; m\) 附近; 对于 Schottky 和场发射 (field-emission) 电子枪, 应在 \(10 &sim; 100 nm\) 附近. 经过二到三极透镜系统的聚焦, 探测电子束的宽度 应当在 \(1 &sim; 10 nm\), 其在样品表面 照射电流强度 约 \(10^{-9} &sim; 10^{-12} A\) 量极. 若需要较高流强 \(&cong; 10^{-8}A\), 探测电子束的宽度约 \(&cong; 0.1 &mu; m\). 工作距离 working distance 在探测样本 (specimen) 和最低的 polepiece (极片? ) 的距离为工作距离. 通常的距离约为 数毫米或者数厘米, 根据不同的模式的距离不同. 热发射电子枪 thermionic Electron Guns 通过加热 (功函数 \(&phi;_w\)) 使得电子克复 \(E_F\) Fermi 能级的束缚然后被抛出. 在阴极和阳极之间的加速电场 \(\boldsymbol{E}\) 提供能量 \(V = - |\boldsymbol{E}| z\), 发射的流强 (emission current density) 的 Richardson Law: \[j_c = A T_c^2 \mathrm{exp}(- &phi;_w / k T_c)\] 其中 \(A\) 为和材料有关的常数; \(T_c\) 为阴极尖端的温度; \(k\) 为 Boltzmann 常数. 工作温度 和 束流密度 通常为了达到尽可能大的电流, 会使得针尖温度略在电子枪熔点之下 \(T_m\) 对于钨 (tungsten, \(&phi;_w = 4.5eV, T_m = 3650K\)), 常见的 \(T_c = 2500 &sim; 3000 K\). 并且在 \(T_c = 2800K\) 时, \(j_c &asymp; 3 A &sdot; cm^{-2}\); 对于 Lanthanum hexaboride \(\mathrm{LaB}_6, &phi;_w = 2.7eV\), 工作温度约 \(T_c = 1400 &sim; 2000K\), 其电流密度约 \(20 &sim; 50 A &sdot; cm^{-2}\). 电子枪寿命 约在 \(40 &sim; 200h\) 之间, 取决于阴极材料的蒸发, 在灯丝过细时断裂. 工作真空度 约 \((1 &sim; 5) &times; 10^{-3}Pa\) 量级的真空度可以防止灯丝氧化. 更高的真空度可以提高寿命, 如在 \(10^{-4}Pa\) 下, \(\mathrm{LaB}_6\) 可达数千小时. (比如在抽真空的机械泵基础上加上离子泵) 加速电压 和 电子物质波波长 \(p^2 c^2 + m_0^2 c^4 = (E + m_0 c^2)^2 &rArr; p = \sqrt{2 m_0 E (1 + \frac{E}{2 E_0})} &rArr; &lambda; = \frac{h}{p}\) 栅极 (Wehnelt cup) 有一个小小的电压降 \(U_W = I_c R_W\), 其中 \(R_W = 1 &sim; 10 M &Omega;\), \(I_c\) 为最终照射电流 (beam current) 和加热功率 \(P_c\) 的关系如下: (Fig.2.3. 一个自对中 (auto-biased) 热发射电子枪 发射电流 \(I_c\) (cathode emission current) 和加热功率 \(P_c\) 的关系, 以及其交叉斑的一个演示. ) 交错斑 (crossover) 为了获得最小的交叉斑, 应在 \(I_c - P_c\) 接近转折点的位置. 在交错斑处的电流密度近似满足高斯关系 (Gaussian profile): \[j(r) = j_0 \mathrm{exp}[- (\frac{r}{r_0})^2]\] 其中 \(r_0 &cong; 10 &sim; 50 &mu; m\). 在最佳工作点位之后, 一个过热的电子枪, 会导致电子枪的使用时长缩短; 并且加热功率 \(P_c\) 过大也会导致交错斑减少; 在最佳工作点位之前, 一个过冷的电子枪, 会导致交错斑发散 (非聚焦). 初始发射动量 (\(\boldsymbol{p}\)) 电子枪的初始发射动量满足 Maxwell 的分布, 会导致发射的电子能量的一个 \(&Delta; E\). 电子枪亮度 (\(&beta;\)) 单位立体角上的电流密度: \(&beta; = \frac{&Delta; I}{&Delta; S &Delta; &Omega;} = \frac{j}{&pi; &alpha;^2} = \mathrm{const}\), \[&beta;_{\mathrm{max}} = \frac{j_c}{&pi;} [1 + \frac{E}{k T_c} (1 + \frac{E}{2 E_0})] &cong; \frac{j_c E}{&pi; k T_c}\] 对于钨灯丝来说, \(E = 25keV, T_c = 2700K\), \(&beta; = (0.3 &sim; 2) &times; 10^4 A cm^{-2} sr^{-1}\), (这个数值对于 \(\mathrm{LaB}_6\) 约要大 10 到 20 倍). 探针电流 (electron probe current) (\(I_p\)) Schottky-Emission Guns Field-Emission Guns Measurement of Gun Parameters 电子枪的交错斑的影响因素: 阴极和栅极之间的高度 (一个可能的 参考) 工作电流 \(I_c\) 和工作功率 \(P_c\) (在工作曲线上的那个折点的选择) 测量判断光强 \(&beta; = \frac{j}{&Delta; &Omega;}\) 的方法大致有如上三种: (原理上都需要测量 \(&Delta; I, &Delta; S, &Delta; &Omega;\)) Two-diaphragm Method 一级光阑直径 \(d_1 &rarr; &Delta; S = \frac{&pi; d_1^2}{4}\), 需要满足其直径小于交错斑 二级光阑直径 \(d_2 &rarr; &Delta; &Omega; = \frac{&pi; d_2^2}{4 l^2}\), 距离一级光阑的距离 \(l = 10 &sim; 50 cm\). 电流 \(&Delta; I\) 通过法拉第笼来测量 Crossover-projection Method 前两种方法不能用于 Schottky 和场发射的枪, 因为其源的尺寸较小. Electron-probe Diameter Electron Optics Focal Length of an Electron Lens 磁透镜的一个示意图: 图片的一些说明 一个比较简单的线圈形式如 Fig 2.6 所示, 其中 \(p\) 和 \(q\) 分别为物距和像距. 在一个稍微更加详细一点的示意图中 \(S_1\) 和 \(S_2\) 为扫描线圈. 可以将最终的出射电子束近似为从 \(Z\) 处发射的点粒子. 轴对称场中, 利用 \(&nabla; &sdot; \boldsymbol{B} = 0\), 可以有 \(B_r = - \frac{r}{2} &part;_z B_z\), 应当有受 Lorentz 力 \(\boldsymbol{F} = - e (\boldsymbol{E} + \boldsymbol{v} &times; \boldsymbol{B})\). 目标是计算交错斑 P 经过透镜系统有得到的新的交错斑 Q 的位置. 因为在 SEM 中的透镜往往都是弱透镜 (? normally weak, 我个人认为应该是近轴条件), 所以可以用类似光学的焦距公式: \(\frac{1}{f} = \frac{1}{p} + \frac{1}{q}\) 和放大率 \(M = \frac{q}{p}\) 来进行表示. 并且有近似公式: \[\frac{1}{f} = \frac{e}{8 m U} &int;_{- &infin;}^{+ &infin;} B_z^2 \mathrm{d}z\] 而磁透镜会引入一个旋转量: \[\varphi = \sqrt{\frac{e}{8 m_0 U}} &int;_{- &infin;}^{+ &infin;} B_z \mathrm{d}z\] 对于 Fig. 2.6 中的钟形磁场分布, 有近似公式: \[f = \frac{2a}{&pi; k^2}, \varphi = &pi; k \ \mathrm{for}\ k^2 = \frac{e B_0^2 a^2}{8 m U} \ll 1\] 其中, \(a\) 为最大磁场强度 \(B_0\) 的半宽长度. \(k\) 表示了一个无量纲的透镜参数, 其衡量了磁透镜的强度. 物镜设计 探射电子束经过的最后一个磁线圈被称为 物镜 一般物镜的 ploepiece 会设计得较小一些, 防止磁场影响样品区域. 其他的透镜可能会设计得较长一些, 以能够往里面塞偏转线圈 \(S_1\) 和 \(S_2\). (见 Fig 2.7) (关于间隙宽度 \(S\) 对磁场的影响, 见 Fig 2.8. ) 常见的工作距离 \(w\) 在 \(5 &sim; 20 mm\) 之间. 一般为了能够在物镜下挂载各种探测器, 会将其形状 (polepiece face) 设计为锥形, 且其平整部分的开孔直径约 \(10 &sim; 20 mm\). 物镜光阑应当能够让最后一束出射光顺利射出而不会受到衍射的影响. Lens Aberrations 误差分析和修正: Spherical Aberration (球差) (如果能有个动画来演示波前的移动就好了, 简单的解释就是, 对于从一点发出的波前会形成球面, 而透镜为平面, 从球面到平面上会有一个相位差, 反之同理, 从透镜平面没法汇聚到一个焦点上, 所以会有球差.) 对 Gaussian 成像平面, 即近轴光线 (paraxial rays) 的焦平面, 其宽度为: \(2 C_s &alpha;^3\), 而在光束最小处的直径为: \[d_s = 0.5 C_s &alpha;^3\] 其中 \(&alpha;\) 为由光阑约束的半角宽度, 可以通过改变物镜的光阑大小来改变; (对于 SEM 中使用的弱透镜 (? Weak lenses), 在较远的工作距离中会引入较大的球差), 球差参数大约是 \(C_s = 20 &sim; 100 mm\), 并且其随着 \(f^3\) 进行变化, 有近似公式 (\(a\) 为上文中的磁场半宽): \[C_s &cong; \frac{3 f^3}{4 a^2}\] 球差系数 \(C_s\) 可以通过测量在物镜光阑移动到偏轴情况时的像的位移来得到. Chromatic Aberration (色散) 因为焦距和能量有关, 所以在 \(&Delta; E\) 的能量差下, 由于焦距差异导致的最小光束宽度为 (对于 \(k^2 \ll 1\)): \[d_c = C_c \frac{&Delta; E}{E} &alpha;\] 其中 \(C_c\) 为色散系数. 色散往往是由于加速电压的波动引入的: \[\frac{&Delta; f}{f} = \frac{&Delta; U}{U} + 2 \frac{&Delta; I}{I}\] 所以为了减少色散, 应使得 \(\frac{&Delta; U}{U}\) 和 \(2 \frac{&Delta; I}{I}\) 项都小于 \(\frac{&Delta; E}{E} &cong; 10^{-4}\) 的一个波动. (因为 \(\frac{&Delta; E}{E}\) 在低能量时受到能量变化影响更明显, 所以对于低能 LVSEM 情况下, 可能会需要通过一系列的电磁四极子来进行修正.) 色散常数 \(C_c\) 可以通过在光阑不在轴中心时测量加速电压变化时, 图像的一个偏移量来得到. Axial Astigmatism (轴向像散) 磁场在磁导管 (ploepiece) 中不均匀的分布, 如椭圆型 (非圆) 的磁导管, 于是就会导致不同方向上焦距的不同: \[&Delta; f_A = \left| F_s - F_m \right|, d_A = &Delta; f_A &alpha;\] 其中 \(d_A\) 为光束极细处的直径. 轴向像散可以通过一对在磁导管间隙的四极子透镜 (quadrupole lenses) 来修正. Diffraction Error (衍射误差) 物镜光阑会产生圆孔衍射斑, 于是衍射斑有半宽: \[d_d = 0.6 &lambda; / &alpha;\] 其中 \(&lambda;\) 为电子波长. Correction of Lens Aberrations 如 coma (彗差), distortion (畸变), 和离轴误差 (non-axial errors), 可以通过一个傍轴的电子束和一个小的光阑使得 \(&alpha; \leq 20 m rad\) 可以通过增加 \(E\) 来减少 \(\frac{&Delta; E}{E}\) 来减少色差. 引入四极子可以来消球差和色差 Special Designs of Objective Lenses In-Lens Operation Single-Polepiece Lenses Combinations with Electrostatic Fields Miniaturized SEM Geometric Optical Theory of Electron-Probe Formation 缩小率 通过计算交错斑在多个透镜叠加 (demagnification 缩小) 后的直径 \(d_0\), 即得到最终照射在样品上的探测电流的直径 (认为每一个透镜中间产生的交叉斑图像 (crossover image), 就紧接着被下一个透镜放大, 但是认为是有一个较远的物距 \(L\), 也就是认为这样的距离 \((\frac{1}{f} - \frac{1}{L})^{-1} &cong; f\), 于是对于一个三透镜系统): \[d_0 = \frac{f_1 f_2 f_3}{L_1 L_2 L_3} d_c = m d_c\] 其中 \(m \ll 1\) 为 缩小率. 透镜尺寸估计 对于热发射电子枪 \(d_c &cong; 20 &sim; 50 &mu; m\), 若需要使得探针直径 \(d_0 \leq 10 nm\), 即缩小倍率 \(m \leq 1 / 5000\), 于是需要 \(\frac{f_i}{L_i} &cong; (\frac{1}{5000})^{1/3} &cong; \frac{1}{17}\). 若 \(f_i = 5mm\), 那么最小两个透镜之间距离也需要 \(3 L_i &cong; 25 cm\). 对于 Schottky 或者场致发射的电子枪, 因为可以有更小的交错斑 (\(&lt; 10nm\)), 所以即使只有一个物镜, 也能够达到更加 \(d_0 &cong; 1nm\) 的效果. 透镜光阑半径估计 物镜光阑半径 \(r\) 影响探针尺度 \(&alpha;_p\), 在一阶近似下有公式: \[&alpha;_p = r / f\] 对于实际情况, 若光阑外有磁场泄漏, \(&alpha;_p\) 可能会有一些不同. 对于光阑参数 \(10 &sim; 20 mrad\) 量级, \(f &cong; 5 &sim; 20 mm\) 的结果, 其光阑直径约为 \(50 &sim; 200 &mu; m\). 一般为了得到一个好的信噪比, 需要有至少 \(I_p \geq 10^{-12} &sim; 10^{-11}A\), 一般对应的光阑量级约为 \(d_{\mathrm{min}} &cong; 10 nm\), 以及 \(&alpha;_{\mathrm{opt}} &cong; 5 &sim; 10 mrad\). 当工作距离 \(w\) 在 \(10mm\) 的情况下, 对应的物镜光阑直径约为 \(2 r &cong; 2 &alpha;_P w = 50 &sim; 100 &mu; m\). 探针电流估计 \[j_P = &pi; &beta; &alpha;_P^2 &rArr; I_p = \frac{&pi;}{4} d_0^2 j_P\] 其中, \(&beta;\) 为枪的亮度参数 \(&beta; = \frac{j}{&Delta; &Omega;}\), \(j = \frac{&Delta; I}{&Delta; S}\). 探针直径和成像误差 对于成像得到的探针直径: \[d_0 = \sqrt{\frac{4 I_p}{&pi;^2 &beta;}} &alpha;_P^{-1} = C_0 &alpha;_P^{-1}\] 在对光斑大小的影响参数 \(d_s, d_c, d_d\): \[d_P^2 = d_0^2 + d_d^2 + d_s^2 + d_c^2 = [C_0^2 + (0.6 &lambda;)^2] &alpha;_P^{-2} + \frac{1}{4} C_s^2 &alpha;_s^2 + (C_c \frac{&Delta; E}{E})^2 &alpha;_P^2\] 一般在使用热发射的阴极的时候, 需要使得 \(C_0 \gg &lambda;\), 即使得衍射误差可以被忽略. 除了 \(C_0\) 项作为主导因素, \(C_s\) (球差) 也是比较重要的一项, (\(C_c\) 随着高的加速电压而减少). 较小的光阑直径可以用来增加景深 (depth of focus), 较大的可以增强流强 (probe current), 但是不论是哪一种, 探针电流的直径都会增强并且会使得分辨率下降. 在张角 \(&alpha;_p &lt; &alpha;_{\mathrm{opt}}\) 时, 有 \(d_p \propto &alpha;_p^3\), 所以球差在在实际中会起一个比较并不是很大的作用, (because the real beam profile is then not Gaussian but consists of a peak and a broad background.) 最佳张角 \(&alpha;_{\mathrm{opt}}\) 可以通过 \(\frac{&part; d_p}{&part; &alpha;_p} = 0\) 时计算得到的 \(&alpha;_p = &alpha;_{\mathrm{opt}}\): \[&alpha;_{\mathrm{opt}} = (\frac{4}{3})^{\frac{1}{8}} (\frac{C_0}{C_s})^{\frac{1}{4}}\] 在最佳张角时, 应有探针直径的最小值 \(d_{p, \mathrm{min}}\): \[d_{p, \mathrm{min}} = (\frac{4}{3})^{\frac{3}{8}} (C_0^3 C_s)^{\frac{1}{4}}\] 从中可以解得 \(I_p\), 即最佳探测电流: \[I_{p, \mathrm{max}} = \frac{3 &pi;^2}{16} &beta; C_s^{- \frac{2}{3}} d_{p, \mathrm{min}}^{\frac{8}{3}}\] 注: 在 Schottky 或场致发射电子枪来说, 其波长 \(&lambda;\) 在比 \(C_0\) 更大, 因为其亮度 \(&beta;\) 更高, 所以可以得到一个更小的 \(d_p\). 对于场致发射电子枪, 其电流强度有公式 \(I_{p, \mathrm{max}} = c d_{p, \mathrm{min}}^{\frac{2}{3}}\), 其中 \(c\) 为一个和电子枪电极和磁线圈球差有关的一个常数. [只能说某种程度来说, 真的是一开始了解的不多, 现在就十分的后悔. 不过对于热发射电子枪, 其好处是能够在较大的探针下, 有较高的电流. ] 总结来说, 了解 焦距 \(f\), 工作距离 \(w\), 对于一组最终的张角设置, \(&alpha;_p\) 随 \(f^{-1}\) 减少; 对于相差和球差, 分别相对 \(f^3\) 和 \(f\) 增加, 其系数 \(C_s\) 和 \(C_c\) 和 \(f\) 与 \(w\) 差不多无关. Wave-Optical Theory of Electron-Probe Formation 对于热发射电子枪, 波动光学项的部分可以暂时忽略; 对于 Schottky 和场致发射电子枪倒需要更进一步的考虑. [但是我们用的又不是这俩, 到时候再说吧&#8230; 我波动光学不能说一窍不通, 学得乱七八糟肯定是的了.] Electron Beam Deflection Modes 关于图片的一些说明 一般因为电偏转所需要的高压过高, 不方便使用, 所以往往采用磁透镜的设计 对于 \(20keV\) 量极的电子, 在偏转角约为 \(&epsilon; = 5^{&circ;} &cong; 0.1 rad\) 时, 若电场距离 \(h = 1 cm\), 偏转电场约为 \(| \boldsymbol{E} | = u / d = 20kV\), 此时约需 \(u = &plusmn; 2kV\) 的偏转电压; 类似的, 对于 \(B = 10^{-2} T\) 的磁场, 在相同的偏转要求下, 约需要 \(N I = 20 A &sdot; \mathrm{cols}\) 的量级. (因为要的电流比较小 \(N=200, I = 0.1A\), 所以在磁偏转线圈的设计上比较轻松.) 磁透镜的两种设计中: a. 图中的设计, 需要在其中加入铁芯 b. 图中的设计, 是一种不需要铁芯的设计, 其线圈形状为马鞍面 Electron Beam Deflection by Transverse Fields 在经过电场偏转 (Fig. 2.17) 或者是磁场偏转 (Fig. 2.18), 假设认为飞行时间 \(&Delta; T = \frac{h}{v}\) 很短, 并且不考虑垂直偏转方向上的运动的影响. 即在偏转方向上获得的动量约为 \(p_x = e (E_x + v B_y) &Delta; T\). 于是偏转角 \(&epsilon;\) 约为: \[&epsilon; = \frac{e h}{m v^2} E_x = \frac{h}{2d} \frac{u}{U} \frac{1 + E/E_0}{1 + E/2E_0}\] (其中 \(u\) 为偏转的电压) 或者是 \[&epsilon; = \frac{e h}{m v} B_y = \frac{e h B_y}{[2 m_0 E(1 + E/2E_0)]^{1/2}}\] Scanning, Magnification and Rocking 两对偏转透镜 \(S_1\) 和 \(S_2\) 用于在 \(x\) 和 \(y\) 方向上产生偏转, 令偏转扫描的区域线度为 \(b\), 在显示器上的线度 \(W_B\), 于是整体的放大倍率: \[M = \frac{W_B:\ \mathrm{Width}\ B\ \mathrm{of}\ \mathrm{the}\ \mathrm{CRT}}{b:\ \mathrm{Width}\ b\ \mathrm{of}\ \mathrm{the}\ \mathrm{scanned}\ \mathrm{area}}\] 为了减少衍射对成像的影响, 偏转后的光束应当仍然落在物镜光阑内. Electron Beam Blanking and Chopping Focusing Focusing and Correction of Astigmatism Depth of Focus Dynamic and Automatic Focusing 整体光路设计 来一个简单的计算包: ;;; SEM-Calculate Package (defpackage :sem-calculate (:use :cl))" />
<link rel="canonical" href="/learning/scanning-electron-microscopy/" />
<meta property="og:url" content="/learning/scanning-electron-microscopy/" />
<meta property="og:site_name" content="My Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-05-19T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Scanning Electron Microscopy" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-05-19T00:00:00+00:00","datePublished":"2023-05-19T00:00:00+00:00","description":"About 参考的资料为 Scanning Electron Microscopy, Ludwig Reimer 的前两章. The aim of this book is to outline the physics of image formation, electron-specimen interactions, imaging modes, the interpretation of micrographs and the use of quantitative modes in scanning electron microscopy (SEM). 下面默认无标记的都是引用该书的内容. 部分图片有一些标注. 读书的目标在于快速入门并帮助我能设计一个总体的一个光路 🥲. Overview 一个总体结构的示意图: 电子枪 Electron Guns 阴极 Cathode 阴极 电压 可能的值从 \\(0.1keV\\) 到 \\(5keV\\) (低压 LVSEM), 或者到 \\(50keV\\). 在枪中最小的光束交叉的区域叫做 crossover (交叉斑). The smallest beam cross-section at the gun - the crossover. 其量级对于热发射电子枪 (thermionic emission) 应在 \\(10 &sim; 50 &mu; m\\) 附近; 对于 Schottky 和场发射 (field-emission) 电子枪, 应在 \\(10 &sim; 100 nm\\) 附近. 经过二到三极透镜系统的聚焦, 探测电子束的宽度 应当在 \\(1 &sim; 10 nm\\), 其在样品表面 照射电流强度 约 \\(10^{-9} &sim; 10^{-12} A\\) 量极. 若需要较高流强 \\(&cong; 10^{-8}A\\), 探测电子束的宽度约 \\(&cong; 0.1 &mu; m\\). 工作距离 working distance 在探测样本 (specimen) 和最低的 polepiece (极片? ) 的距离为工作距离. 通常的距离约为 数毫米或者数厘米, 根据不同的模式的距离不同. 热发射电子枪 thermionic Electron Guns 通过加热 (功函数 \\(&phi;_w\\)) 使得电子克复 \\(E_F\\) Fermi 能级的束缚然后被抛出. 在阴极和阳极之间的加速电场 \\(\\boldsymbol{E}\\) 提供能量 \\(V = - |\\boldsymbol{E}| z\\), 发射的流强 (emission current density) 的 Richardson Law: \\[j_c = A T_c^2 \\mathrm{exp}(- &phi;_w / k T_c)\\] 其中 \\(A\\) 为和材料有关的常数; \\(T_c\\) 为阴极尖端的温度; \\(k\\) 为 Boltzmann 常数. 工作温度 和 束流密度 通常为了达到尽可能大的电流, 会使得针尖温度略在电子枪熔点之下 \\(T_m\\) 对于钨 (tungsten, \\(&phi;_w = 4.5eV, T_m = 3650K\\)), 常见的 \\(T_c = 2500 &sim; 3000 K\\). 并且在 \\(T_c = 2800K\\) 时, \\(j_c &asymp; 3 A &sdot; cm^{-2}\\); 对于 Lanthanum hexaboride \\(\\mathrm{LaB}_6, &phi;_w = 2.7eV\\), 工作温度约 \\(T_c = 1400 &sim; 2000K\\), 其电流密度约 \\(20 &sim; 50 A &sdot; cm^{-2}\\). 电子枪寿命 约在 \\(40 &sim; 200h\\) 之间, 取决于阴极材料的蒸发, 在灯丝过细时断裂. 工作真空度 约 \\((1 &sim; 5) &times; 10^{-3}Pa\\) 量级的真空度可以防止灯丝氧化. 更高的真空度可以提高寿命, 如在 \\(10^{-4}Pa\\) 下, \\(\\mathrm{LaB}_6\\) 可达数千小时. (比如在抽真空的机械泵基础上加上离子泵) 加速电压 和 电子物质波波长 \\(p^2 c^2 + m_0^2 c^4 = (E + m_0 c^2)^2 &rArr; p = \\sqrt{2 m_0 E (1 + \\frac{E}{2 E_0})} &rArr; &lambda; = \\frac{h}{p}\\) 栅极 (Wehnelt cup) 有一个小小的电压降 \\(U_W = I_c R_W\\), 其中 \\(R_W = 1 &sim; 10 M &Omega;\\), \\(I_c\\) 为最终照射电流 (beam current) 和加热功率 \\(P_c\\) 的关系如下: (Fig.2.3. 一个自对中 (auto-biased) 热发射电子枪 发射电流 \\(I_c\\) (cathode emission current) 和加热功率 \\(P_c\\) 的关系, 以及其交叉斑的一个演示. ) 交错斑 (crossover) 为了获得最小的交叉斑, 应在 \\(I_c - P_c\\) 接近转折点的位置. 在交错斑处的电流密度近似满足高斯关系 (Gaussian profile): \\[j(r) = j_0 \\mathrm{exp}[- (\\frac{r}{r_0})^2]\\] 其中 \\(r_0 &cong; 10 &sim; 50 &mu; m\\). 在最佳工作点位之后, 一个过热的电子枪, 会导致电子枪的使用时长缩短; 并且加热功率 \\(P_c\\) 过大也会导致交错斑减少; 在最佳工作点位之前, 一个过冷的电子枪, 会导致交错斑发散 (非聚焦). 初始发射动量 (\\(\\boldsymbol{p}\\)) 电子枪的初始发射动量满足 Maxwell 的分布, 会导致发射的电子能量的一个 \\(&Delta; E\\). 电子枪亮度 (\\(&beta;\\)) 单位立体角上的电流密度: \\(&beta; = \\frac{&Delta; I}{&Delta; S &Delta; &Omega;} = \\frac{j}{&pi; &alpha;^2} = \\mathrm{const}\\), \\[&beta;_{\\mathrm{max}} = \\frac{j_c}{&pi;} [1 + \\frac{E}{k T_c} (1 + \\frac{E}{2 E_0})] &cong; \\frac{j_c E}{&pi; k T_c}\\] 对于钨灯丝来说, \\(E = 25keV, T_c = 2700K\\), \\(&beta; = (0.3 &sim; 2) &times; 10^4 A cm^{-2} sr^{-1}\\), (这个数值对于 \\(\\mathrm{LaB}_6\\) 约要大 10 到 20 倍). 探针电流 (electron probe current) (\\(I_p\\)) Schottky-Emission Guns Field-Emission Guns Measurement of Gun Parameters 电子枪的交错斑的影响因素: 阴极和栅极之间的高度 (一个可能的 参考) 工作电流 \\(I_c\\) 和工作功率 \\(P_c\\) (在工作曲线上的那个折点的选择) 测量判断光强 \\(&beta; = \\frac{j}{&Delta; &Omega;}\\) 的方法大致有如上三种: (原理上都需要测量 \\(&Delta; I, &Delta; S, &Delta; &Omega;\\)) Two-diaphragm Method 一级光阑直径 \\(d_1 &rarr; &Delta; S = \\frac{&pi; d_1^2}{4}\\), 需要满足其直径小于交错斑 二级光阑直径 \\(d_2 &rarr; &Delta; &Omega; = \\frac{&pi; d_2^2}{4 l^2}\\), 距离一级光阑的距离 \\(l = 10 &sim; 50 cm\\). 电流 \\(&Delta; I\\) 通过法拉第笼来测量 Crossover-projection Method 前两种方法不能用于 Schottky 和场发射的枪, 因为其源的尺寸较小. Electron-probe Diameter Electron Optics Focal Length of an Electron Lens 磁透镜的一个示意图: 图片的一些说明 一个比较简单的线圈形式如 Fig 2.6 所示, 其中 \\(p\\) 和 \\(q\\) 分别为物距和像距. 在一个稍微更加详细一点的示意图中 \\(S_1\\) 和 \\(S_2\\) 为扫描线圈. 可以将最终的出射电子束近似为从 \\(Z\\) 处发射的点粒子. 轴对称场中, 利用 \\(&nabla; &sdot; \\boldsymbol{B} = 0\\), 可以有 \\(B_r = - \\frac{r}{2} &part;_z B_z\\), 应当有受 Lorentz 力 \\(\\boldsymbol{F} = - e (\\boldsymbol{E} + \\boldsymbol{v} &times; \\boldsymbol{B})\\). 目标是计算交错斑 P 经过透镜系统有得到的新的交错斑 Q 的位置. 因为在 SEM 中的透镜往往都是弱透镜 (? normally weak, 我个人认为应该是近轴条件), 所以可以用类似光学的焦距公式: \\(\\frac{1}{f} = \\frac{1}{p} + \\frac{1}{q}\\) 和放大率 \\(M = \\frac{q}{p}\\) 来进行表示. 并且有近似公式: \\[\\frac{1}{f} = \\frac{e}{8 m U} &int;_{- &infin;}^{+ &infin;} B_z^2 \\mathrm{d}z\\] 而磁透镜会引入一个旋转量: \\[\\varphi = \\sqrt{\\frac{e}{8 m_0 U}} &int;_{- &infin;}^{+ &infin;} B_z \\mathrm{d}z\\] 对于 Fig. 2.6 中的钟形磁场分布, 有近似公式: \\[f = \\frac{2a}{&pi; k^2}, \\varphi = &pi; k \\ \\mathrm{for}\\ k^2 = \\frac{e B_0^2 a^2}{8 m U} \\ll 1\\] 其中, \\(a\\) 为最大磁场强度 \\(B_0\\) 的半宽长度. \\(k\\) 表示了一个无量纲的透镜参数, 其衡量了磁透镜的强度. 物镜设计 探射电子束经过的最后一个磁线圈被称为 物镜 一般物镜的 ploepiece 会设计得较小一些, 防止磁场影响样品区域. 其他的透镜可能会设计得较长一些, 以能够往里面塞偏转线圈 \\(S_1\\) 和 \\(S_2\\). (见 Fig 2.7) (关于间隙宽度 \\(S\\) 对磁场的影响, 见 Fig 2.8. ) 常见的工作距离 \\(w\\) 在 \\(5 &sim; 20 mm\\) 之间. 一般为了能够在物镜下挂载各种探测器, 会将其形状 (polepiece face) 设计为锥形, 且其平整部分的开孔直径约 \\(10 &sim; 20 mm\\). 物镜光阑应当能够让最后一束出射光顺利射出而不会受到衍射的影响. Lens Aberrations 误差分析和修正: Spherical Aberration (球差) (如果能有个动画来演示波前的移动就好了, 简单的解释就是, 对于从一点发出的波前会形成球面, 而透镜为平面, 从球面到平面上会有一个相位差, 反之同理, 从透镜平面没法汇聚到一个焦点上, 所以会有球差.) 对 Gaussian 成像平面, 即近轴光线 (paraxial rays) 的焦平面, 其宽度为: \\(2 C_s &alpha;^3\\), 而在光束最小处的直径为: \\[d_s = 0.5 C_s &alpha;^3\\] 其中 \\(&alpha;\\) 为由光阑约束的半角宽度, 可以通过改变物镜的光阑大小来改变; (对于 SEM 中使用的弱透镜 (? Weak lenses), 在较远的工作距离中会引入较大的球差), 球差参数大约是 \\(C_s = 20 &sim; 100 mm\\), 并且其随着 \\(f^3\\) 进行变化, 有近似公式 (\\(a\\) 为上文中的磁场半宽): \\[C_s &cong; \\frac{3 f^3}{4 a^2}\\] 球差系数 \\(C_s\\) 可以通过测量在物镜光阑移动到偏轴情况时的像的位移来得到. Chromatic Aberration (色散) 因为焦距和能量有关, 所以在 \\(&Delta; E\\) 的能量差下, 由于焦距差异导致的最小光束宽度为 (对于 \\(k^2 \\ll 1\\)): \\[d_c = C_c \\frac{&Delta; E}{E} &alpha;\\] 其中 \\(C_c\\) 为色散系数. 色散往往是由于加速电压的波动引入的: \\[\\frac{&Delta; f}{f} = \\frac{&Delta; U}{U} + 2 \\frac{&Delta; I}{I}\\] 所以为了减少色散, 应使得 \\(\\frac{&Delta; U}{U}\\) 和 \\(2 \\frac{&Delta; I}{I}\\) 项都小于 \\(\\frac{&Delta; E}{E} &cong; 10^{-4}\\) 的一个波动. (因为 \\(\\frac{&Delta; E}{E}\\) 在低能量时受到能量变化影响更明显, 所以对于低能 LVSEM 情况下, 可能会需要通过一系列的电磁四极子来进行修正.) 色散常数 \\(C_c\\) 可以通过在光阑不在轴中心时测量加速电压变化时, 图像的一个偏移量来得到. Axial Astigmatism (轴向像散) 磁场在磁导管 (ploepiece) 中不均匀的分布, 如椭圆型 (非圆) 的磁导管, 于是就会导致不同方向上焦距的不同: \\[&Delta; f_A = \\left| F_s - F_m \\right|, d_A = &Delta; f_A &alpha;\\] 其中 \\(d_A\\) 为光束极细处的直径. 轴向像散可以通过一对在磁导管间隙的四极子透镜 (quadrupole lenses) 来修正. Diffraction Error (衍射误差) 物镜光阑会产生圆孔衍射斑, 于是衍射斑有半宽: \\[d_d = 0.6 &lambda; / &alpha;\\] 其中 \\(&lambda;\\) 为电子波长. Correction of Lens Aberrations 如 coma (彗差), distortion (畸变), 和离轴误差 (non-axial errors), 可以通过一个傍轴的电子束和一个小的光阑使得 \\(&alpha; \\leq 20 m rad\\) 可以通过增加 \\(E\\) 来减少 \\(\\frac{&Delta; E}{E}\\) 来减少色差. 引入四极子可以来消球差和色差 Special Designs of Objective Lenses In-Lens Operation Single-Polepiece Lenses Combinations with Electrostatic Fields Miniaturized SEM Geometric Optical Theory of Electron-Probe Formation 缩小率 通过计算交错斑在多个透镜叠加 (demagnification 缩小) 后的直径 \\(d_0\\), 即得到最终照射在样品上的探测电流的直径 (认为每一个透镜中间产生的交叉斑图像 (crossover image), 就紧接着被下一个透镜放大, 但是认为是有一个较远的物距 \\(L\\), 也就是认为这样的距离 \\((\\frac{1}{f} - \\frac{1}{L})^{-1} &cong; f\\), 于是对于一个三透镜系统): \\[d_0 = \\frac{f_1 f_2 f_3}{L_1 L_2 L_3} d_c = m d_c\\] 其中 \\(m \\ll 1\\) 为 缩小率. 透镜尺寸估计 对于热发射电子枪 \\(d_c &cong; 20 &sim; 50 &mu; m\\), 若需要使得探针直径 \\(d_0 \\leq 10 nm\\), 即缩小倍率 \\(m \\leq 1 / 5000\\), 于是需要 \\(\\frac{f_i}{L_i} &cong; (\\frac{1}{5000})^{1/3} &cong; \\frac{1}{17}\\). 若 \\(f_i = 5mm\\), 那么最小两个透镜之间距离也需要 \\(3 L_i &cong; 25 cm\\). 对于 Schottky 或者场致发射的电子枪, 因为可以有更小的交错斑 (\\(&lt; 10nm\\)), 所以即使只有一个物镜, 也能够达到更加 \\(d_0 &cong; 1nm\\) 的效果. 透镜光阑半径估计 物镜光阑半径 \\(r\\) 影响探针尺度 \\(&alpha;_p\\), 在一阶近似下有公式: \\[&alpha;_p = r / f\\] 对于实际情况, 若光阑外有磁场泄漏, \\(&alpha;_p\\) 可能会有一些不同. 对于光阑参数 \\(10 &sim; 20 mrad\\) 量级, \\(f &cong; 5 &sim; 20 mm\\) 的结果, 其光阑直径约为 \\(50 &sim; 200 &mu; m\\). 一般为了得到一个好的信噪比, 需要有至少 \\(I_p \\geq 10^{-12} &sim; 10^{-11}A\\), 一般对应的光阑量级约为 \\(d_{\\mathrm{min}} &cong; 10 nm\\), 以及 \\(&alpha;_{\\mathrm{opt}} &cong; 5 &sim; 10 mrad\\). 当工作距离 \\(w\\) 在 \\(10mm\\) 的情况下, 对应的物镜光阑直径约为 \\(2 r &cong; 2 &alpha;_P w = 50 &sim; 100 &mu; m\\). 探针电流估计 \\[j_P = &pi; &beta; &alpha;_P^2 &rArr; I_p = \\frac{&pi;}{4} d_0^2 j_P\\] 其中, \\(&beta;\\) 为枪的亮度参数 \\(&beta; = \\frac{j}{&Delta; &Omega;}\\), \\(j = \\frac{&Delta; I}{&Delta; S}\\). 探针直径和成像误差 对于成像得到的探针直径: \\[d_0 = \\sqrt{\\frac{4 I_p}{&pi;^2 &beta;}} &alpha;_P^{-1} = C_0 &alpha;_P^{-1}\\] 在对光斑大小的影响参数 \\(d_s, d_c, d_d\\): \\[d_P^2 = d_0^2 + d_d^2 + d_s^2 + d_c^2 = [C_0^2 + (0.6 &lambda;)^2] &alpha;_P^{-2} + \\frac{1}{4} C_s^2 &alpha;_s^2 + (C_c \\frac{&Delta; E}{E})^2 &alpha;_P^2\\] 一般在使用热发射的阴极的时候, 需要使得 \\(C_0 \\gg &lambda;\\), 即使得衍射误差可以被忽略. 除了 \\(C_0\\) 项作为主导因素, \\(C_s\\) (球差) 也是比较重要的一项, (\\(C_c\\) 随着高的加速电压而减少). 较小的光阑直径可以用来增加景深 (depth of focus), 较大的可以增强流强 (probe current), 但是不论是哪一种, 探针电流的直径都会增强并且会使得分辨率下降. 在张角 \\(&alpha;_p &lt; &alpha;_{\\mathrm{opt}}\\) 时, 有 \\(d_p \\propto &alpha;_p^3\\), 所以球差在在实际中会起一个比较并不是很大的作用, (because the real beam profile is then not Gaussian but consists of a peak and a broad background.) 最佳张角 \\(&alpha;_{\\mathrm{opt}}\\) 可以通过 \\(\\frac{&part; d_p}{&part; &alpha;_p} = 0\\) 时计算得到的 \\(&alpha;_p = &alpha;_{\\mathrm{opt}}\\): \\[&alpha;_{\\mathrm{opt}} = (\\frac{4}{3})^{\\frac{1}{8}} (\\frac{C_0}{C_s})^{\\frac{1}{4}}\\] 在最佳张角时, 应有探针直径的最小值 \\(d_{p, \\mathrm{min}}\\): \\[d_{p, \\mathrm{min}} = (\\frac{4}{3})^{\\frac{3}{8}} (C_0^3 C_s)^{\\frac{1}{4}}\\] 从中可以解得 \\(I_p\\), 即最佳探测电流: \\[I_{p, \\mathrm{max}} = \\frac{3 &pi;^2}{16} &beta; C_s^{- \\frac{2}{3}} d_{p, \\mathrm{min}}^{\\frac{8}{3}}\\] 注: 在 Schottky 或场致发射电子枪来说, 其波长 \\(&lambda;\\) 在比 \\(C_0\\) 更大, 因为其亮度 \\(&beta;\\) 更高, 所以可以得到一个更小的 \\(d_p\\). 对于场致发射电子枪, 其电流强度有公式 \\(I_{p, \\mathrm{max}} = c d_{p, \\mathrm{min}}^{\\frac{2}{3}}\\), 其中 \\(c\\) 为一个和电子枪电极和磁线圈球差有关的一个常数. [只能说某种程度来说, 真的是一开始了解的不多, 现在就十分的后悔. 不过对于热发射电子枪, 其好处是能够在较大的探针下, 有较高的电流. ] 总结来说, 了解 焦距 \\(f\\), 工作距离 \\(w\\), 对于一组最终的张角设置, \\(&alpha;_p\\) 随 \\(f^{-1}\\) 减少; 对于相差和球差, 分别相对 \\(f^3\\) 和 \\(f\\) 增加, 其系数 \\(C_s\\) 和 \\(C_c\\) 和 \\(f\\) 与 \\(w\\) 差不多无关. Wave-Optical Theory of Electron-Probe Formation 对于热发射电子枪, 波动光学项的部分可以暂时忽略; 对于 Schottky 和场致发射电子枪倒需要更进一步的考虑. [但是我们用的又不是这俩, 到时候再说吧&#8230; 我波动光学不能说一窍不通, 学得乱七八糟肯定是的了.] Electron Beam Deflection Modes 关于图片的一些说明 一般因为电偏转所需要的高压过高, 不方便使用, 所以往往采用磁透镜的设计 对于 \\(20keV\\) 量极的电子, 在偏转角约为 \\(&epsilon; = 5^{&circ;} &cong; 0.1 rad\\) 时, 若电场距离 \\(h = 1 cm\\), 偏转电场约为 \\(| \\boldsymbol{E} | = u / d = 20kV\\), 此时约需 \\(u = &plusmn; 2kV\\) 的偏转电压; 类似的, 对于 \\(B = 10^{-2} T\\) 的磁场, 在相同的偏转要求下, 约需要 \\(N I = 20 A &sdot; \\mathrm{cols}\\) 的量级. (因为要的电流比较小 \\(N=200, I = 0.1A\\), 所以在磁偏转线圈的设计上比较轻松.) 磁透镜的两种设计中: a. 图中的设计, 需要在其中加入铁芯 b. 图中的设计, 是一种不需要铁芯的设计, 其线圈形状为马鞍面 Electron Beam Deflection by Transverse Fields 在经过电场偏转 (Fig. 2.17) 或者是磁场偏转 (Fig. 2.18), 假设认为飞行时间 \\(&Delta; T = \\frac{h}{v}\\) 很短, 并且不考虑垂直偏转方向上的运动的影响. 即在偏转方向上获得的动量约为 \\(p_x = e (E_x + v B_y) &Delta; T\\). 于是偏转角 \\(&epsilon;\\) 约为: \\[&epsilon; = \\frac{e h}{m v^2} E_x = \\frac{h}{2d} \\frac{u}{U} \\frac{1 + E/E_0}{1 + E/2E_0}\\] (其中 \\(u\\) 为偏转的电压) 或者是 \\[&epsilon; = \\frac{e h}{m v} B_y = \\frac{e h B_y}{[2 m_0 E(1 + E/2E_0)]^{1/2}}\\] Scanning, Magnification and Rocking 两对偏转透镜 \\(S_1\\) 和 \\(S_2\\) 用于在 \\(x\\) 和 \\(y\\) 方向上产生偏转, 令偏转扫描的区域线度为 \\(b\\), 在显示器上的线度 \\(W_B\\), 于是整体的放大倍率: \\[M = \\frac{W_B:\\ \\mathrm{Width}\\ B\\ \\mathrm{of}\\ \\mathrm{the}\\ \\mathrm{CRT}}{b:\\ \\mathrm{Width}\\ b\\ \\mathrm{of}\\ \\mathrm{the}\\ \\mathrm{scanned}\\ \\mathrm{area}}\\] 为了减少衍射对成像的影响, 偏转后的光束应当仍然落在物镜光阑内. Electron Beam Blanking and Chopping Focusing Focusing and Correction of Astigmatism Depth of Focus Dynamic and Automatic Focusing 整体光路设计 来一个简单的计算包: ;;; SEM-Calculate Package (defpackage :sem-calculate (:use :cl))","headline":"Scanning Electron Microscopy","mainEntityOfPage":{"@type":"WebPage","@id":"/learning/scanning-electron-microscopy/"},"url":"/learning/scanning-electron-microscopy/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">

  <style type="text/css">
    img {
      margin-left: auto; 
      margin-right:auto; 
      display:block;
    }
  </style><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="My Blog" /><script>
  document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        // customised options
        // • auto-render specific keys, e.g.:
        delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
        ],
        // • rendering keys, e.g.:
        throwOnError : false
      });
  });
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.css" integrity="sha384-z91AFMXXGZasvxZz5DtKJse3pKoTPU0QcNFj/B4gDFRmq6Q2bi1StsT7SOcIzLEN" crossorigin="anonymous">

<!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/katex.min.js" integrity="sha384-Af7YmksQNWRLMvro3U9F84xa0paoIu7Pu2niAIUmZoI09Q4aCsbha5dvaj1tHy6K" crossorigin="anonymous"></script>

<!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.23/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/categories/">Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Scanning Electron Microscopy</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2023-05-19T00:00:00+00:00" itemprop="datePublished">May 19, 2023
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1>About</h1>
<p>参考的资料为 Scanning Electron Microscopy, Ludwig Reimer 的前两章.</p>
<blockquote>
  <p>The aim of this book is to outline the physics of image formation,
    electron-specimen interactions, imaging modes, the interpretation of
    micrographs and the use of quantitative modes in
    scanning electron microscopy (SEM).</p>
</blockquote>
<p>下面默认无标记的都是引用该书的内容. 部分图片有一些标注.</p>
<p>读书的目标在于快速入门并帮助我能设计一个总体的一个光路 🥲.</p>
<h1>Overview</h1>
<p>一个总体结构的示意图:</p>
<p><img src="/_img/reading/sem/principle-of-sem.png" alt="/_img/reading/sem/principle-of-sem.png" /></p>
<h2>电子枪 Electron Guns</h2>
<p><img src="/_img/reading/sem/potential-barrier.png" alt="/_img/reading/sem/potential-barrier.png" /></p>
<ul>
  <li><b>阴极 Cathode</b>
    <ul>
      <li>阴极 <span style="text-decoration:underline;">电压</span> 可能的值从 \(0.1keV\) 到 \(5keV\) (低压 LVSEM), 或者到 \(50keV\).</li>
      <li>在枪中最小的光束交叉的区域叫做 <span style="text-decoration:underline;">crossover</span> (交叉斑).
        <blockquote>
          <p>The smallest beam cross-section at the gun - the crossover.</p>
        </blockquote>
        <p>其量级对于热发射电子枪 (thermionic emission) 应在 \(10 &sim; 50 &mu; m\) 附近;
          对于 Schottky 和场发射 (field-emission) 电子枪, 应在 \(10 &sim; 100 nm\) 附近.</p>
      </li>
      <li>经过二到三极透镜系统的聚焦, <span style="text-decoration:underline;">探测电子束的宽度</span> 应当在 \(1 &sim; 10 nm\),
        其在样品表面 <span style="text-decoration:underline;">照射电流强度</span> 约 \(10^{-9} &sim; 10^{-12} A\) 量极.</li>
      <li>若需要较高流强 \(&cong; 10^{-8}A\), 探测电子束的宽度约 \(&cong; 0.1 &mu; m\).</li>
    </ul>
  </li>
  <li><b>工作距离 working distance</b>
    <ul>
      <li>在探测样本 (specimen) 和最低的 polepiece (极片? ) 的距离为工作距离.</li>
      <li>通常的距离约为 <span style="text-decoration:underline;">数毫米或者数厘米</span>, 根据不同的模式的距离不同.</li>
    </ul>
  </li>
</ul>
<h3>热发射电子枪 thermionic Electron Guns</h3>
<p><img src="/_img/reading/sem/thermionic-gun-structure.png" alt="/_img/reading/sem/thermionic-gun-structure.png" /></p>
<p>通过加热 (功函数 \(&phi;_w\)) 使得电子克复 \(E_F\) Fermi 能级的束缚然后被抛出.
  在阴极和阳极之间的加速电场 \(\boldsymbol{E}\) 提供能量 \(V = - |\boldsymbol{E}| z\),
  发射的流强 (emission current density) 的 Richardson Law:</p>
<p>\[j_c = A T_c^2 \mathrm{exp}(- &phi;_w / k T_c)\]</p>
<p>其中 \(A\) 为和材料有关的常数; \(T_c\) 为阴极尖端的温度;
  \(k\) 为 Boltzmann 常数.</p>
<ul>
  <li><span style="text-decoration:underline;">工作温度</span> 和 <span style="text-decoration:underline;">束流密度</span>
    <p>通常为了达到尽可能大的电流,
      会使得针尖温度略在电子枪熔点之下 \(T_m\)</p>
    <p>对于钨 (tungsten, \(&phi;_w = 4.5eV, T_m = 3650K\)), 常见的 \(T_c = 2500 &sim; 3000 K\).
      并且在 \(T_c = 2800K\) 时, \(j_c &asymp; 3 A &sdot; cm^{-2}\);</p>
    <p>对于 Lanthanum hexaboride \(\mathrm{LaB}_6, &phi;_w = 2.7eV\), 工作温度约 \(T_c = 1400 &sim; 2000K\),
      其电流密度约 \(20 &sim; 50 A &sdot; cm^{-2}\).</p>
  </li>
  <li><span style="text-decoration:underline;">电子枪寿命</span>
    <p>约在 \(40 &sim; 200h\) 之间, 取决于阴极材料的蒸发, 在灯丝过细时断裂.</p>
  </li>
  <li><span style="text-decoration:underline;">工作真空度</span>
    <p>约 \((1 &sim; 5) &times; 10^{-3}Pa\) 量级的真空度可以防止灯丝氧化.
      更高的真空度可以提高寿命, 如在 \(10^{-4}Pa\) 下, \(\mathrm{LaB}_6\) 可达数千小时.
      (比如在抽真空的机械泵基础上加上离子泵)</p>
  </li>
  <li><span style="text-decoration:underline;">加速电压</span> 和 <span style="text-decoration:underline;">电子物质波波长</span>
    <p>\(p^2 c^2 + m_0^2 c^4 = (E + m_0 c^2)^2 &rArr; p = \sqrt{2 m_0 E (1 + \frac{E}{2 E_0})} &rArr; &lambda; = \frac{h}{p}\)</p>
  </li>
  <li><span style="text-decoration:underline;">栅极 (Wehnelt cup)</span>
    <p>有一个小小的电压降 \(U_W = I_c R_W\), 其中 \(R_W = 1 &sim; 10 M &Omega;\),
      \(I_c\) 为最终照射电流 (beam current) 和加热功率 \(P_c\) 的关系如下:</p>
    <p><img src="/_img/reading/sem/beam-current-and-heating-power.png" alt="/_img/reading/sem/beam-current-and-heating-power.png" /></p>
    <p>(Fig.2.3. 一个自对中 (auto-biased) 热发射电子枪
      发射电流 \(I_c\) (cathode emission current) 和加热功率 \(P_c\) 的关系,
      以及其交叉斑的一个演示. )</p>
  </li>
  <li><span style="text-decoration:underline;">交错斑 (crossover)</span>
    <p>为了获得最小的交叉斑, 应在 \(I_c - P_c\) 接近转折点的位置.</p>
    <p>在交错斑处的电流密度近似满足高斯关系 (Gaussian profile):</p>
    <p>\[j(r) = j_0 \mathrm{exp}[- (\frac{r}{r_0})^2]\]</p>
    <p>其中 \(r_0 &cong; 10 &sim; 50 &mu; m\).</p>
    <p>在最佳工作点位之后, 一个过热的电子枪, 会导致电子枪的使用时长缩短;
      并且加热功率 \(P_c\) 过大也会导致交错斑减少;
      在最佳工作点位之前, 一个过冷的电子枪, 会导致交错斑发散 (非聚焦).</p>
  </li>
  <li><span style="text-decoration:underline;">初始发射动量</span> (\(\boldsymbol{p}\))
    <p>电子枪的初始发射动量满足 Maxwell 的分布, 会导致发射的电子能量的一个 \(&Delta; E\).</p>
  </li>
  <li><span style="text-decoration:underline;">电子枪亮度</span> (\(&beta;\))
    <p>单位立体角上的电流密度: \(&beta; = \frac{&Delta; I}{&Delta; S &Delta; &Omega;} = \frac{j}{&pi; &alpha;^2} = \mathrm{const}\),</p>
    <p>\[&beta;_{\mathrm{max}} = \frac{j_c}{&pi;} [1 + \frac{E}{k T_c} (1 + \frac{E}{2 E_0})] &cong; \frac{j_c E}{&pi; k T_c}\]</p>
    <p>对于钨灯丝来说, \(E = 25keV, T_c = 2700K\), \(&beta; = (0.3 &sim; 2) &times; 10^4 A cm^{-2} sr^{-1}\),
      (这个数值对于 \(\mathrm{LaB}_6\) 约要大 10 到 20 倍).</p>
  </li>
  <li><span style="text-decoration:underline;">探针电流 (electron probe current)</span> (\(I_p\))</li>
</ul>
<h3>Schottky-Emission Guns</h3>
<h3>Field-Emission Guns</h3>
<h3>Measurement of Gun Parameters</h3>
<p>电子枪的交错斑的影响因素:</p>
<ul>
  <li>阴极和栅极之间的高度 (一个可能的 <a href="https://iopscience.iop.org/article/10.1088/1674-1137/40/5/057003">参考</a>)</li>
  <li>工作电流 \(I_c\) 和工作功率 \(P_c\) (在工作曲线上的那个折点的选择)</li>
</ul>
<p><img src="/_img/reading/sem/measurement-of-electronic-gun-parameters.png" alt="/_img/reading/sem/measurement-of-electronic-gun-parameters.png" /></p>
<p>测量判断光强 \(&beta; = \frac{j}{&Delta; &Omega;}\) 的方法大致有如上三种:
  (原理上都需要测量 \(&Delta; I, &Delta; S, &Delta; &Omega;\))</p>
<ul>
  <li><b>Two-diaphragm Method</b>
    <ul>
      <li>一级光阑直径 \(d_1 &rarr; &Delta; S = \frac{&pi; d_1^2}{4}\), 需要满足其直径小于交错斑</li>
      <li>二级光阑直径 \(d_2 &rarr; &Delta; &Omega; = \frac{&pi; d_2^2}{4 l^2}\), 距离一级光阑的距离 \(l = 10 &sim; 50 cm\).</li>
      <li>电流 \(&Delta; I\) 通过法拉第笼来测量</li>
    </ul>
  </li>
  <li><b>Crossover-projection Method</b></li>
</ul>
<p>前两种方法不能用于 Schottky 和场发射的枪, 因为其源的尺寸较小.</p>
<ul>
  <li><b>Electron-probe Diameter</b></li>
</ul>
<h2>Electron Optics</h2>
<h3>Focal Length of an Electron Lens</h3>
<p>磁透镜的一个示意图:</p>
<p><img src="/_img/reading/sem/electronic-optical.png" alt="/_img/reading/sem/electronic-optical.png" /></p>
<details><summary>图片的一些说明</summary>
<ul>
  <li>一个比较简单的线圈形式如 Fig 2.6 所示,
    其中 \(p\) 和 \(q\) 分别为物距和像距.</li>
  <li>在一个稍微更加详细一点的示意图中 \(S_1\) 和 \(S_2\) 为扫描线圈.</li>
  <li>可以将最终的出射电子束近似为从 \(Z\) 处发射的点粒子.</li>
</ul>
</details>
<p>轴对称场中, 利用 \(&nabla; &sdot; \boldsymbol{B} = 0\), 可以有 \(B_r = - \frac{r}{2} &part;_z B_z\),
  应当有受 Lorentz 力 \(\boldsymbol{F} = - e (\boldsymbol{E} + \boldsymbol{v} &times; \boldsymbol{B})\).
  目标是计算交错斑 P 经过透镜系统有得到的新的交错斑 Q 的位置.
  因为在 SEM 中的透镜往往都是弱透镜 (? normally weak,
  我个人认为应该是近轴条件), 所以可以用类似光学的焦距公式:
  \(\frac{1}{f} = \frac{1}{p} + \frac{1}{q}\) 和放大率 \(M = \frac{q}{p}\) 来进行表示.</p>
<p>并且有近似公式:</p>
<p>\[\frac{1}{f} = \frac{e}{8 m U} &int;_{- &infin;}^{+ &infin;} B_z^2 \mathrm{d}z\]</p>
<p>而磁透镜会引入一个旋转量:</p>
<p>\[\varphi = \sqrt{\frac{e}{8 m_0 U}} &int;_{- &infin;}^{+ &infin;} B_z \mathrm{d}z\]</p>
<p>对于 Fig. 2.6 中的钟形磁场分布, 有近似公式:</p>
<p>\[f = \frac{2a}{&pi; k^2}, \varphi = &pi; k \ \mathrm{for}\ k^2 = \frac{e B_0^2 a^2}{8 m U} \ll 1\]</p>
<p>其中, \(a\) 为最大磁场强度 \(B_0\) 的半宽长度.
  \(k\) 表示了一个无量纲的透镜参数, 其衡量了磁透镜的强度.</p>
<ul>
  <li><b>物镜设计</b>
    <ul>
      <li>探射电子束经过的最后一个磁线圈被称为 <span style="text-decoration:underline;">物镜</span></li>
      <li>一般物镜的 ploepiece 会设计得较小一些,
        防止磁场影响样品区域.
        <p>其他的透镜可能会设计得较长一些,
          以能够往里面塞偏转线圈 \(S_1\) 和 \(S_2\). (见 Fig 2.7)</p>
        <p>(关于间隙宽度 \(S\) 对磁场的影响, 见 Fig 2.8. )</p>
      </li>
      <li>常见的工作距离 \(w\) 在 \(5 &sim; 20 mm\) 之间.</li>
      <li>一般为了能够在物镜下挂载各种探测器,
        会将其形状 (polepiece face) 设计为锥形,
        且其平整部分的开孔直径约 \(10 &sim; 20 mm\).</li>
      <li>物镜光阑应当能够让最后一束出射光顺利射出而不会受到衍射的影响.</li>
    </ul>
  </li>
</ul>
<h3>Lens Aberrations</h3>
<p>误差分析和修正:</p>
<p><img src="/_img/reading/sem/lenses-abberrations.png" alt="/_img/reading/sem/lenses-abberrations.png" /></p>
<ul>
  <li><b>Spherical Aberration</b> (球差)
    <p>(如果能有个动画来演示波前的移动就好了,
      简单的解释就是, 对于从一点发出的波前会形成球面,
      而透镜为平面, 从球面到平面上会有一个相位差, 反之同理,
      从透镜平面没法汇聚到一个焦点上, 所以会有球差.)</p>
    <p>对 Gaussian 成像平面, 即近轴光线 (paraxial rays) 的焦平面,
      其宽度为: \(2 C_s &alpha;^3\), 而在光束最小处的直径为:</p>
    <p>\[d_s = 0.5 C_s &alpha;^3\]</p>
    <p>其中 \(&alpha;\) 为由光阑约束的半角宽度, 可以通过改变物镜的光阑大小来改变;
      (对于 SEM 中使用的弱透镜 (? Weak lenses), 在较远的工作距离中会引入较大的球差),
      球差参数大约是 \(C_s = 20 &sim; 100 mm\), 并且其随着 \(f^3\) 进行变化,
      有近似公式 (\(a\) 为上文中的磁场半宽):</p>
    <p>\[C_s &cong; \frac{3 f^3}{4 a^2}\]</p>
    <p>球差系数 \(C_s\) 可以通过测量在物镜光阑移动到偏轴情况时的像的位移来得到.</p>
  </li>
  <li><b>Chromatic Aberration</b> (色散)
    <p>因为焦距和能量有关, 所以在 \(&Delta; E\) 的能量差下,
      由于焦距差异导致的最小光束宽度为 (对于 \(k^2 \ll 1\)):</p>
    <p>\[d_c = C_c \frac{&Delta; E}{E} &alpha;\]</p>
    <p>其中 \(C_c\) 为色散系数.</p>
    <p>色散往往是由于加速电压的波动引入的:</p>
    <p>\[\frac{&Delta; f}{f} = \frac{&Delta; U}{U} + 2 \frac{&Delta; I}{I}\]</p>
    <p>所以为了减少色散, 应使得 \(\frac{&Delta; U}{U}\) 和 \(2 \frac{&Delta; I}{I}\) 项都小于
      \(\frac{&Delta; E}{E} &cong; 10^{-4}\) 的一个波动. (因为 \(\frac{&Delta; E}{E}\) 在低能量时受到能量变化影响更明显,
      所以对于低能 LVSEM 情况下, 可能会需要通过一系列的电磁四极子来进行修正.)</p>
    <p>色散常数 \(C_c\) 可以通过在光阑不在轴中心时测量加速电压变化时,
      图像的一个偏移量来得到.</p>
  </li>
  <li><b>Axial Astigmatism</b> (轴向像散)
    <p>磁场在磁导管 (ploepiece) 中不均匀的分布,
      如椭圆型 (非圆) 的磁导管, 于是就会导致不同方向上焦距的不同:</p>
    <p>\[&Delta; f_A = \left| F_s - F_m \right|, d_A = &Delta; f_A &alpha;\]</p>
    <p>其中 \(d_A\) 为光束极细处的直径.</p>
    <p>轴向像散可以通过一对在磁导管间隙的四极子透镜 (quadrupole lenses) 来修正.</p>
  </li>
  <li><b>Diffraction Error</b> (衍射误差)
    <p>物镜光阑会产生圆孔衍射斑, 于是衍射斑有半宽:</p>
    <p>\[d_d = 0.6 &lambda; / &alpha;\]</p>
    <p>其中 \(&lambda;\) 为电子波长.</p>
  </li>
  <li><b>Correction of Lens Aberrations</b>
    <ul>
      <li>如 coma (彗差), distortion (畸变), 和离轴误差 (non-axial errors),
        可以通过一个傍轴的电子束和一个小的光阑使得 \(&alpha; \leq 20 m rad\)</li>
      <li>可以通过增加 \(E\) 来减少 \(\frac{&Delta; E}{E}\) 来减少色差.</li>
      <li>引入四极子可以来消球差和色差</li>
    </ul>
  </li>
</ul>
<h3>Special Designs of Objective Lenses</h3>
<ul>
  <li><b>In-Lens Operation</b></li>
  <li><b>Single-Polepiece Lenses</b></li>
  <li><b>Combinations with Electrostatic Fields</b></li>
  <li><b>Miniaturized SEM</b></li>
</ul>
<h3>Geometric Optical Theory of Electron-Probe Formation</h3>
<ul>
  <li><b>缩小率</b>
    <p>通过计算交错斑在多个透镜叠加 (demagnification 缩小) 后的直径 \(d_0\),
      即得到最终照射在样品上的探测电流的直径
      (认为每一个透镜中间产生的交叉斑图像 (crossover image),
      就紧接着被下一个透镜放大, 但是认为是有一个较远的物距 \(L\),
      也就是认为这样的距离 \((\frac{1}{f} - \frac{1}{L})^{-1} &cong; f\), 于是对于一个三透镜系统):</p>
    <p>\[d_0 = \frac{f_1 f_2 f_3}{L_1 L_2 L_3} d_c = m d_c\]</p>
    <p>其中 \(m \ll 1\) 为 <span style="text-decoration:underline;">缩小率</span>.</p>
  </li>
  <li><b>透镜尺寸估计</b>
    <p>对于热发射电子枪 \(d_c &cong; 20 &sim; 50 &mu; m\), 若需要使得探针直径 \(d_0 \leq 10 nm\),
      即缩小倍率 \(m \leq 1 / 5000\), 于是需要 \(\frac{f_i}{L_i} &cong; (\frac{1}{5000})^{1/3} &cong; \frac{1}{17}\).
      若 \(f_i = 5mm\), 那么最小两个透镜之间距离也需要 \(3 L_i &cong; 25 cm\).</p>
    <p>对于 Schottky 或者场致发射的电子枪, 因为可以有更小的交错斑 (\(&lt; 10nm\)),
      所以即使只有一个物镜, 也能够达到更加 \(d_0 &cong; 1nm\) 的效果.</p>
  </li>
  <li><b>透镜光阑半径估计</b>
    <p>物镜光阑半径 \(r\) 影响探针尺度 \(&alpha;_p\), 在一阶近似下有公式:</p>
    <p>\[&alpha;_p = r / f\]</p>
    <p>对于实际情况, 若光阑外有磁场泄漏, \(&alpha;_p\) 可能会有一些不同.
      对于光阑参数 \(10 &sim; 20 mrad\) 量级, \(f &cong; 5 &sim; 20 mm\) 的结果,
      其光阑直径约为 \(50 &sim; 200 &mu; m\).</p>
    <p>一般为了得到一个好的信噪比, 需要有至少 \(I_p \geq 10^{-12} &sim; 10^{-11}A\),
      一般对应的光阑量级约为 \(d_{\mathrm{min}} &cong; 10 nm\), 以及 \(&alpha;_{\mathrm{opt}} &cong; 5 &sim; 10 mrad\).</p>
    <p>当工作距离 \(w\) 在 \(10mm\) 的情况下,
      对应的物镜光阑直径约为 \(2 r &cong; 2 &alpha;_P w = 50 &sim; 100 &mu; m\).</p>
  </li>
  <li><b>探针电流估计</b>
    <p><img src="/_img/reading/sem/an-example-of-ray-in-lenses.png" alt="/_img/reading/sem/an-example-of-ray-in-lenses.png" /></p>
    <p>\[j_P = &pi; &beta; &alpha;_P^2 &rArr; I_p = \frac{&pi;}{4} d_0^2 j_P\]</p>
    <p>其中, \(&beta;\) 为枪的亮度参数 \(&beta; = \frac{j}{&Delta; &Omega;}\), \(j = \frac{&Delta; I}{&Delta; S}\).</p>
  </li>
  <li><b>探针直径和成像误差</b>
    <p>对于成像得到的探针直径:</p>
    <p>\[d_0 = \sqrt{\frac{4 I_p}{&pi;^2 &beta;}} &alpha;_P^{-1} = C_0 &alpha;_P^{-1}\]</p>
    <p>在对光斑大小的影响参数 \(d_s, d_c, d_d\):</p>
    <p>\[d_P^2 = d_0^2 + d_d^2 + d_s^2 + d_c^2
      = [C_0^2 + (0.6 &lambda;)^2] &alpha;_P^{-2} + \frac{1}{4} C_s^2 &alpha;_s^2 + (C_c \frac{&Delta; E}{E})^2 &alpha;_P^2\]</p>
    <p><img src="/_img/reading/sem/changes-of-the-diameter-parameters.png" alt="/_img/reading/sem/changes-of-the-diameter-parameters.png" /></p>
    <ul>
      <li>一般在使用热发射的阴极的时候, 需要使得 \(C_0 \gg &lambda;\), 即使得衍射误差可以被忽略.</li>
      <li>除了 \(C_0\) 项作为主导因素, \(C_s\) (球差) 也是比较重要的一项,
        (\(C_c\) 随着高的加速电压而减少).</li>
      <li>较小的光阑直径可以用来增加景深 (depth of focus),
        较大的可以增强流强 (probe current),
        但是不论是哪一种, 探针电流的直径都会增强并且会使得分辨率下降.</li>
      <li>在张角 \(&alpha;_p &lt; &alpha;_{\mathrm{opt}}\) 时, 有 \(d_p \propto &alpha;_p^3\),
        所以球差在在实际中会起一个比较并不是很大的作用,
        (because the real beam profile is then not Gaussian but consists of a peak
        and a broad background.)</li>
      <li>最佳张角 \(&alpha;_{\mathrm{opt}}\) 可以通过 \(\frac{&part; d_p}{&part; &alpha;_p} = 0\) 时计算得到的 \(&alpha;_p = &alpha;_{\mathrm{opt}}\):
        <p>\[&alpha;_{\mathrm{opt}} = (\frac{4}{3})^{\frac{1}{8}} (\frac{C_0}{C_s})^{\frac{1}{4}}\]</p>
      </li>
    </ul>
    <ul>
      <li>在最佳张角时, 应有探针直径的最小值 \(d_{p, \mathrm{min}}\):
        <p>\[d_{p, \mathrm{min}} = (\frac{4}{3})^{\frac{3}{8}} (C_0^3 C_s)^{\frac{1}{4}}\]</p>
      </li>
      <li>从中可以解得 \(I_p\), 即最佳探测电流:
        <p>\[I_{p, \mathrm{max}} = \frac{3 &pi;^2}{16} &beta; C_s^{- \frac{2}{3}} d_{p, \mathrm{min}}^{\frac{8}{3}}\]</p>
        <p>注: 在 Schottky 或场致发射电子枪来说, 其波长 \(&lambda;\) 在比 \(C_0\) 更大,
          因为其亮度 \(&beta;\) 更高, 所以可以得到一个更小的 \(d_p\). 对于场致发射电子枪,
          其电流强度有公式 \(I_{p, \mathrm{max}} = c d_{p, \mathrm{min}}^{\frac{2}{3}}\),
          其中 \(c\) 为一个和电子枪电极和磁线圈球差有关的一个常数.</p>
        <p>[只能说某种程度来说, 真的是一开始了解的不多, 现在就十分的后悔.
          不过对于热发射电子枪, 其好处是能够在较大的探针下, 有较高的电流. ]</p>
      </li>
      <li>总结来说, 了解 <span style="text-decoration:underline;">焦距 \(f\)</span>, <span style="text-decoration:underline;">工作距离 \(w\)</span>,
        <ul>
          <li>对于一组最终的张角设置, \(&alpha;_p\) 随 \(f^{-1}\) 减少;</li>
          <li>对于相差和球差, 分别相对 \(f^3\) 和 \(f\) 增加,
            其系数 \(C_s\) 和 \(C_c\) 和 \(f\) 与 \(w\) 差不多无关.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<h3>Wave-Optical Theory of Electron-Probe Formation</h3>
<p>对于热发射电子枪, 波动光学项的部分可以暂时忽略;
  对于 Schottky 和场致发射电子枪倒需要更进一步的考虑.</p>
<p>[但是我们用的又不是这俩, 到时候再说吧&#8230;
  我波动光学不能说一窍不通, 学得乱七八糟肯定是的了.]</p>
<h2>Electron Beam Deflection Modes</h2>
<p><img src="/_img/reading/sem/deflection-designs.png" alt="/_img/reading/sem/deflection-designs.png" /></p>
<details><summary>关于图片的一些说明</summary>
<ul>
  <li>一般因为电偏转所需要的高压过高, 不方便使用, 所以往往采用磁透镜的设计
    <p>对于 \(20keV\) 量极的电子, 在偏转角约为 \(&epsilon; = 5^{&circ;} &cong; 0.1 rad\) 时,
      若电场距离 \(h = 1 cm\), 偏转电场约为 \(| \boldsymbol{E} | = u / d = 20kV\),
      此时约需 \(u = &plusmn; 2kV\) 的偏转电压;
      类似的, 对于 \(B = 10^{-2} T\) 的磁场, 在相同的偏转要求下,
      约需要 \(N I = 20 A &sdot; \mathrm{cols}\) 的量级.</p>
    <p>(因为要的电流比较小 \(N=200, I = 0.1A\), 所以在磁偏转线圈的设计上比较轻松.)</p>
  </li>
  <li>磁透镜的两种设计中:
    <ul>
      <li>a. 图中的设计, 需要在其中加入铁芯</li>
      <li>b. 图中的设计, 是一种不需要铁芯的设计, 其线圈形状为马鞍面</li>
    </ul>
  </li>
</ul>
</details>
<h3>Electron Beam Deflection by Transverse Fields</h3>
<p>在经过电场偏转 (Fig. 2.17) 或者是磁场偏转 (Fig. 2.18),
  假设认为飞行时间 \(&Delta; T = \frac{h}{v}\) 很短, 并且不考虑垂直偏转方向上的运动的影响.
  即在偏转方向上获得的动量约为 \(p_x = e (E_x + v B_y) &Delta; T\).
  于是偏转角 \(&epsilon;\) 约为:</p>
<p>\[&epsilon; = \frac{e h}{m v^2} E_x = \frac{h}{2d} \frac{u}{U} \frac{1 + E/E_0}{1 + E/2E_0}\]</p>
<p>(其中 \(u\) 为偏转的电压)</p>
<p>或者是</p>
<p>\[&epsilon; = \frac{e h}{m v} B_y = \frac{e h B_y}{[2 m_0 E(1 + E/2E_0)]^{1/2}}\]</p>
<h3>Scanning, Magnification and Rocking</h3>
<p>两对偏转透镜 \(S_1\) 和 \(S_2\) 用于在 \(x\) 和 \(y\) 方向上产生偏转,
  令偏转扫描的区域线度为 \(b\), 在显示器上的线度 \(W_B\),
  于是整体的放大倍率:</p>
<p>\[M = \frac{W_B:\ \mathrm{Width}\ B\ \mathrm{of}\ \mathrm{the}\ \mathrm{CRT}}{b:\ \mathrm{Width}\ b\ \mathrm{of}\ \mathrm{the}\ \mathrm{scanned}\ \mathrm{area}}\]</p>
<ul>
  <li>为了减少衍射对成像的影响, 偏转后的光束应当仍然落在物镜光阑内.</li>
</ul>
<h3>Electron Beam Blanking and Chopping</h3>
<h2>Focusing</h2>
<h3>Focusing and Correction of Astigmatism</h3>
<h3>Depth of Focus</h3>
<h3>Dynamic and Automatic Focusing</h3>
<h1>整体光路设计</h1>
<p>来一个简单的计算包:</p>
<div class="highlight"><pre><span></span><span class="c1">;;; SEM-Calculate Package</span>
<span class="p">(</span><span class="nf">defpackage</span><span class="w"> </span><span class="nv">:sem-calculate</span>
<span class="w">  </span><span class="p">(</span><span class="nf">:use</span><span class="w"> </span><span class="nv">:cl</span><span class="p">))</span>

<span class="c1">;;; The following code are in SEM-Calculate Package</span>
<span class="p">(</span><span class="nf">in-package</span><span class="w"> </span><span class="nv">:sem-calculate</span><span class="p">)</span>
</pre></div>
<p>没啥花里胡哨的目标, 就是为了能够辅助我来做一些简单的计算.</p>
<p>[Note: 程序没有写完, bug 仍需增长. 代码在 <a href="/_img/reading/sem/electron-optic-design.lisp">此</a> 下载, 能不能跑不太好说&#8230; ]</p>
<h2>一些基本的计算操作</h2>
<p>这些基本的计算操作是为了能够拓展我写代码的方法,
  如果你并不感兴趣, 那么可以跳过这一节, 我先把它给折叠了.</p>
<p>[Note: 并且这个基本还都在早期开发, 所以也是折叠的一个原因. ]</p>
<details><summary>点我展开</summary>
<p>突然发现这个部分写得并不是非常通用, 完全就是一个为了该项目的一个特化程序.
  和我之前想要到的代数系统还是有点距离的&#8230;</p>
<h3>单位</h3>
<p>(暂时没有时间写)</p>
<h3>积分和微分</h3>
<h4>离散积分</h4>
<p>目前实现的离散积分通过两个点的矩形条积分, 梯形积分.</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">discreate-integrate</span><span class="w"> </span><span class="p">(</span><span class="nf">points</span><span class="w"> </span><span class="nv">&amp;key</span><span class="w"> </span><span class="p">(</span><span class="nf">method</span><span class="w"> </span><span class="ss">&#39;trapezoid</span><span class="p">))</span>
<span class="w">  </span><span class="s">&quot;Discreat integrate the POINTS, which would be like a list of points.</span>

<span class="s">Methods are `rectangle&#39;, `trapezoid&#39; </span>
<span class="s">or other possible function for `point1&#39;, `point2&#39;.</span>
<span class="s">Points are like `(x . y)&#39;.</span>

<span class="s">+ rectangle                + trapezoid</span>

<span class="s">  |             +            |          ...+</span>
<span class="s">  |     +-------|            |     +#######|</span>
<span class="s">  |     |#######|            |    /|#######|</span>
<span class="s">  |     |#######|            |   /#|#######|</span>
<span class="s">  | +---|#######|            |  +##|#######|</span>
<span class="s">  +---------------           +---------------</span>

<span class="s">or if you provide a custom function, it should calculate the</span>
<span class="s">area defined by two points.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="nf">labels</span><span class="w"> </span><span class="p">((</span><span class="nf">rectangle</span><span class="w"> </span><span class="p">(</span><span class="nf">point1</span><span class="w"> </span><span class="nv">point2</span><span class="p">)</span>
<span class="w">             </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">x1</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">y1</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span>
<span class="w">                   </span><span class="p">(</span><span class="nf">x2</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point2</span><span class="p">)))</span>
<span class="w">               </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">y1</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="nv">x2</span><span class="w"> </span><span class="nv">x1</span><span class="p">))))</span>
<span class="w">           </span><span class="p">(</span><span class="nf">trapezoid</span><span class="w"> </span><span class="p">(</span><span class="nf">point1</span><span class="w"> </span><span class="nv">point2</span><span class="p">)</span>
<span class="w">             </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">x1</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">y1</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span>
<span class="w">                   </span><span class="p">(</span><span class="nf">x2</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point2</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">y2</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point2</span><span class="p">)))</span>
<span class="w">               </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="nv">y2</span><span class="w"> </span><span class="nv">y1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="nv">x2</span><span class="w"> </span><span class="nv">x1</span><span class="p">))</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span>
<span class="w">           </span><span class="p">(</span><span class="nf">iter</span><span class="w"> </span><span class="p">(</span><span class="nf">points</span><span class="w"> </span><span class="nv">method</span><span class="p">)</span>
<span class="w">             </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="nv">points</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">                 </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nf">funcall</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="nv">points</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="nv">points</span><span class="p">))</span>
<span class="w">                    </span><span class="p">(</span><span class="nf">iter</span><span class="w"> </span><span class="p">(</span><span class="nf">rest</span><span class="w"> </span><span class="nv">points</span><span class="p">)</span><span class="w"> </span><span class="nv">method</span><span class="p">))</span>
<span class="w">                 </span><span class="mi">0</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">iter</span><span class="w"> </span><span class="nv">points</span><span class="w"> </span><span class="p">(</span><span class="k">cond</span><span class="w"> </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="ss">&#39;rectangle</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;rectangle</span><span class="p">)</span>
<span class="w">                       </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="ss">&#39;trapezoid</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;trapezoid</span><span class="p">)</span>
<span class="w">                       </span><span class="p">(</span><span class="nf">t</span><span class="w"> </span><span class="nv">method</span><span class="p">)))))</span>
</pre></div>
<p>为了减少误差, 可以增加每次的采样点, 使得采样点能够数量更多 (\(&gt; 2\)),
  于是就能够增加精度. (注: <a href="https://mathworld.wolfram.com/Newton-CotesFormulas.html">Boole's Rule</a> 的表可以在 Wolfram MathWorld 上找到)</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">discreate-integrate-dx</span><span class="w"> </span><span class="p">(</span><span class="nf">fs</span><span class="w"> </span><span class="nv">dx</span><span class="w"> </span><span class="nv">&amp;key</span><span class="w"> </span><span class="p">(</span><span class="nf">sample</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="s">&quot;Discreate integrate of POINTS using SAMPLE number.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">series</span>
<span class="w">          </span><span class="p">(</span><span class="k">cond</span><span class="w"> </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1/2</span><span class="w">    </span><span class="mi">1/2</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1/3</span><span class="w">    </span><span class="mi">4/3</span><span class="w">     </span><span class="mi">1/3</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">3/8</span><span class="w">    </span><span class="mi">9/8</span><span class="w">     </span><span class="mi">9/8</span><span class="w">     </span><span class="mi">3/8</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">14/45</span><span class="w">  </span><span class="mi">64/45</span><span class="w">   </span><span class="mi">8/15</span><span class="w">    </span><span class="mi">64/45</span><span class="w">   </span><span class="mi">14/45</span><span class="p">))</span>
<span class="w">                </span><span class="p">((</span><span class="nf">eq</span><span class="w"> </span><span class="nv">sample</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">95/288</span><span class="w"> </span><span class="mi">375/288</span><span class="w"> </span><span class="mi">250/288</span><span class="w"> </span><span class="mi">250/288</span><span class="w"> </span><span class="mi">375/288</span><span class="w"> </span><span class="mi">95/288</span><span class="p">))</span>
<span class="w">                </span><span class="p">(</span><span class="nf">t</span><span class="w">              </span><span class="p">(</span><span class="nb">throw</span><span class="w"> </span><span class="ss">&#39;user</span><span class="w"> </span><span class="s">&quot;Unsupported sample.&quot;</span><span class="p">)))))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">labels</span><span class="w"> </span><span class="p">((</span><span class="nf">iter</span><span class="w"> </span><span class="p">(</span><span class="nf">points</span><span class="p">)</span>
<span class="w">               </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;=</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="nv">points</span><span class="p">)</span><span class="w"> </span><span class="nv">sample</span><span class="p">)</span>
<span class="w">                   </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="p">(</span><span class="nb">reduce</span>
<span class="w">                       </span><span class="o">#</span><span class="ss">&#39;+</span>
<span class="w">                       </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nf">k</span><span class="w"> </span><span class="nv">f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">k</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="nv">dx</span><span class="p">))</span><span class="w"> </span><span class="nv">series</span>
<span class="w">                                      </span><span class="p">(</span><span class="nf">subseq</span><span class="w"> </span><span class="nv">points</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">sample</span><span class="p">)))</span>
<span class="w">                      </span><span class="p">(</span><span class="nf">iter</span><span class="w"> </span><span class="p">(</span><span class="nf">nthcdr</span><span class="w"> </span><span class="p">(</span><span class="nb">1-</span><span class="w"> </span><span class="nv">sample</span><span class="p">)</span><span class="w"> </span><span class="nv">points</span><span class="p">)))</span>
<span class="w">                   </span><span class="mi">0</span><span class="p">)))</span>
<span class="w">      </span><span class="p">(</span><span class="nf">iter</span><span class="w"> </span><span class="nv">fs</span><span class="p">))))</span>
</pre></div>
<p>唯一的一个缺点就是在当前问题中可能并不能用&#8230; 并且那个表格也不是很美观.</p>
<p>(并且这个应该并不是我需要专注的一个问题, 所以)</p>
<h4>离散微分</h4>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">discreate-differential</span><span class="w"> </span><span class="p">(</span><span class="nf">point1</span><span class="w"> </span><span class="nv">point2</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Discreate differential of two points POINT1 and POINT2.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">y1</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">x1</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point1</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nf">y2</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point2</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nf">x2</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point2</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="nv">y2</span><span class="w"> </span><span class="nv">y1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="nv">x2</span><span class="w"> </span><span class="nv">x1</span><span class="p">))))</span>
</pre></div>
</details>
<h2>目标是能够根据所需放大率 (缩小率 \(m\)) 来设计光路 [几何光学程度]</h2>
<p>不要笑我没有文化, 因为懒得搞波动光学, 这里就简单先用几何光学的程度凑合一下先.</p>
<p>最终缩小率 (demagnification rate) 为 \(m\):</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">demagnification-rate</span><span class="w"> </span><span class="p">(</span><span class="nf">&amp;rest</span><span class="w"> </span><span class="nv">lens</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Given a set of LENS, return the demagnification rate of the crossover.</span>

<span class="s">The calculation equation is described below when object distance is large enough:</span>

<span class="s">           f1 * f2 * ... * fn</span>
<span class="s">    d0 = ---------------------- * dc = m * dc</span>
<span class="s">           L1 * L2 * ... * Ln</span>

<span class="s">where the `m&#39; is the demagnification rate, `dc&#39; is the crossover of the gun,</span>
<span class="s">`d0&#39; is the final electron probe diameter (with 0 rank aberration). &quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">focal-length</span><span class="w">   </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;len-focal-length</span><span class="w">    </span><span class="nv">lens</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nf">large-distance</span><span class="w"> </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;len-work-distance</span><span class="w"> </span><span class="nv">lens</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;*</span><span class="w"> </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nf">f</span><span class="w"> </span><span class="nv">L</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="nv">L</span><span class="p">))</span>
<span class="w">                        </span><span class="nv">focal-length</span>
<span class="w">                        </span><span class="nv">large-distance</span><span class="p">))))</span>
</pre></div>
<p>一些设计的思考:</p>
<ul>
  <li>目前是需要根据已有的透镜信息去组建一个透镜系统,
    而这样的透镜系统却还有很多的信息是
    <ul>
      <li>虽然不知道但是 <b>可以 (比较快) 测量</b> 的:
        <ul>
          <li>[ ] 电子枪的电流和功率关系 \(&rarr;\) 最佳工作点 <a href="nameref:defun-find-opt-heating-power-point">find-opt-heating-power-point</a></li>
          <li>[ ] 正常工作电子枪 \(&rarr;\) 测量电子枪亮度 \(&beta;\) <a href="nameref:defun-measure-gun-brightness-two-diaphragm">measure-gun-brightness-two-diaphragm</a></li>
          <li>[ ] 透镜设计 \(&rarr;\) 轴上磁场 \(&rarr;\) 焦距 \(f\) <a href="nameref:defun-calculate-focal-length-by">calculate-focal-length-by</a></li>
          <li>[ ] 目标缩小倍率 \(m \overset{f_i}{&rarr;} L_i\) 透镜距离</li>
          <li>[ ] 电子枪亮度 \(&beta; &rarr;\) 目标工作的探针电流 \(I_p \overset{I_p = j_p &Delta; &Omega;}{&rarr;}\) 光阑参数 \(&alpha;_p \overset{f}{&rarr;} r\) 光阑半径</li>
        </ul>
      </li>
      <li>不知道也不太方便测量, 需要进一步调研的:
        <ul>
          <li>电子枪的交叉斑 \(d_c\) (虽然目前还不清楚如何测量, 但是肯定需要先得到转折点).
            <p>原则上来说, 阴极和栅极之间的高度会影响交错斑,
              那么对于目前电子枪设计确定的情况下, 应该是一个确定的,
              待测量的量.</p>
            <p>假如在粗略的量级估计的话, 那么就目前假设为 \(d_c = 50&mu; m\)</p>
          </li>
          <li></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<h2>一些部件的说明</h2>
<h3>(热发射) 电子枪的信息的处理</h3>
<ul>
  <li>工作电流 \(I_c\) 和工作功率 \(P_c\) 的工作曲线
    <p>需要测量电子枪工作时候的工作电流和两端电压,</p>
    <table>
      <tr><th>工作电流 \(I_c\)</th><th>工作电压 \(U_c\)</th><th>工作功率 \(P_c\)</th></tr>
      <tr><td></td><td></td><td></td></tr>
    </table>
    <p>绘制工作曲线并找到转折点.</p>
  <details><summary>这里认为当 \(\frac{\mathrm{d} I_c}{\mathrm{d} P_c} \simeq 0\), 即足够小的情况下, 认为达到转折点. </summary>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">find-opt-heating-power-point</span><span class="w"> </span><span class="p">(</span><span class="nf">data</span><span class="w"> </span><span class="nv">threshold</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Try to find turning point in DATA where differential is less than THRESHOLD.</span>

<span class="s">Return value are the first point found with T or last point when not found with NIL.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="nv">data</span><span class="p">)</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="nb">values</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="nv">data</span><span class="p">))</span><span class="w"> </span><span class="nv">NIL</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">((</span><span class="nf">point1</span><span class="w">   </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="nv">data</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nf">point2</span><span class="w">   </span><span class="p">(</span><span class="nb">second</span><span class="w"> </span><span class="nv">data</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nf">diff-abs</span><span class="w"> </span><span class="p">(</span><span class="nb">abs</span><span class="w"> </span><span class="p">(</span><span class="nf">discreate-differential</span><span class="w"> </span><span class="nv">point1</span><span class="w"> </span><span class="nv">point2</span><span class="p">))))</span>
<span class="w">        </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="nv">diff-abs</span><span class="w"> </span><span class="nv">threshold</span><span class="p">)</span>
<span class="w">            </span><span class="p">(</span><span class="nb">values</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point1</span><span class="p">)</span><span class="w"> </span><span class="nv">T</span><span class="p">)</span>
<span class="w">            </span><span class="p">(</span><span class="nf">find-opt-heating-power-point</span><span class="w"> </span><span class="p">(</span><span class="nf">rest</span><span class="w"> </span><span class="nv">data</span><span class="p">)</span><span class="w"> </span><span class="nv">threshold</span><span class="p">)))))</span>
</pre></div>
  </details>
  </li>
  <li>电子枪的 <span style="text-decoration:underline;">亮度</span> (\(&beta; = \frac{j}{&Delta; &Omega;}\))
    <p>当前的想法是通过双光阑法来进行测量.</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">measure-gun-brightness-two-diaphragm</span><span class="w"> </span><span class="p">(</span><span class="nf">diameter1</span><span class="w"> </span><span class="nv">diameter2</span><span class="w"> </span><span class="nb">length</span><span class="w"> </span><span class="nv">current</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Measure gun brightness with DIAMETER1, DIAMETER2, LENGTH and CURRENT.</span>

<span class="s">The gun brightness is measured by:</span>

<span class="s">       jc        ΔI           π * d1^2         π * d2^2</span>
<span class="s">  β = ---- = ---------, ΔS = ----------, ΔΩ = ----------</span>
<span class="s">       ΔΩ     ΔS * ΔΩ            4              4 * l^2</span>

<span class="s">where d1 is DIAMETER1, d2 is DIAMETER2, l is LENGTH, ΔI = CURRENT.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">ΔS</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">pi</span><span class="w"> </span><span class="nv">diameter1</span><span class="w"> </span><span class="nv">diameter1</span><span class="p">)</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nf">ΔΩ</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">pi</span><span class="w"> </span><span class="nv">diameter2</span><span class="w"> </span><span class="nv">diameter2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nb">length</span><span class="w"> </span><span class="nb">length</span><span class="p">))))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">ΔS</span><span class="w"> </span><span class="nv">ΔΩ</span><span class="p">))))</span>
</pre></div>
  </li>
  <li>电子枪的 <span style="text-decoration:underline;">交叉斑</span> (\(d_c\))</li>
</ul>
<h3>磁透镜的信息的处理</h3>
<h4>Some Conversions</h4>
<p>描述一个透镜应该需要知道的信息:</p>
<ul>
  <li>焦距 \(f\)</li>
  <li>工作距离 \(w\) (或者说 \(L\), 更加通用一点的说的话)</li>
  <li>光阑大小 \(r\) (根据光阑大小可以计算得到张角 \(&alpha;\))</li>
</ul>
<div class="highlight"><pre><span></span><span class="c1">;;; To measure a len:</span>
<span class="c1">;;;   + Focal Length</span>
<span class="c1">;;;   + Object Distance</span>
<span class="c1">;;;   + Working Distance</span>
<span class="c1">;;;   + diaphragm-radius</span>
<span class="p">(</span><span class="nf">defstruct</span><span class="w"> </span><span class="nv">len</span><span class="w"> </span><span class="nv">focal-length</span><span class="w"> </span><span class="nv">object-distance</span><span class="w"> </span><span class="nv">working-distance</span><span class="w"> </span><span class="nv">diaphragm-radius</span><span class="p">)</span>
</pre></div>
<h4>计算焦距</h4>
<p>使用近似公式来计算焦距 \(\frac{1}{f} = \frac{e}{8 m U} &int;_{-&infin;}^{+&infin;} B_z^2 \mathrm{d}z\),
  通过模拟来计算磁场在轴上的分布.</p>
<p>下面的程序主要是计算焦距 \(f\), 不过这部分感觉对实际使用没有啥大作用, 所以折叠起来了.</p>
<details><summary>Detailed Dirty Works</summary>
<p>假设有数据如下 (由下面的 COMSOL 模型计算得到,
  COMSOL 教程可见 <a href="/learning/finite-element-method/">Learning Note: COMSOL</a>):</p>
<p><img src="/_img/reading/sem/B-on-axiel.png" alt="/_img/reading/sem/B-on-axiel.png" /></p>
<p>(注: 因为这个就只是一个测试用的例子, 所以画的网格很稀疏,
  并且透镜设计也很随便. 计算文件可以从 <a href="/_img/reading/sem/Axiel-B-example.mph">这里</a> 下载.)</p>
<table>
  <tr><th>r</th><th>z</th><th>mf.Bz (T)</th><th>mf.Mr (A/m)</th><th>mf.normB (T)</th></tr>
  <tr><td>0</td><td>-10.666666666666671</td><td>1.4646716694325223E-5</td><td>0</td><td>1.4646736282555131E-5</td></tr>
  <tr><td>0</td><td>-19.999999999999986</td><td>1.462952112072278E-20</td><td>0</td><td>1.2397894072218481E-8</td></tr>
  <tr><td>0</td><td>-1.3333333333333286</td><td>5.108795667969144E-5</td><td>0</td><td>5.1105374623999824E-5</td></tr>
  <tr><td>0</td><td>8.000000000000014</td><td>1.5346787163236976E-4</td><td>0</td><td>1.5347757156018547E-4</td></tr>
  <tr><td>0</td><td>17.33333333333333</td><td>4.5491279693352224E-4</td><td>0</td><td>4.549141911877454E-4</td></tr>
  <tr><td>0</td><td>26.66666666666667</td><td>0.0012704782970466223</td><td>0</td><td>0.0012705074721924786</td></tr>
  <tr><td>0</td><td>36.00000000000002</td><td>0.0028701697952111995</td><td>0</td><td>0.0028705728135869552</td></tr>
  <tr><td>0</td><td>45.33333333333334</td><td>0.003966394239261433</td><td>0</td><td>0.00396639838522708</td></tr>
  <tr><td>0</td><td>54.66666666666671</td><td>0.002745345253223525</td><td>0</td><td>0.0027457294402619768</td></tr>
  <tr><td>0</td><td>64.00000000000004</td><td>0.0011874316185280164</td><td>0</td><td>0.0011874694904029466</td></tr>
  <tr><td>0</td><td>73.33333333333337</td><td>4.2375853085136156E-4</td><td>0</td><td>4.2375898740568704E-4</td></tr>
  <tr><td>0</td><td>82.66666666666674</td><td>1.4354038174382633E-4</td><td>0</td><td>1.4354523224501743E-4</td></tr>
  <tr><td>0</td><td>92.00000000000007</td><td>5.1276710248094924E-5</td><td>0</td><td>5.130430039449734E-5</td></tr>
  <tr><td>0</td><td>101.33333333333341</td><td>1.7112673591126424E-5</td><td>0</td><td>1.711841627443607E-5</td></tr>
  <tr><td>0</td><td>110.66666666666677</td><td>5.607168178570042E-6</td><td>0</td><td>5.6072674592129275E-6</td></tr>
  <tr><td>0</td><td>120</td><td>-1.771530382645302E-23</td><td>0</td><td>5.899865471892914E-9</td></tr>
</table>
<p>可以绘制轴上磁场:</p>
<p><img src="/_img/reading/sem/Bz-on-axiel.png" alt="/_img/reading/sem/Bz-on-axiel.png" /></p>
<p>焦距的简单积分:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">data</span><span class="w"> </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nf">row</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">row</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">row</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">row</span><span class="p">))))</span>
<span class="w">                    </span><span class="nv">bz-on-axial</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="nf">discreate-integrate</span><span class="w"> </span><span class="nv">data</span><span class="w"> </span><span class="nv">:method</span><span class="w"> </span><span class="ss">&#39;trapezoid</span><span class="p">))</span>
</pre></div>
<pre class="example">
0.00032637385
</pre>
<details><summary>关于数据的读取</summary>
<p>当前我并没有写一个很好的数据读取的一个操作,
  因为我目前还不是很了解 Common Lisp 中的正则表达式和文件读取,
  尽管应该不麻烦, 暂时还就是直接用 Org-Mode 中的表格来实现吧&#8230;
  毕竟太麻烦了.</p>
<p>(有空再补充&#8230; )</p>
</details>
<p>于是可以计算得到最终的一个焦距表达式:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">calculate-focal-length-by</span><span class="w"> </span><span class="p">(</span><span class="nf">bz-points</span><span class="w"> </span><span class="nv">acc-U</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Provide BZ-POINTS on axial and accelerate voltage ACC-U (in SI Unit).</span>

<span class="s">The focal length is calculated by:</span>

<span class="s">    1         e         + ∞   </span>
<span class="s">   --- = ----------- * ∫ Bz² dz</span>
<span class="s">    f     8 * m * U   - ∞</span>

<span class="s">to approximate, integration will only integrate at the provide BZ-POINTS,</span>
<span class="s">which means BZ-POINTS shall be prefixed with a start and end or the start</span>
<span class="s">and end point value is small enough to omit.</span>

<span class="s">All the parameters provided should be in SI Unit. </span>
<span class="s">     e                                        C</span>
<span class="s">The --- having the value: 1.758820024x10⁺¹¹ -----.</span>
<span class="s">     m                                        kg</span>

<span class="s">The functions returns f.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">((</span><span class="nf">bz-square</span><span class="w"> </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nf">point</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="nv">point</span><span class="p">)</span>
<span class="w">                                                  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="nv">point</span><span class="p">))))</span>
<span class="w">                            </span><span class="nv">bz-points</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nf">int-bz-square</span><span class="w"> </span><span class="p">(</span><span class="nf">discreate-integrate</span><span class="w"> </span><span class="nv">bz-square</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nf">charge-to-mass-ratio</span><span class="w"> </span><span class="mf">1.758820024E+11</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">int-bz-square</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="nv">charge-to-mass-ratio</span>
<span class="w">                             </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="nv">acc-U</span><span class="p">))))))</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">bz-points</span><span class="w"> </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nf">row</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">row</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">row</span><span class="p">)))</span><span class="w"> </span><span class="nv">bz-on-axial</span><span class="p">))</span>
<span class="w">      </span><span class="p">(</span><span class="nf">acc-U</span><span class="w">     </span><span class="mi">5000</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="nf">calculate-focal-length-by</span><span class="w"> </span><span class="nv">bz-points</span><span class="w"> </span><span class="nv">acc-U</span><span class="p">))</span>
</pre></div>
<pre class="example">
0.0006968524
</pre>
<p>(注: 大约是 \(0.6mm\) 量级的一个透镜, 显然这个结果是不太好的&#8230; )</p>
</details>
<h4>磁透镜的误差估计</h4>
<h3>如何达到最佳工作的工作条件</h3>
<ul>
  <li>若只有一级透镜 (仅有物镜), 则 \(L = \frac{f}{m}\)
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">measure-len-by-demagnification-rate</span><span class="w"> </span><span class="p">(</span><span class="nf">m</span><span class="w"> </span><span class="nv">len</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Return a new len by LEN parameters maximizing demagnification rate M. </span>

<span class="s">The working distance L (or w) is calculated by L = f / m, </span>
<span class="s">where f is the focal length, m is the demagnification rate.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">((</span><span class="nf">new</span><span class="w"> </span><span class="p">(</span><span class="nf">copy-structure</span><span class="w"> </span><span class="nv">len</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nf">mR</span><span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">m</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">m</span><span class="p">)</span><span class="w"> </span><span class="nv">m</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nf">f</span><span class="w">   </span><span class="p">(</span><span class="nf">len-focal-length</span><span class="w"> </span><span class="nv">new</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nf">L</span><span class="w">   </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="nv">mR</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">setf</span><span class="w"> </span><span class="p">(</span><span class="nf">len-object-distance</span><span class="w"> </span><span class="nv">new</span><span class="p">)</span><span class="w"> </span><span class="nv">L</span><span class="p">)</span>
<span class="w">    </span><span class="nv">new</span><span class="p">))</span>
</pre></div>
  </li>
  <li>考虑中间透镜, 应满足误差最小</li>
  <li>若有两级即以上透镜, (显然, 只有最后一级 (物镜) 的工作距离是可调的),
    对于非最后一级透镜, 选择使得误差最小的透镜参数.
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">measure-lens-by-demagnification-rate</span><span class="w"> </span><span class="p">(</span><span class="nf">m</span><span class="w"> </span><span class="nv">&amp;rest</span><span class="w"> </span><span class="nv">lens</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Return a list of new LENS to archive the demagnification rate M.</span>

<span class="s">Since the demagnification rate m is calculated by:</span>

<span class="s">       f1 * f2 * ... * fn</span>
<span class="s">  m = --------------------</span>
<span class="s">       L1 * L2 * ... * Ln</span>

<span class="s">if there&#39;s only one (object) len, its object length shall be f / L, </span>
<span class="s">or if there&#39;s more than one lens, they shall archieve the minimum aberraation.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">len</span><span class="w"> </span><span class="p">(</span><span class="nb">first</span><span class="w"> </span><span class="nv">lens</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">null</span><span class="w"> </span><span class="p">(</span><span class="nf">rest</span><span class="w"> </span><span class="nv">lens</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="p">(</span><span class="nf">measure-len-by-demagnification-rate</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">len</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="p">(</span><span class="nf">measure-len-by-aberration</span><span class="w"> </span><span class="nv">len</span><span class="p">)</span>
<span class="w">              </span><span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;measure-lens-by-demagnification-rate</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="nv">next-m</span><span class="w"> </span><span class="p">(</span><span class="nf">rest</span><span class="w"> </span><span class="nv">lens</span><span class="p">)))))))</span>
</pre></div>
  </li>
</ul>
<h3>想要知道最终的探针的直径 (probe current diameter)</h3>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span><span class="w"> </span><span class="nv">electron-probe-aperture</span><span class="w"> </span><span class="p">(</span><span class="nf">len</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;The electron probe aperture ɑₚ is calculated by r/f.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nf">r</span><span class="w"> </span><span class="p">(</span><span class="nf">diaphram-radius-of</span><span class="w"> </span><span class="nv">len</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nf">f</span><span class="w"> </span><span class="p">(</span><span class="nf">focal-length-of</span><span class="w">    </span><span class="nv">len</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="nv">f</span><span class="p">)))</span>
</pre></div>

  </div><a class="u-url" href="/learning/scanning-electron-microscopy/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My Blog</li><li><a class="u-email" href="mailto:thebigbigwordl@qq.com">thebigbigwordl@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/li-yiyang"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">li-yiyang</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>某不知名的很硬的双非学校的物理系学生的无聊博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
