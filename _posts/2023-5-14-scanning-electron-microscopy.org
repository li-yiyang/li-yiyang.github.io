#+layout: post
#+title: Scanning Electron Microscopy
#+date: 2023-05-14
#+options: _:nil ^:nil
#+math: true
#+categories: learning
* About
å‚è€ƒçš„èµ„æ–™ä¸º Scanning Electron Microscopy, Ludwig Reimer çš„å‰ä¸¤ç« . 

#+begin_quote
The aim of this book is to outline the physics of image formation,
electron-specimen interactions, imaging modes, the interpretation of
micrographs and the use of quantitative modes in
scanning electron microscopy (SEM). 
#+end_quote

ä¸‹é¢é»˜è®¤æ— æ ‡è®°çš„éƒ½æ˜¯å¼•ç”¨è¯¥ä¹¦çš„å†…å®¹. éƒ¨åˆ†å›¾ç‰‡æœ‰ä¸€äº›æ ‡æ³¨. 

è¯»ä¹¦çš„ç›®æ ‡åœ¨äºå¿«é€Ÿå…¥é—¨å¹¶å¸®åŠ©æˆ‘èƒ½è®¾è®¡ä¸€ä¸ªæ€»ä½“çš„ä¸€ä¸ªå…‰è·¯ ğŸ¥².

* Overview
ä¸€ä¸ªæ€»ä½“ç»“æ„çš„ç¤ºæ„å›¾:

[[{{ site.github.url }}/_img/reading/sem/principle-of-sem.png]]
    
** ç”µå­æª Electron Guns
[[{{ site.github.url }}/_img/reading/sem/potential-barrier.png]]
+ *é˜´æ Cathode*
  + é˜´æ _ç”µå‹_ å¯èƒ½çš„å€¼ä» \(0.1keV\) åˆ° \(5keV\) (ä½å‹ LVSEM), æˆ–è€…åˆ° \(50keV\).
  + åœ¨æªä¸­æœ€å°çš„å…‰æŸäº¤å‰çš„åŒºåŸŸå«åš _crossover_ (äº¤å‰æ–‘).

    #+begin_quote
    The smallest beam cross-section at the gun - the crossover.
    #+end_quote

    å…¶é‡çº§å¯¹äºçƒ­å‘å°„ç”µå­æª (thermionic emission) åº”åœ¨ \(10 \sim 50 \mu m\) é™„è¿‘;
    å¯¹äº Schottky å’Œåœºå‘å°„ (field-emission) ç”µå­æª, åº”åœ¨ \(10 \sim 100 nm\) é™„è¿‘.
  + ç»è¿‡äºŒåˆ°ä¸‰æé€é•œç³»ç»Ÿçš„èšç„¦, _æ¢æµ‹ç”µå­æŸçš„å®½åº¦_ åº”å½“åœ¨ \(1 \sim 10 nm\),
    å…¶åœ¨æ ·å“è¡¨é¢ _ç…§å°„ç”µæµå¼ºåº¦_ çº¦ \(10^{-9} \sim 10^{-12} A\) é‡æ.
  + è‹¥éœ€è¦è¾ƒé«˜æµå¼º \(\simeq 10^{-8}A\), æ¢æµ‹ç”µå­æŸçš„å®½åº¦çº¦ \(\simeq 0.1 \mu m\).
+ *å·¥ä½œè·ç¦» working distance*
  + åœ¨æ¢æµ‹æ ·æœ¬ (specimen) å’Œæœ€ä½çš„ polepiece (æç‰‡? ) çš„è·ç¦»ä¸ºå·¥ä½œè·ç¦».
  + é€šå¸¸çš„è·ç¦»çº¦ä¸º _æ•°æ¯«ç±³æˆ–è€…æ•°å˜ç±³_, æ ¹æ®ä¸åŒçš„æ¨¡å¼çš„è·ç¦»ä¸åŒ.

*** çƒ­å‘å°„ç”µå­æª thermionic Electron Guns
[[{{ site.github.url }}/_img/reading/sem/thermionic-gun-structure.png]]

é€šè¿‡åŠ çƒ­ (åŠŸå‡½æ•° \(\phi_w\)) ä½¿å¾—ç”µå­å…‹å¤ \(E_F\) Fermi èƒ½çº§çš„æŸç¼šç„¶åè¢«æŠ›å‡º.
åœ¨é˜´æå’Œé˜³æä¹‹é—´çš„åŠ é€Ÿç”µåœº \(\boldsymbol{E}\) æä¾›èƒ½é‡ \(V = - |\boldsymbol{E}| z\),
å‘å°„çš„æµå¼º (emission current density) çš„ Richardson Law:

\[j_c = A T_c^2 \mathrm{exp}(- \phi_w / k T_c)\]

å…¶ä¸­ \(A\) ä¸ºå’Œææ–™æœ‰å…³çš„å¸¸æ•°; \(T_c\) ä¸ºé˜´æå°–ç«¯çš„æ¸©åº¦;
\(k\) ä¸º Boltzmann å¸¸æ•°. 
+ _å·¥ä½œæ¸©åº¦_ å’Œ _æŸæµå¯†åº¦_

  é€šå¸¸ä¸ºäº†è¾¾åˆ°å°½å¯èƒ½å¤§çš„ç”µæµ,
  ä¼šä½¿å¾—é’ˆå°–æ¸©åº¦ç•¥åœ¨ç”µå­æªç†”ç‚¹ä¹‹ä¸‹ \(T_m\)

  å¯¹äºé’¨ (tungsten, \(\phi_w = 4.5eV, T_m = 3650K\)), å¸¸è§çš„ \(T_c = 2500 \sim 3000 K\).
  å¹¶ä¸”åœ¨ \(T_c = 2800K\) æ—¶, \(j_c \approx 3 A \cdot cm^{-2}\);

  å¯¹äº Lanthanum hexaboride \(\mathrm{LaB}_6, \phi_w = 2.7eV\), å·¥ä½œæ¸©åº¦çº¦ \(T_c = 1400 \sim 2000K\),
  å…¶ç”µæµå¯†åº¦çº¦ \(20 \sim 50 A \cdot cm^{-2}\).
+ _ç”µå­æªå¯¿å‘½_

  çº¦åœ¨ \(40 \sim 200h\) ä¹‹é—´, å–å†³äºé˜´æææ–™çš„è’¸å‘, åœ¨ç¯ä¸è¿‡ç»†æ—¶æ–­è£‚.
+ _å·¥ä½œçœŸç©ºåº¦_

  çº¦ \((1 \sim 5) \times 10^{-3}Pa\) é‡çº§çš„çœŸç©ºåº¦å¯ä»¥é˜²æ­¢ç¯ä¸æ°§åŒ–.
  æ›´é«˜çš„çœŸç©ºåº¦å¯ä»¥æé«˜å¯¿å‘½, å¦‚åœ¨ \(10^{-4}Pa\) ä¸‹, \(\mathrm{LaB}_6\) å¯è¾¾æ•°åƒå°æ—¶.
  (æ¯”å¦‚åœ¨æŠ½çœŸç©ºçš„æœºæ¢°æ³µåŸºç¡€ä¸ŠåŠ ä¸Šç¦»å­æ³µ)
+ _åŠ é€Ÿç”µå‹_ å’Œ _ç”µå­ç‰©è´¨æ³¢æ³¢é•¿_

  \(p^2 c^2 + m_0^2 c^4 = (E + m_0 c^2)^2 \Rightarrow p = \sqrt{2 m_0 E (1 + \frac{E}{2 E_0})} \Rightarrow \lambda = \frac{h}{p}\)
+ _æ …æ (Wehnelt cup)_

  æœ‰ä¸€ä¸ªå°å°çš„ç”µå‹é™ \(U_W = I_c R_W\), å…¶ä¸­ \(R_W = 1 \sim 10 M \Omega\),
  \(I_c\) ä¸ºæœ€ç»ˆç…§å°„ç”µæµ (beam current) å’ŒåŠ çƒ­åŠŸç‡ \(P_c\) çš„å…³ç³»å¦‚ä¸‹:

  [[{{ site.github.url }}/_img/reading/sem/beam-current-and-heating-power.png]]

  (Fig.2.3. ä¸€ä¸ªè‡ªå¯¹ä¸­ (auto-biased) çƒ­å‘å°„ç”µå­æª
  å‘å°„ç”µæµ \(I_c\) (cathode emission current) å’ŒåŠ çƒ­åŠŸç‡ \(P_c\) çš„å…³ç³»,
  ä»¥åŠå…¶äº¤å‰æ–‘çš„ä¸€ä¸ªæ¼”ç¤º. )
+ _äº¤é”™æ–‘ (crossover)_
  
  ä¸ºäº†è·å¾—æœ€å°çš„äº¤å‰æ–‘, åº”åœ¨ \(I_c - P_c\) æ¥è¿‘è½¬æŠ˜ç‚¹çš„ä½ç½®.

  åœ¨äº¤é”™æ–‘å¤„çš„ç”µæµå¯†åº¦è¿‘ä¼¼æ»¡è¶³é«˜æ–¯å…³ç³» (Gaussian profile):

  \[j(r) = j_0 \mathrm{exp}[- (\frac{r}{r_0})^2]\]

  å…¶ä¸­ \(r_0 \simeq 10 \sim 50 \mu m\).

  åœ¨æœ€ä½³å·¥ä½œç‚¹ä½ä¹‹å, ä¸€ä¸ªè¿‡çƒ­çš„ç”µå­æª, ä¼šå¯¼è‡´ç”µå­æªçš„ä½¿ç”¨æ—¶é•¿ç¼©çŸ­;
  å¹¶ä¸”åŠ çƒ­åŠŸç‡ \(P_c\) è¿‡å¤§ä¹Ÿä¼šå¯¼è‡´äº¤é”™æ–‘å‡å°‘;
  åœ¨æœ€ä½³å·¥ä½œç‚¹ä½ä¹‹å‰, ä¸€ä¸ªè¿‡å†·çš„ç”µå­æª, ä¼šå¯¼è‡´äº¤é”™æ–‘å‘æ•£ (éèšç„¦).
+ _åˆå§‹å‘å°„åŠ¨é‡_ (\(\boldsymbol{p}\))

  ç”µå­æªçš„åˆå§‹å‘å°„åŠ¨é‡æ»¡è¶³ Maxwell çš„åˆ†å¸ƒ, ä¼šå¯¼è‡´å‘å°„çš„ç”µå­èƒ½é‡çš„ä¸€ä¸ª \(\Delta E\).
+ _ç”µå­æªäº®åº¦_ (\(\beta\))

  å•ä½ç«‹ä½“è§’ä¸Šçš„ç”µæµå¯†åº¦: \(\beta = \frac{\Delta I}{\Delta S \Delta \Omega} = \frac{j}{\pi \alpha^2} = \mathrm{const}\),

  \[\beta_{\mathrm{max}} = \frac{j_c}{\pi} [1 + \frac{E}{k T_c} (1 + \frac{E}{2 E_0})] \simeq \frac{j_c E}{\pi k T_c}\]

  å¯¹äºé’¨ç¯ä¸æ¥è¯´, \(E = 25keV, T_c = 2700K\), \(\beta = (0.3 \sim 2) \times 10^4 A cm^{-2} sr^{-1}\),
  (è¿™ä¸ªæ•°å€¼å¯¹äº \(\mathrm{LaB}_6\) çº¦è¦å¤§ 10 åˆ° 20 å€). 
+ _æ¢é’ˆç”µæµ (electron probe current)_ (\(I_p\))

*** Schottky-Emission Guns
*** Field-Emission Guns
*** Measurement of Gun Parameters
ç”µå­æªçš„äº¤é”™æ–‘çš„å½±å“å› ç´ :
+ é˜´æå’Œæ …æä¹‹é—´çš„é«˜åº¦ (ä¸€ä¸ªå¯èƒ½çš„ [[https://iopscience.iop.org/article/10.1088/1674-1137/40/5/057003][å‚è€ƒ]])
+ å·¥ä½œç”µæµ \(I_c\) å’Œå·¥ä½œåŠŸç‡ \(P_c\) (åœ¨å·¥ä½œæ›²çº¿ä¸Šçš„é‚£ä¸ªæŠ˜ç‚¹çš„é€‰æ‹©)

[[{{ site.github.url }}/_img/reading/sem/measurement-of-electronic-gun-parameters.png]]

æµ‹é‡åˆ¤æ–­å…‰å¼º \(\beta = \frac{j}{\Delta \Omega}\) çš„æ–¹æ³•å¤§è‡´æœ‰å¦‚ä¸Šä¸‰ç§:
(åŸç†ä¸Šéƒ½éœ€è¦æµ‹é‡ \(\Delta I, \Delta S, \Delta \Omega\))

+ *Two-diaphragm Method*
  + ä¸€çº§å…‰é˜‘ç›´å¾„ \(d_1 \rightarrow \Delta S = \frac{\pi d_1^2}{4}\), éœ€è¦æ»¡è¶³å…¶ç›´å¾„å°äºäº¤é”™æ–‘
  + äºŒçº§å…‰é˜‘ç›´å¾„ \(d_2 \rightarrow \Delta \Omega = \frac{\pi d_2^2}{4 l^2}\), è·ç¦»ä¸€çº§å…‰é˜‘çš„è·ç¦» \(l = 10 \sim 50 cm\).
  + ç”µæµ \(\Delta I\) é€šè¿‡æ³•æ‹‰ç¬¬ç¬¼æ¥æµ‹é‡
+ *Crossover-projection Method*

å‰ä¸¤ç§æ–¹æ³•ä¸èƒ½ç”¨äº Schottky å’Œåœºå‘å°„çš„æª, å› ä¸ºå…¶æºçš„å°ºå¯¸è¾ƒå°.

+ *Electron-probe Diameter*

** Electron Optics
*** Focal Length of an Electron Lens
ç£é€é•œçš„ä¸€ä¸ªç¤ºæ„å›¾:

[[{{ site.github.url }}/_img/reading/sem/electronic-optical.png]]

#+begin_html
<details><summary>å›¾ç‰‡çš„ä¸€äº›è¯´æ˜</summary>
#+end_html

+ ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„çº¿åœˆå½¢å¼å¦‚ Fig 2.6 æ‰€ç¤º,
  å…¶ä¸­ \(p\) å’Œ \(q\) åˆ†åˆ«ä¸ºç‰©è·å’Œåƒè·. 
+ åœ¨ä¸€ä¸ªç¨å¾®æ›´åŠ è¯¦ç»†ä¸€ç‚¹çš„ç¤ºæ„å›¾ä¸­ \(S_1\) å’Œ \(S_2\) ä¸ºæ‰«æçº¿åœˆ.
+ å¯ä»¥å°†æœ€ç»ˆçš„å‡ºå°„ç”µå­æŸè¿‘ä¼¼ä¸ºä» \(Z\) å¤„å‘å°„çš„ç‚¹ç²’å­. 
  
#+begin_html
</details>
#+end_html

è½´å¯¹ç§°åœºä¸­, åˆ©ç”¨ \(\nabla \cdot \boldsymbol{B} = 0\), å¯ä»¥æœ‰ \(B_r = - \frac{r}{2} \partial_z B_z\),
åº”å½“æœ‰å— Lorentz åŠ› \(\boldsymbol{F} = - e (\boldsymbol{E} + \boldsymbol{v} \times \boldsymbol{B})\).
ç›®æ ‡æ˜¯è®¡ç®—äº¤é”™æ–‘ P ç»è¿‡é€é•œç³»ç»Ÿæœ‰å¾—åˆ°çš„æ–°çš„äº¤é”™æ–‘ Q çš„ä½ç½®.
å› ä¸ºåœ¨ SEM ä¸­çš„é€é•œå¾€å¾€éƒ½æ˜¯å¼±é€é•œ (? normally weak,
æˆ‘ä¸ªäººè®¤ä¸ºåº”è¯¥æ˜¯è¿‘è½´æ¡ä»¶), æ‰€ä»¥å¯ä»¥ç”¨ç±»ä¼¼å…‰å­¦çš„ç„¦è·å…¬å¼:
\(\frac{1}{f} = \frac{1}{p} + \frac{1}{q}\) å’Œæ”¾å¤§ç‡ \(M = \frac{q}{p}\) æ¥è¿›è¡Œè¡¨ç¤º.

å¹¶ä¸”æœ‰è¿‘ä¼¼å…¬å¼:

\[\frac{1}{f} = \frac{e}{8 m U} \int_{- \infty}^{+ \infty} B_z^2 \mathrm{d}z\]

è€Œç£é€é•œä¼šå¼•å…¥ä¸€ä¸ªæ—‹è½¬é‡:

\[\varphi = \sqrt{\frac{e}{8 m_0 U}} \int_{- \infty}^{+ \infty} B_z \mathrm{d}z\]

å¯¹äº Fig. 2.6 ä¸­çš„é’Ÿå½¢ç£åœºåˆ†å¸ƒ, æœ‰è¿‘ä¼¼å…¬å¼:

\[f = \frac{2a}{\pi k^2}, \varphi = \pi k \ \mathrm{for}\ k^2 = \frac{e B_0^2 a^2}{8 m U} \ll 1\]

å…¶ä¸­, \(a\) ä¸ºæœ€å¤§ç£åœºå¼ºåº¦ \(B_0\) çš„åŠå®½é•¿åº¦.
\(k\) è¡¨ç¤ºäº†ä¸€ä¸ªæ— é‡çº²çš„é€é•œå‚æ•°, å…¶è¡¡é‡äº†ç£é€é•œçš„å¼ºåº¦.

+ *ç‰©é•œè®¾è®¡*
  + æ¢å°„ç”µå­æŸç»è¿‡çš„æœ€åä¸€ä¸ªç£çº¿åœˆè¢«ç§°ä¸º _ç‰©é•œ_
  + ä¸€èˆ¬ç‰©é•œçš„ ploepiece ä¼šè®¾è®¡å¾—è¾ƒå°ä¸€äº›,
    é˜²æ­¢ç£åœºå½±å“æ ·å“åŒºåŸŸ.
    
    å…¶ä»–çš„é€é•œå¯èƒ½ä¼šè®¾è®¡å¾—è¾ƒé•¿ä¸€äº›,
    ä»¥èƒ½å¤Ÿå¾€é‡Œé¢å¡åè½¬çº¿åœˆ \(S_1\) å’Œ \(S_2\). (è§ Fig 2.7)

    (å…³äºé—´éš™å®½åº¦ \(S\) å¯¹ç£åœºçš„å½±å“, è§ Fig 2.8. )
  + å¸¸è§çš„å·¥ä½œè·ç¦» \(w\) åœ¨ \(5 \sim 20 mm\) ä¹‹é—´.
  + ä¸€èˆ¬ä¸ºäº†èƒ½å¤Ÿåœ¨ç‰©é•œä¸‹æŒ‚è½½å„ç§æ¢æµ‹å™¨,
    ä¼šå°†å…¶å½¢çŠ¶ (polepiece face) è®¾è®¡ä¸ºé”¥å½¢,
    ä¸”å…¶å¹³æ•´éƒ¨åˆ†çš„å¼€å­”ç›´å¾„çº¦ \(10 \sim 20 mm\).
  + ç‰©é•œå…‰é˜‘åº”å½“èƒ½å¤Ÿè®©æœ€åä¸€æŸå‡ºå°„å…‰é¡ºåˆ©å°„å‡ºè€Œä¸ä¼šå—åˆ°è¡å°„çš„å½±å“.
*** Lens Aberrations
è¯¯å·®åˆ†æå’Œä¿®æ­£:

[[{{ site.github.url }}/_img/reading/sem/lenses-abberrations.png]]

+ *Spherical Aberration* (çƒå·®)

  (å¦‚æœèƒ½æœ‰ä¸ªåŠ¨ç”»æ¥æ¼”ç¤ºæ³¢å‰çš„ç§»åŠ¨å°±å¥½äº†,
  ç®€å•çš„è§£é‡Šå°±æ˜¯, å¯¹äºä»ä¸€ç‚¹å‘å‡ºçš„æ³¢å‰ä¼šå½¢æˆçƒé¢,
  è€Œé€é•œä¸ºå¹³é¢, ä»çƒé¢åˆ°å¹³é¢ä¸Šä¼šæœ‰ä¸€ä¸ªç›¸ä½å·®, åä¹‹åŒç†,
  ä»é€é•œå¹³é¢æ²¡æ³•æ±‡èšåˆ°ä¸€ä¸ªç„¦ç‚¹ä¸Š, æ‰€ä»¥ä¼šæœ‰çƒå·®.)

  å¯¹ Gaussian æˆåƒå¹³é¢, å³è¿‘è½´å…‰çº¿ (paraxial rays) çš„ç„¦å¹³é¢,
  å…¶å®½åº¦ä¸º: \(2 C_s \alpha^3\), è€Œåœ¨å…‰æŸæœ€å°å¤„çš„ç›´å¾„ä¸º:

  \[d_s = 0.5 C_s \alpha^3\]

  å…¶ä¸­ \(\alpha\) ä¸ºç”±å…‰é˜‘çº¦æŸçš„åŠè§’å®½åº¦, å¯ä»¥é€šè¿‡æ”¹å˜ç‰©é•œçš„å…‰é˜‘å¤§å°æ¥æ”¹å˜;
  (å¯¹äº SEM ä¸­ä½¿ç”¨çš„å¼±é€é•œ (? Weak lenses), åœ¨è¾ƒè¿œçš„å·¥ä½œè·ç¦»ä¸­ä¼šå¼•å…¥è¾ƒå¤§çš„çƒå·®),
  çƒå·®å‚æ•°å¤§çº¦æ˜¯ \(C_s = 20 \sim 100 mm\), å¹¶ä¸”å…¶éšç€ \(f^3\) è¿›è¡Œå˜åŒ–,
  æœ‰è¿‘ä¼¼å…¬å¼ (\(a\) ä¸ºä¸Šæ–‡ä¸­çš„ç£åœºåŠå®½):

  \[C_s \simeq \frac{3 f^3}{4 a^2}\]

  çƒå·®ç³»æ•° \(C_s\) å¯ä»¥é€šè¿‡æµ‹é‡åœ¨ç‰©é•œå…‰é˜‘ç§»åŠ¨åˆ°åè½´æƒ…å†µæ—¶çš„åƒçš„ä½ç§»æ¥å¾—åˆ°. 
+ *Chromatic Aberration* (è‰²æ•£)

  å› ä¸ºç„¦è·å’Œèƒ½é‡æœ‰å…³, æ‰€ä»¥åœ¨ \(\Delta E\) çš„èƒ½é‡å·®ä¸‹,
  ç”±äºç„¦è·å·®å¼‚å¯¼è‡´çš„æœ€å°å…‰æŸå®½åº¦ä¸º (å¯¹äº \(k^2 \ll 1\)):

  \[d_c = C_c \frac{\Delta E}{E} \alpha\]

  å…¶ä¸­ \(C_c\) ä¸ºè‰²æ•£ç³»æ•°.

  è‰²æ•£å¾€å¾€æ˜¯ç”±äºåŠ é€Ÿç”µå‹çš„æ³¢åŠ¨å¼•å…¥çš„:

  \[\frac{\Delta f}{f} = \frac{\Delta U}{U} + 2 \frac{\Delta I}{I}\]

  æ‰€ä»¥ä¸ºäº†å‡å°‘è‰²æ•£, åº”ä½¿å¾— \(\frac{\Delta U}{U}\) å’Œ \(2 \frac{\Delta I}{I}\) é¡¹éƒ½å°äº
  \(\frac{\Delta E}{E} \simeq 10^{-4}\) çš„ä¸€ä¸ªæ³¢åŠ¨. (å› ä¸º \(\frac{\Delta E}{E}\) åœ¨ä½èƒ½é‡æ—¶å—åˆ°èƒ½é‡å˜åŒ–å½±å“æ›´æ˜æ˜¾,
  æ‰€ä»¥å¯¹äºä½èƒ½ LVSEM æƒ…å†µä¸‹, å¯èƒ½ä¼šéœ€è¦é€šè¿‡ä¸€ç³»åˆ—çš„ç”µç£å››æå­æ¥è¿›è¡Œä¿®æ­£.)

  è‰²æ•£å¸¸æ•° \(C_c\) å¯ä»¥é€šè¿‡åœ¨å…‰é˜‘ä¸åœ¨è½´ä¸­å¿ƒæ—¶æµ‹é‡åŠ é€Ÿç”µå‹å˜åŒ–æ—¶,
  å›¾åƒçš„ä¸€ä¸ªåç§»é‡æ¥å¾—åˆ°. 
+ *Axial Astigmatism* (è½´å‘åƒæ•£)

   ç£åœºåœ¨ç£å¯¼ç®¡ (ploepiece) ä¸­ä¸å‡åŒ€çš„åˆ†å¸ƒ,
   å¦‚æ¤­åœ†å‹ (éåœ†) çš„ç£å¯¼ç®¡, äºæ˜¯å°±ä¼šå¯¼è‡´ä¸åŒæ–¹å‘ä¸Šç„¦è·çš„ä¸åŒ:

   \[\Delta f_A = \left| F_s - F_m \right|, d_A = \Delta f_A \alpha\]

   å…¶ä¸­ \(d_A\) ä¸ºå…‰æŸæç»†å¤„çš„ç›´å¾„.

   è½´å‘åƒæ•£å¯ä»¥é€šè¿‡ä¸€å¯¹åœ¨ç£å¯¼ç®¡é—´éš™çš„å››æå­é€é•œ (quadrupole lenses) æ¥ä¿®æ­£. 
+ *Diffraction Error* (è¡å°„è¯¯å·®)

  ç‰©é•œå…‰é˜‘ä¼šäº§ç”Ÿåœ†å­”è¡å°„æ–‘, äºæ˜¯è¡å°„æ–‘æœ‰åŠå®½:

  \[d_d = 0.6 \lambda / \alpha\]

  å…¶ä¸­ \(\lambda\) ä¸ºç”µå­æ³¢é•¿. 
+ *Correction of Lens Aberrations*
  + å¦‚ coma (å½—å·®), distortion (ç•¸å˜), å’Œç¦»è½´è¯¯å·® (non-axial errors),
    å¯ä»¥é€šè¿‡ä¸€ä¸ªå‚è½´çš„ç”µå­æŸå’Œä¸€ä¸ªå°çš„å…‰é˜‘ä½¿å¾— \(\alpha \leq 20 m rad\)
  + å¯ä»¥é€šè¿‡å¢åŠ  \(E\) æ¥å‡å°‘ \(\frac{\Delta E}{E}\) æ¥å‡å°‘è‰²å·®.
  + å¼•å…¥å››æå­å¯ä»¥æ¥æ¶ˆçƒå·®å’Œè‰²å·®
*** Special Designs of Objective Lenses
+ *In-Lens Operation*
+ *Single-Polepiece Lenses*
+ *Combinations with Electrostatic Fields*
+ *Miniaturized SEM*
  
*** Geometric Optical Theory of Electron-Probe Formation
+ *ç¼©å°ç‡*
  
  é€šè¿‡è®¡ç®—äº¤é”™æ–‘åœ¨å¤šä¸ªé€é•œå åŠ  (demagnification ç¼©å°) åçš„ç›´å¾„ \(d_0\),
  å³å¾—åˆ°æœ€ç»ˆç…§å°„åœ¨æ ·å“ä¸Šçš„æ¢æµ‹ç”µæµçš„ç›´å¾„
  (è®¤ä¸ºæ¯ä¸€ä¸ªé€é•œä¸­é—´äº§ç”Ÿçš„äº¤å‰æ–‘å›¾åƒ (crossover image),
  å°±ç´§æ¥ç€è¢«ä¸‹ä¸€ä¸ªé€é•œæ”¾å¤§, ä½†æ˜¯è®¤ä¸ºæ˜¯æœ‰ä¸€ä¸ªè¾ƒè¿œçš„ç‰©è· \(L\),
  ä¹Ÿå°±æ˜¯è®¤ä¸ºè¿™æ ·çš„è·ç¦» \((\frac{1}{f} - \frac{1}{L})^{-1} \simeq f\), äºæ˜¯å¯¹äºä¸€ä¸ªä¸‰é€é•œç³»ç»Ÿ):

  \[d_0 = \frac{f_1 f_2 f_3}{L_1 L_2 L_3} d_c = m d_c\]

  å…¶ä¸­ \(m \ll 1\) ä¸º _ç¼©å°ç‡_. 
+ *é€é•œå°ºå¯¸ä¼°è®¡*
  
  å¯¹äºçƒ­å‘å°„ç”µå­æª \(d_c \simeq 20 \sim 50 \mu m\), è‹¥éœ€è¦ä½¿å¾—æ¢é’ˆç›´å¾„ \(d_0 \leq 10 nm\),
  å³ç¼©å°å€ç‡ \(m \leq 1 / 5000\), äºæ˜¯éœ€è¦ \(\frac{f_i}{L_i} \simeq (\frac{1}{5000})^{1/3} \simeq \frac{1}{17}\).
  è‹¥ \(f_i = 5mm\), é‚£ä¹ˆæœ€å°ä¸¤ä¸ªé€é•œä¹‹é—´è·ç¦»ä¹Ÿéœ€è¦ \(3 L_i \simeq 25 cm\).

  å¯¹äº Schottky æˆ–è€…åœºè‡´å‘å°„çš„ç”µå­æª, å› ä¸ºå¯ä»¥æœ‰æ›´å°çš„äº¤é”™æ–‘ (\(< 10nm\)),
  æ‰€ä»¥å³ä½¿åªæœ‰ä¸€ä¸ªç‰©é•œ, ä¹Ÿèƒ½å¤Ÿè¾¾åˆ°æ›´åŠ  \(d_0 \simeq 1nm\) çš„æ•ˆæœ.
+ *é€é•œå…‰é˜‘åŠå¾„ä¼°è®¡*
  
  ç‰©é•œå…‰é˜‘åŠå¾„ \(r\) å½±å“æ¢é’ˆå°ºåº¦ \(\alpha_p\), åœ¨ä¸€é˜¶è¿‘ä¼¼ä¸‹æœ‰å…¬å¼:

  \[\alpha_p = r / f\]

  å¯¹äºå®é™…æƒ…å†µ, è‹¥å…‰é˜‘å¤–æœ‰ç£åœºæ³„æ¼, \(\alpha_p\) å¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒ.
  å¯¹äºå…‰é˜‘å‚æ•° \(10 \sim 20 mrad\) é‡çº§, \(f \simeq 5 \sim 20 mm\) çš„ç»“æœ,
  å…¶å…‰é˜‘ç›´å¾„çº¦ä¸º \(50 \sim 200 \mu m\).
  
  ä¸€èˆ¬ä¸ºäº†å¾—åˆ°ä¸€ä¸ªå¥½çš„ä¿¡å™ªæ¯”, éœ€è¦æœ‰è‡³å°‘ \(I_p \geq 10^{-12} \sim 10^{-11}A\),
  ä¸€èˆ¬å¯¹åº”çš„å…‰é˜‘é‡çº§çº¦ä¸º \(d_{\mathrm{min}} \simeq 10 nm\), ä»¥åŠ \(\alpha_{\mathrm{opt}} \simeq 5 \sim 10 mrad\).
  
  å½“å·¥ä½œè·ç¦» \(w\) åœ¨ \(10mm\) çš„æƒ…å†µä¸‹,
  å¯¹åº”çš„ç‰©é•œå…‰é˜‘ç›´å¾„çº¦ä¸º \(2 r \simeq 2 \alpha_P w = 50 \sim 100 \mu m\).
+ *æ¢é’ˆç”µæµä¼°è®¡*

  [[{{ site.github.url }}/_img/reading/sem/an-example-of-ray-in-lenses.png]]

  \[j_P = \pi \beta \alpha_P^2 \Rightarrow I_p = \frac{\pi}{4} d_0^2 j_P\]

  å…¶ä¸­, \(\beta\) ä¸ºæªçš„äº®åº¦å‚æ•° \(\beta = \frac{j}{\Delta \Omega}\), \(j = \frac{\Delta I}{\Delta S}\).
+ *æ¢é’ˆç›´å¾„å’Œæˆåƒè¯¯å·®*

  å¯¹äºæˆåƒå¾—åˆ°çš„æ¢é’ˆç›´å¾„:
  
  \[d_0 = \sqrt{\frac{4 I_p}{\pi^2 \beta}} \alpha_P^{-1} = C_0 \alpha_P^{-1}\]

  åœ¨å¯¹å…‰æ–‘å¤§å°çš„å½±å“å‚æ•° \(d_s, d_c, d_d\):

  \[d_P^2 = d_0^2 + d_d^2 + d_s^2 + d_c^2
  = [C_0^2 + (0.6 \lambda)^2] \alpha_P^{-2} + \frac{1}{4} C_s^2 \alpha_s^2 + (C_c \frac{\Delta E}{E})^2 \alpha_P^2\]

  [[{{ site.github.url }}/_img/reading/sem/changes-of-the-diameter-parameters.png]]
  
  + ä¸€èˆ¬åœ¨ä½¿ç”¨çƒ­å‘å°„çš„é˜´æçš„æ—¶å€™, éœ€è¦ä½¿å¾— \(C_0 \gg \lambda\), å³ä½¿å¾—è¡å°„è¯¯å·®å¯ä»¥è¢«å¿½ç•¥.
  + é™¤äº† \(C_0\) é¡¹ä½œä¸ºä¸»å¯¼å› ç´ , \(C_s\) (çƒå·®) ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€é¡¹,
    (\(C_c\) éšç€é«˜çš„åŠ é€Ÿç”µå‹è€Œå‡å°‘). 
  + è¾ƒå°çš„å…‰é˜‘ç›´å¾„å¯ä»¥ç”¨æ¥å¢åŠ æ™¯æ·± (depth of focus),
    è¾ƒå¤§çš„å¯ä»¥å¢å¼ºæµå¼º (probe current),
    ä½†æ˜¯ä¸è®ºæ˜¯å“ªä¸€ç§, æ¢é’ˆç”µæµçš„ç›´å¾„éƒ½ä¼šå¢å¼ºå¹¶ä¸”ä¼šä½¿å¾—åˆ†è¾¨ç‡ä¸‹é™.
  + åœ¨å¼ è§’ \(\alpha_p < \alpha_{\mathrm{opt}}\) æ—¶, æœ‰ \(d_p \propto \alpha_p^3\),
    æ‰€ä»¥çƒå·®åœ¨åœ¨å®é™…ä¸­ä¼šèµ·ä¸€ä¸ªæ¯”è¾ƒå¹¶ä¸æ˜¯å¾ˆå¤§çš„ä½œç”¨,
    (because the real beam profile is then not Gaussian but consists of a peak
    and a broad background.)
  + æœ€ä½³å¼ è§’ \(\alpha_{\mathrm{opt}}\) å¯ä»¥é€šè¿‡ \(\frac{\partial d_p}{\partial \alpha_p} = 0\) æ—¶è®¡ç®—å¾—åˆ°çš„ \(\alpha_p = \alpha_{\mathrm{opt}}\):

    \[\alpha_{\mathrm{opt}} = (\frac{4}{3})^{\frac{1}{8}} (\frac{C_0}{C_s})^{\frac{1}{4}}\]
 + åœ¨æœ€ä½³å¼ è§’æ—¶, åº”æœ‰æ¢é’ˆç›´å¾„çš„æœ€å°å€¼ \(d_{p, \mathrm{min}}\):

   \[d_{p, \mathrm{min}} = (\frac{4}{3})^{\frac{3}{8}} (C_0^3 C_s)^{\frac{1}{4}}\]
 + ä»ä¸­å¯ä»¥è§£å¾— \(I_p\), å³æœ€ä½³æ¢æµ‹ç”µæµ:
   
   \[I_{p, \mathrm{max}} = \frac{3 \pi^2}{16} \beta C_s^{- \frac{2}{3}} d_{p, \mathrm{min}}^{\frac{8}{3}}\]

   æ³¨: åœ¨ Schottky æˆ–åœºè‡´å‘å°„ç”µå­æªæ¥è¯´, å…¶æ³¢é•¿ \(\lambda\) åœ¨æ¯” \(C_0\) æ›´å¤§,
   å› ä¸ºå…¶äº®åº¦ \(\beta\) æ›´é«˜, æ‰€ä»¥å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ›´å°çš„ \(d_p\). å¯¹äºåœºè‡´å‘å°„ç”µå­æª,
   å…¶ç”µæµå¼ºåº¦æœ‰å…¬å¼ \(I_{p, \mathrm{max}} = c d_{p, \mathrm{min}}^{\frac{2}{3}}\),
   å…¶ä¸­ \(c\) ä¸ºä¸€ä¸ªå’Œç”µå­æªç”µæå’Œç£çº¿åœˆçƒå·®æœ‰å…³çš„ä¸€ä¸ªå¸¸æ•°. 

   [åªèƒ½è¯´æŸç§ç¨‹åº¦æ¥è¯´, çœŸçš„æ˜¯ä¸€å¼€å§‹äº†è§£çš„ä¸å¤š, ç°åœ¨å°±ååˆ†çš„åæ‚”.
   ä¸è¿‡å¯¹äºçƒ­å‘å°„ç”µå­æª, å…¶å¥½å¤„æ˜¯èƒ½å¤Ÿåœ¨è¾ƒå¤§çš„æ¢é’ˆä¸‹, æœ‰è¾ƒé«˜çš„ç”µæµ. ]
 + æ€»ç»“æ¥è¯´, äº†è§£ _ç„¦è· \(f\)_, _å·¥ä½œè·ç¦» \(w\)_,
   + å¯¹äºä¸€ç»„æœ€ç»ˆçš„å¼ è§’è®¾ç½®, \(\alpha_p\) éš \(f^{-1}\) å‡å°‘;
   + å¯¹äºç›¸å·®å’Œçƒå·®, åˆ†åˆ«ç›¸å¯¹ \(f^3\) å’Œ \(f\) å¢åŠ ,
     å…¶ç³»æ•° \(C_s\) å’Œ \(C_c\) å’Œ \(f\) ä¸ \(w\) å·®ä¸å¤šæ— å…³.
     
*** Wave-Optical Theory of Electron-Probe Formation
å¯¹äºçƒ­å‘å°„ç”µå­æª, æ³¢åŠ¨å…‰å­¦é¡¹çš„éƒ¨åˆ†å¯ä»¥æš‚æ—¶å¿½ç•¥;
å¯¹äº Schottky å’Œåœºè‡´å‘å°„ç”µå­æªå€’éœ€è¦æ›´è¿›ä¸€æ­¥çš„è€ƒè™‘.

[ä½†æ˜¯æˆ‘ä»¬ç”¨çš„åˆä¸æ˜¯è¿™ä¿©, åˆ°æ—¶å€™å†è¯´å§...
æˆ‘æ³¢åŠ¨å…‰å­¦ä¸èƒ½è¯´ä¸€çªä¸é€š, å­¦å¾—ä¹±ä¸ƒå…«ç³Ÿè‚¯å®šæ˜¯çš„äº†.]

** Electron Beam Deflection Modes
[[{{ site.github.url }}/_img/reading/sem/deflection-designs.png]]

#+begin_html
<details><summary>å…³äºå›¾ç‰‡çš„ä¸€äº›è¯´æ˜</summary>
#+end_html

+ ä¸€èˆ¬å› ä¸ºç”µåè½¬æ‰€éœ€è¦çš„é«˜å‹è¿‡é«˜, ä¸æ–¹ä¾¿ä½¿ç”¨, æ‰€ä»¥å¾€å¾€é‡‡ç”¨ç£é€é•œçš„è®¾è®¡

  å¯¹äº \(20keV\) é‡æçš„ç”µå­, åœ¨åè½¬è§’çº¦ä¸º \(\epsilon = 5^{\circ} \simeq 0.1 rad\) æ—¶,
  è‹¥ç”µåœºè·ç¦» \(h = 1 cm\), åè½¬ç”µåœºçº¦ä¸º \(| \boldsymbol{E} | = u / d = 20kV\),
  æ­¤æ—¶çº¦éœ€ \(u = \pm 2kV\) çš„åè½¬ç”µå‹;
  ç±»ä¼¼çš„, å¯¹äº \(B = 10^{-2} T\) çš„ç£åœº, åœ¨ç›¸åŒçš„åè½¬è¦æ±‚ä¸‹,
  çº¦éœ€è¦ \(N I = 20 A \cdot \mathrm{cols}\) çš„é‡çº§.
  
  (å› ä¸ºè¦çš„ç”µæµæ¯”è¾ƒå° \(N=200, I = 0.1A\), æ‰€ä»¥åœ¨ç£åè½¬çº¿åœˆçš„è®¾è®¡ä¸Šæ¯”è¾ƒè½»æ¾.)
+ ç£é€é•œçš„ä¸¤ç§è®¾è®¡ä¸­:
  + a. å›¾ä¸­çš„è®¾è®¡, éœ€è¦åœ¨å…¶ä¸­åŠ å…¥é“èŠ¯
  + b. å›¾ä¸­çš„è®¾è®¡, æ˜¯ä¸€ç§ä¸éœ€è¦é“èŠ¯çš„è®¾è®¡, å…¶çº¿åœˆå½¢çŠ¶ä¸ºé©¬éé¢

#+begin_html
</details>
#+end_html

*** Electron Beam Deflection by Transverse Fields
åœ¨ç»è¿‡ç”µåœºåè½¬ (Fig. 2.17) æˆ–è€…æ˜¯ç£åœºåè½¬ (Fig. 2.18),
å‡è®¾è®¤ä¸ºé£è¡Œæ—¶é—´ \(\Delta T = \frac{h}{v}\) å¾ˆçŸ­, å¹¶ä¸”ä¸è€ƒè™‘å‚ç›´åè½¬æ–¹å‘ä¸Šçš„è¿åŠ¨çš„å½±å“.
å³åœ¨åè½¬æ–¹å‘ä¸Šè·å¾—çš„åŠ¨é‡çº¦ä¸º \(p_x = e (E_x + v B_y) \Delta T\).
äºæ˜¯åè½¬è§’ \(\epsilon\) çº¦ä¸º:

\[\epsilon = \frac{e h}{m v^2} E_x = \frac{h}{2d} \frac{u}{U} \frac{1 + E/E_0}{1 + E/2E_0}\]

(å…¶ä¸­ \(u\) ä¸ºåè½¬çš„ç”µå‹)

æˆ–è€…æ˜¯

\[\epsilon = \frac{e h}{m v} B_y = \frac{e h B_y}{[2 m_0 E(1 + E/2E_0)]^{1/2}}\]

*** Scanning, Magnification and Rocking
ä¸¤å¯¹åè½¬é€é•œ \(S_1\) å’Œ \(S_2\) ç”¨äºåœ¨ \(x\) å’Œ \(y\) æ–¹å‘ä¸Šäº§ç”Ÿåè½¬,
ä»¤åè½¬æ‰«æçš„åŒºåŸŸçº¿åº¦ä¸º \(b\), åœ¨æ˜¾ç¤ºå™¨ä¸Šçš„çº¿åº¦ \(W_B\),
äºæ˜¯æ•´ä½“çš„æ”¾å¤§å€ç‡:

\[M = \frac{W_B:\ \mathrm{Width}\ B\ \mathrm{of}\ \mathrm{the}\ \mathrm{CRT}}{b:\ \mathrm{Width}\ b\ \mathrm{of}\ \mathrm{the}\ \mathrm{scanned}\ \mathrm{area}}\]

+ ä¸ºäº†å‡å°‘è¡å°„å¯¹æˆåƒçš„å½±å“, åè½¬åçš„å…‰æŸåº”å½“ä»ç„¶è½åœ¨ç‰©é•œå…‰é˜‘å†….
*** Electron Beam Blanking and Chopping
** Focusing
*** Focusing and Correction of Astigmatism
*** Depth of Focus
*** Dynamic and Automatic Focusing
* æ•´ä½“å…‰è·¯è®¾è®¡
:PROPERTIES:
:header-args: :tangle ../_img/reading/sem/electron-optic-design.lisp
:END:

æ¥ä¸€ä¸ªç®€å•çš„è®¡ç®—åŒ…:

#+begin_src lisp
  ;;; SEM-Calculate Package
  (defpackage :sem-calculate
    (:use :cl))

  ;;; The following code are in SEM-Calculate Package
  (in-package :sem-calculate)
#+end_src

æ²¡å•¥èŠ±é‡Œèƒ¡å“¨çš„ç›®æ ‡, å°±æ˜¯ä¸ºäº†èƒ½å¤Ÿè¾…åŠ©æˆ‘æ¥åšä¸€äº›ç®€å•çš„è®¡ç®—.

[Note: ç¨‹åºæ²¡æœ‰å†™å®Œ, bug ä»éœ€å¢é•¿. ä»£ç åœ¨ [[{{ site.github.url }}/_img/reading/sem/electron-optic-design.lisp][æ­¤]] ä¸‹è½½, èƒ½ä¸èƒ½è·‘ä¸å¤ªå¥½è¯´... ]

** ä¸€äº›åŸºæœ¬çš„è®¡ç®—æ“ä½œ
è¿™äº›åŸºæœ¬çš„è®¡ç®—æ“ä½œæ˜¯ä¸ºäº†èƒ½å¤Ÿæ‹“å±•æˆ‘å†™ä»£ç çš„æ–¹æ³•,
å¦‚æœä½ å¹¶ä¸æ„Ÿå…´è¶£, é‚£ä¹ˆå¯ä»¥è·³è¿‡è¿™ä¸€èŠ‚, æˆ‘å…ˆæŠŠå®ƒç»™æŠ˜å äº†.

[Note: å¹¶ä¸”è¿™ä¸ªåŸºæœ¬è¿˜éƒ½åœ¨æ—©æœŸå¼€å‘, æ‰€ä»¥ä¹Ÿæ˜¯æŠ˜å çš„ä¸€ä¸ªåŸå› . ]

#+begin_html
<details><summary>ç‚¹æˆ‘å±•å¼€</summary>
#+end_html

çªç„¶å‘ç°è¿™ä¸ªéƒ¨åˆ†å†™å¾—å¹¶ä¸æ˜¯éå¸¸é€šç”¨, å®Œå…¨å°±æ˜¯ä¸€ä¸ªä¸ºäº†è¯¥é¡¹ç›®çš„ä¸€ä¸ªç‰¹åŒ–ç¨‹åº.
å’Œæˆ‘ä¹‹å‰æƒ³è¦åˆ°çš„ä»£æ•°ç³»ç»Ÿè¿˜æ˜¯æœ‰ç‚¹è·ç¦»çš„... 

*** å•ä½
(æš‚æ—¶æ²¡æœ‰æ—¶é—´å†™)

*** ç§¯åˆ†å’Œå¾®åˆ†
**** ç¦»æ•£ç§¯åˆ†
ç›®å‰å®ç°çš„ç¦»æ•£ç§¯åˆ†é€šè¿‡ä¸¤ä¸ªç‚¹çš„çŸ©å½¢æ¡ç§¯åˆ†, æ¢¯å½¢ç§¯åˆ†.

#+name: defun-discreate-integrate
#+begin_src lisp
  (defun discreate-integrate (points &key (method 'trapezoid))
    "Discreat integrate the POINTS, which would be like a list of points.

  Methods are `rectangle', `trapezoid' 
  or other possible function for `point1', `point2'.
  Points are like `(x . y)'.

  + rectangle                + trapezoid

    |             +            |          ...+
    |     +-------|            |     +#######|
    |     |#######|            |    /|#######|
    |     |#######|            |   /#|#######|
    | +---|#######|            |  +##|#######|
    +---------------           +---------------

  or if you provide a custom function, it should calculate the
  area defined by two points."
    (labels ((rectangle (point1 point2)
               (let ((x1 (car point1)) (y1 (cdr point1))
                     (x2 (car point2)))
                 (* y1 (- x2 x1))))
             (trapezoid (point1 point2)
               (let ((x1 (car point1)) (y1 (cdr point1))
                     (x2 (car point2)) (y2 (cdr point2)))
                 (/ (* (+ y2 y1) (- x2 x1)) 2)))
             (iter (points method)
               (if (> (length points) 1)
                   (+ (funcall method (first points) (second points))
                      (iter (rest points) method))
                   0)))
      (iter points (cond ((eq method 'rectangle) #'rectangle)
                         ((eq method 'trapezoid) #'trapezoid)
                         (t method)))))
#+end_src

ä¸ºäº†å‡å°‘è¯¯å·®, å¯ä»¥å¢åŠ æ¯æ¬¡çš„é‡‡æ ·ç‚¹, ä½¿å¾—é‡‡æ ·ç‚¹èƒ½å¤Ÿæ•°é‡æ›´å¤š (\(> 2\)),
äºæ˜¯å°±èƒ½å¤Ÿå¢åŠ ç²¾åº¦. (æ³¨: [[https://mathworld.wolfram.com/Newton-CotesFormulas.html][Boole's Rule]] çš„è¡¨å¯ä»¥åœ¨ Wolfram MathWorld ä¸Šæ‰¾åˆ°)

#+begin_src lisp
  (defun discreate-integrate-dx (fs dx &key (sample 2))
    "Discreate integrate of POINTS using SAMPLE number."
    (let ((series
            (cond ((eq sample 1) '(1))
                  ((eq sample 2) '(1/2    1/2))
                  ((eq sample 3) '(1/3    4/3     1/3))
                  ((eq sample 4) '(3/8    9/8     9/8     3/8))
                  ((eq sample 5) '(14/45  64/45   8/15    64/45   14/45))
                  ((eq sample 6) '(95/288 375/288 250/288 250/288 375/288 95/288))
                  (t              (throw 'user "Unsupported sample.")))))
      (labels ((iter (points)
                 (if (>= (length points) sample)
                     (+ (reduce
                         #'+
                         (mapcar (lambda (k f) (* k f dx)) series
                                        (subseq points 0 sample)))
                        (iter (nthcdr (1- sample) points)))
                     0)))
        (iter fs))))
#+end_src

å”¯ä¸€çš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨å½“å‰é—®é¢˜ä¸­å¯èƒ½å¹¶ä¸èƒ½ç”¨... å¹¶ä¸”é‚£ä¸ªè¡¨æ ¼ä¹Ÿä¸æ˜¯å¾ˆç¾è§‚. 

(å¹¶ä¸”è¿™ä¸ªåº”è¯¥å¹¶ä¸æ˜¯æˆ‘éœ€è¦ä¸“æ³¨çš„ä¸€ä¸ªé—®é¢˜, æ‰€ä»¥)

**** ç¦»æ•£å¾®åˆ†
#+begin_src lisp
  (defun discreate-differential (point1 point2)
    "Discreate differential of two points POINT1 and POINT2."
    (let ((y1 (cdr point1)) (x1 (car point1))
          (y2 (cdr point2)) (x2 (car point2)))
      (/ (- y2 y1) (- x2 x1))))
#+end_src
#+begin_html
</details>
#+end_html

** ç›®æ ‡æ˜¯èƒ½å¤Ÿæ ¹æ®æ‰€éœ€æ”¾å¤§ç‡ (ç¼©å°ç‡ \(m\)) æ¥è®¾è®¡å…‰è·¯ [å‡ ä½•å…‰å­¦ç¨‹åº¦]
ä¸è¦ç¬‘æˆ‘æ²¡æœ‰æ–‡åŒ–, å› ä¸ºæ‡’å¾—ææ³¢åŠ¨å…‰å­¦, è¿™é‡Œå°±ç®€å•å…ˆç”¨å‡ ä½•å…‰å­¦çš„ç¨‹åº¦å‡‘åˆä¸€ä¸‹å…ˆ.

æœ€ç»ˆç¼©å°ç‡ (demagnification rate) ä¸º \(m\):

#+name: defun-demagnification-rate
#+begin_src lisp
  (defun demagnification-rate (&rest lens)
    "Given a set of LENS, return the demagnification rate of the crossover.

  The calculation equation is described below when object distance is large enough:

             f1 * f2 * ... * fn
      d0 = ---------------------- * dc = m * dc
             L1 * L2 * ... * Ln

  where the `m' is the demagnification rate, `dc' is the crossover of the gun,
  `d0' is the final electron probe diameter (with 0 rank aberration). "
    (let ((focal-length   (mapcar #'len-focal-length    lens))
          (large-distance (mapcar #'len-work-distance lens)))
      (reduce #'* (mapcar (lambda (f L) (/ f L))
                          focal-length
                          large-distance))))
#+end_src

ä¸€äº›è®¾è®¡çš„æ€è€ƒ:
+ ç›®å‰æ˜¯éœ€è¦æ ¹æ®å·²æœ‰çš„é€é•œä¿¡æ¯å»ç»„å»ºä¸€ä¸ªé€é•œç³»ç»Ÿ,
  è€Œè¿™æ ·çš„é€é•œç³»ç»Ÿå´è¿˜æœ‰å¾ˆå¤šçš„ä¿¡æ¯æ˜¯
  + è™½ç„¶ä¸çŸ¥é“ä½†æ˜¯ *å¯ä»¥ (æ¯”è¾ƒå¿«) æµ‹é‡* çš„:
    + [ ] ç”µå­æªçš„ç”µæµå’ŒåŠŸç‡å…³ç³» \(\rightarrow\) æœ€ä½³å·¥ä½œç‚¹ [[nameref:defun-find-opt-heating-power-point][find-opt-heating-power-point]]
    + [ ] æ­£å¸¸å·¥ä½œç”µå­æª \(\rightarrow\) æµ‹é‡ç”µå­æªäº®åº¦ \(\beta\) [[nameref:defun-measure-gun-brightness-two-diaphragm][measure-gun-brightness-two-diaphragm]]
    + [ ] é€é•œè®¾è®¡ \(\rightarrow\) è½´ä¸Šç£åœº \(\rightarrow\) ç„¦è· \(f\) [[nameref:defun-calculate-focal-length-by][calculate-focal-length-by]]
    + [ ] ç›®æ ‡ç¼©å°å€ç‡ \(m \overset{f_i}{\rightarrow} L_i\) é€é•œè·ç¦»
    + [ ] ç”µå­æªäº®åº¦ \(\beta \rightarrow\) ç›®æ ‡å·¥ä½œçš„æ¢é’ˆç”µæµ \(I_p \overset{I_p = j_p \Delta \Omega}{\rightarrow}\) å…‰é˜‘å‚æ•° \(\alpha_p \overset{f}{\rightarrow} r\) å…‰é˜‘åŠå¾„
  + ä¸çŸ¥é“ä¹Ÿä¸å¤ªæ–¹ä¾¿æµ‹é‡, éœ€è¦è¿›ä¸€æ­¥è°ƒç ”çš„:
    + ç”µå­æªçš„äº¤å‰æ–‘ \(d_c\) (è™½ç„¶ç›®å‰è¿˜ä¸æ¸…æ¥šå¦‚ä½•æµ‹é‡, ä½†æ˜¯è‚¯å®šéœ€è¦å…ˆå¾—åˆ°è½¬æŠ˜ç‚¹).

      åŸåˆ™ä¸Šæ¥è¯´, é˜´æå’Œæ …æä¹‹é—´çš„é«˜åº¦ä¼šå½±å“äº¤é”™æ–‘,
      é‚£ä¹ˆå¯¹äºç›®å‰ç”µå­æªè®¾è®¡ç¡®å®šçš„æƒ…å†µä¸‹, åº”è¯¥æ˜¯ä¸€ä¸ªç¡®å®šçš„,
      å¾…æµ‹é‡çš„é‡.

      å‡å¦‚åœ¨ç²—ç•¥çš„é‡çº§ä¼°è®¡çš„è¯, é‚£ä¹ˆå°±ç›®å‰å‡è®¾ä¸º \(d_c = 50\mu m\)
    + 

** ä¸€äº›éƒ¨ä»¶çš„è¯´æ˜
*** (çƒ­å‘å°„) ç”µå­æªçš„ä¿¡æ¯çš„å¤„ç†
+ å·¥ä½œç”µæµ \(I_c\) å’Œå·¥ä½œåŠŸç‡ \(P_c\) çš„å·¥ä½œæ›²çº¿

  éœ€è¦æµ‹é‡ç”µå­æªå·¥ä½œæ—¶å€™çš„å·¥ä½œç”µæµå’Œä¸¤ç«¯ç”µå‹,

  #+caption: ç”µå­æªå·¥ä½œæ›²çº¿æµ‹é‡æ•°æ®è¡¨
  | å·¥ä½œç”µæµ \(I_c\) | å·¥ä½œç”µå‹ \(U_c\) | å·¥ä½œåŠŸç‡ \(P_c\) |
  |------------------+------------------+------------------|
  |                  |                  |                  |
  #+tblfm: $3 = $1 * $2;

  ç»˜åˆ¶å·¥ä½œæ›²çº¿å¹¶æ‰¾åˆ°è½¬æŠ˜ç‚¹.

  #+begin_html
  <details><summary>è¿™é‡Œè®¤ä¸ºå½“ \(\frac{\mathrm{d} I_c}{\mathrm{d} P_c} \simeq 0\), å³è¶³å¤Ÿå°çš„æƒ…å†µä¸‹, è®¤ä¸ºè¾¾åˆ°è½¬æŠ˜ç‚¹. </summary>
  #+end_html

  #+name: defun-find-opt-heating-power-point
  #+begin_src lisp
    (defun find-opt-heating-power-point (data threshold)
      "Try to find turning point in DATA where differential is less than THRESHOLD.

    Return value are the first point found with T or last point when not found with NIL."
      (if (< (length data) 2)
          (values (car (first data)) NIL)
          (let* ((point1   (first data))
                 (point2   (second data))
                 (diff-abs (abs (discreate-differential point1 point2))))
            (if (<= diff-abs threshold)
                (values (car point1) T)
                (find-opt-heating-power-point (rest data) threshold)))))
  #+end_src

  #+begin_html
  </details>
  #+end_html
+ ç”µå­æªçš„ _äº®åº¦_ (\(\beta = \frac{j}{\Delta \Omega}\))

  å½“å‰çš„æƒ³æ³•æ˜¯é€šè¿‡åŒå…‰é˜‘æ³•æ¥è¿›è¡Œæµ‹é‡.

  #+name: defun-measure-gun-brightness-two-diaphragm
  #+begin_src lisp
    (defun measure-gun-brightness-two-diaphragm (diameter1 diameter2 length current)
      "Measure gun brightness with DIAMETER1, DIAMETER2, LENGTH and CURRENT.

    The gun brightness is measured by:

           jc        Î”I           Ï€ * d1^2         Ï€ * d2^2
      Î² = ---- = ---------, Î”S = ----------, Î”Î© = ----------
           Î”Î©     Î”S * Î”Î©            4              4 * l^2

    where d1 is DIAMETER1, d2 is DIAMETER2, l is LENGTH, Î”I = CURRENT."
      (let ((Î”S (/ (* pi diameter1 diameter1) 4))
            (Î”Î© (/ (* pi diameter2 diameter2) (* 4 length length))))
        (/ current (* Î”S Î”Î©))))
  #+end_src
+ ç”µå­æªçš„ _äº¤å‰æ–‘_ (\(d_c\))
*** ç£é€é•œçš„ä¿¡æ¯çš„å¤„ç†
**** Some Conversions
æè¿°ä¸€ä¸ªé€é•œåº”è¯¥éœ€è¦çŸ¥é“çš„ä¿¡æ¯:
+ ç„¦è· \(f\)
+ å·¥ä½œè·ç¦» \(w\) (æˆ–è€…è¯´ \(L\), æ›´åŠ é€šç”¨ä¸€ç‚¹çš„è¯´çš„è¯)
+ å…‰é˜‘å¤§å° \(r\) (æ ¹æ®å…‰é˜‘å¤§å°å¯ä»¥è®¡ç®—å¾—åˆ°å¼ è§’ \(\alpha\))

#+name: defstruct-of-len
#+begin_src lisp
  ;;; To measure a len:
  ;;;   + Focal Length
  ;;;   + Object Distance
  ;;;   + Working Distance
  ;;;   + diaphragm-radius
  (defstruct len focal-length object-distance working-distance diaphragm-radius)
#+end_src

**** è®¡ç®—ç„¦è·
ä½¿ç”¨è¿‘ä¼¼å…¬å¼æ¥è®¡ç®—ç„¦è· \(\frac{1}{f} = \frac{e}{8 m U} \int_{-\infty}^{+\infty} B_z^2 \mathrm{d}z\),
é€šè¿‡æ¨¡æ‹Ÿæ¥è®¡ç®—ç£åœºåœ¨è½´ä¸Šçš„åˆ†å¸ƒ.

ä¸‹é¢çš„ç¨‹åºä¸»è¦æ˜¯è®¡ç®—ç„¦è· \(f\), ä¸è¿‡è¿™éƒ¨åˆ†æ„Ÿè§‰å¯¹å®é™…ä½¿ç”¨æ²¡æœ‰å•¥å¤§ä½œç”¨, æ‰€ä»¥æŠ˜å èµ·æ¥äº†.

#+begin_html
<details><summary>Detailed Dirty Works</summary>
#+end_html

å‡è®¾æœ‰æ•°æ®å¦‚ä¸‹ (ç”±ä¸‹é¢çš„ COMSOL æ¨¡å‹è®¡ç®—å¾—åˆ°,
COMSOL æ•™ç¨‹å¯è§ [[{{ site.github.url }}/learning/finite-element-method/][Learning Note: COMSOL]]):

[[{{ site.github.url }}/_img/reading/sem/B-on-axiel.png]]

(æ³¨: å› ä¸ºè¿™ä¸ªå°±åªæ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨çš„ä¾‹å­, æ‰€ä»¥ç”»çš„ç½‘æ ¼å¾ˆç¨€ç–,
å¹¶ä¸”é€é•œè®¾è®¡ä¹Ÿå¾ˆéšä¾¿. è®¡ç®—æ–‡ä»¶å¯ä»¥ä» [[{{ site.github.url }}/_img/reading/sem/Axiel-B-example.mph][è¿™é‡Œ]] ä¸‹è½½.)

#+name: Bz-on-axial
#+caption: ä¸€ä¸ªç®€å•çš„è½´ä¸Šç£åœº
| r |                   z |              mf.Bz (T) | mf.Mr (A/m) |          mf.normB (T) |
|---+---------------------+------------------------+-------------+-----------------------|
| 0 | -10.666666666666671 |  1.4646716694325223E-5 |           0 | 1.4646736282555131E-5 |
| 0 | -19.999999999999986 |  1.462952112072278E-20 |           0 | 1.2397894072218481E-8 |
| 0 | -1.3333333333333286 |   5.108795667969144E-5 |           0 | 5.1105374623999824E-5 |
| 0 |   8.000000000000014 |  1.5346787163236976E-4 |           0 | 1.5347757156018547E-4 |
| 0 |   17.33333333333333 |  4.5491279693352224E-4 |           0 |  4.549141911877454E-4 |
| 0 |   26.66666666666667 |  0.0012704782970466223 |           0 | 0.0012705074721924786 |
| 0 |   36.00000000000002 |  0.0028701697952111995 |           0 | 0.0028705728135869552 |
| 0 |   45.33333333333334 |   0.003966394239261433 |           0 |   0.00396639838522708 |
| 0 |   54.66666666666671 |   0.002745345253223525 |           0 | 0.0027457294402619768 |
| 0 |   64.00000000000004 |  0.0011874316185280164 |           0 | 0.0011874694904029466 |
| 0 |   73.33333333333337 |  4.2375853085136156E-4 |           0 | 4.2375898740568704E-4 |
| 0 |   82.66666666666674 |  1.4354038174382633E-4 |           0 | 1.4354523224501743E-4 |
| 0 |   92.00000000000007 |  5.1276710248094924E-5 |           0 |  5.130430039449734E-5 |
| 0 |  101.33333333333341 |  1.7112673591126424E-5 |           0 |  1.711841627443607E-5 |
| 0 |  110.66666666666677 |   5.607168178570042E-6 |           0 | 5.6072674592129275E-6 |
| 0 |                 120 | -1.771530382645302E-23 |           0 |  5.899865471892914E-9 |

å¯ä»¥ç»˜åˆ¶è½´ä¸Šç£åœº:

#+name: plot-Bz-on-axiel
#+header: :var data = Bz-on-axial
#+begin_src gnuplot :file ../_img/reading/sem/Bz-on-axiel.png :tangle no :exports none
  reset
  set title "B_{z} on Axial"
  set xlabel "z (mm)"
  set ylabel "B_{z} (T)"

  plot data u 2:3 with lines title "B_{z}"
#+end_src

#+attr_org: :width 0.618
#+RESULTS: plot-Bz-on-axiel
[[file:../_img/reading/sem/Bz-on-axiel.png]]

[[{{ site.github.url }}/_img/reading/sem/Bz-on-axiel.png]]

ç„¦è·çš„ç®€å•ç§¯åˆ†:

#+header: :var bz-on-axial = Bz-on-axial
#+begin_src lisp :tangle no :exports both
  (let ((data (mapcar (lambda (row) (cons (nth 1 row) (* (nth 2 row) (nth 2 row))))
                      bz-on-axial)))
    (discreate-integrate data :method 'trapezoid))
#+end_src

#+RESULTS:
: 0.00032637385

#+begin_html
<details><summary>å…³äºæ•°æ®çš„è¯»å–</summary>
#+end_html

å½“å‰æˆ‘å¹¶æ²¡æœ‰å†™ä¸€ä¸ªå¾ˆå¥½çš„æ•°æ®è¯»å–çš„ä¸€ä¸ªæ“ä½œ,
å› ä¸ºæˆ‘ç›®å‰è¿˜ä¸æ˜¯å¾ˆäº†è§£ Common Lisp ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å’Œæ–‡ä»¶è¯»å–,
å°½ç®¡åº”è¯¥ä¸éº»çƒ¦, æš‚æ—¶è¿˜å°±æ˜¯ç›´æ¥ç”¨ Org-Mode ä¸­çš„è¡¨æ ¼æ¥å®ç°å§...
æ¯•ç«Ÿå¤ªéº»çƒ¦äº†. 

(æœ‰ç©ºå†è¡¥å……... )

#+begin_html
</details>
#+end_html

äºæ˜¯å¯ä»¥è®¡ç®—å¾—åˆ°æœ€ç»ˆçš„ä¸€ä¸ªç„¦è·è¡¨è¾¾å¼:

#+name: defun-calculate-focal-length-by
#+begin_src lisp
  (defun calculate-focal-length-by (bz-points acc-U)
    "Provide BZ-POINTS on axial and accelerate voltage ACC-U (in SI Unit).

  The focal length is calculated by:

      1         e         + âˆ   
     --- = ----------- * âˆ« BzÂ² dz
      f     8 * m * U   - âˆ

  to approximate, integration will only integrate at the provide BZ-POINTS,
  which means BZ-POINTS shall be prefixed with a start and end or the start
  and end point value is small enough to omit.

  All the parameters provided should be in SI Unit. 
       e                                        C
  The --- having the value: 1.758820024x10âºÂ¹Â¹ -----.
       m                                        kg

  The functions returns f."
    (let* ((bz-square (mapcar (lambda (point) (cons (car point)
                                                    (* (cdr point) (cdr point))))
                              bz-points))
           (int-bz-square (discreate-integrate bz-square))
           (charge-to-mass-ratio 1.758820024E+11))
      (/ 1 (* int-bz-square (/ charge-to-mass-ratio
                               (* 8 acc-U))))))
#+end_src

#+header: :var bz-on-axial = Bz-on-axial
#+begin_src lisp :tangle no :exports both
  (let ((bz-points (mapcar (lambda (row) (cons (nth 1 row) (nth 2 row))) bz-on-axial))
        (acc-U     5000))
    (calculate-focal-length-by bz-points acc-U))
#+end_src

#+RESULTS:
: 0.0006968524

(æ³¨: å¤§çº¦æ˜¯ \(0.6mm\) é‡çº§çš„ä¸€ä¸ªé€é•œ, æ˜¾ç„¶è¿™ä¸ªç»“æœæ˜¯ä¸å¤ªå¥½çš„... )

#+begin_html
</details>
#+end_html

**** ç£é€é•œçš„è¯¯å·®ä¼°è®¡

*** å¦‚ä½•è¾¾åˆ°æœ€ä½³å·¥ä½œçš„å·¥ä½œæ¡ä»¶
+ è‹¥åªæœ‰ä¸€çº§é€é•œ (ä»…æœ‰ç‰©é•œ), åˆ™ \(L = \frac{f}{m}\)

  #+begin_src lisp
    (defun measure-len-by-demagnification-rate (m len)
      "Return a new len by LEN parameters maximizing demagnification rate M. 

    The working distance L (or w) is calculated by L = f / m, 
    where f is the focal length, m is the demagnification rate."
      (let* ((new (copy-structure len))
             (mR  (if (< 1 m) (/ 1 m) m))
             (f   (len-focal-length new))
             (L   (/ f mR)))
        (setf (len-object-distance new) L)
        new))
  #+end_src
+ è€ƒè™‘ä¸­é—´é€é•œ, åº”æ»¡è¶³è¯¯å·®æœ€å°
+ è‹¥æœ‰ä¸¤çº§å³ä»¥ä¸Šé€é•œ, (æ˜¾ç„¶, åªæœ‰æœ€åä¸€çº§ (ç‰©é•œ) çš„å·¥ä½œè·ç¦»æ˜¯å¯è°ƒçš„),
  å¯¹äºéæœ€åä¸€çº§é€é•œ, é€‰æ‹©ä½¿å¾—è¯¯å·®æœ€å°çš„é€é•œå‚æ•°.

  #+begin_src lisp
    (defun measure-lens-by-demagnification-rate (m &rest lens)
      "Return a list of new LENS to archive the demagnification rate M.

    Since the demagnification rate m is calculated by:

           f1 * f2 * ... * fn
      m = --------------------
           L1 * L2 * ... * Ln

    if there's only one (object) len, its object length shall be f / L, 
    or if there's more than one lens, they shall archieve the minimum aberraation."
      (let ((len (first lens)))
        (if (null (rest lens))
            (list (measure-len-by-demagnification-rate m len))
            (cons (measure-len-by-aberration len)
                  (apply #'measure-lens-by-demagnification-rate (cons next-m (rest lens)))))))
  #+end_src

*** æƒ³è¦çŸ¥é“æœ€ç»ˆçš„æ¢é’ˆçš„ç›´å¾„ (probe current diameter)
#+begin_src lisp
  (defun electron-probe-aperture (len)
    "The electron probe aperture É‘â‚š is calculated by r/f."
    (let ((r (diaphram-radius-of len))
          (f (focal-length-of    len)))
      (/ r f)))
#+end_src

* COMMENT LocalWords
#  LocalWords:  Reimer LocalWords micrographs SEM Schottky Wehnelt
#  LocalWords:  LVSEM polepiece hexaboride ploepiece paraxial COMSOL
#  LocalWords:  quadrupole demagnification MathWorld
